"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@builder.io";
exports.ids = ["vendor-chunks/@builder.io"];
exports.modules = {

/***/ "(rsc)/./node_modules/@builder.io/sdk/dist/index.esm.js":
/*!********************************************************!*\
  !*** ./node_modules/@builder.io/sdk/dist/index.esm.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BehaviorSubject: () => (/* binding */ BehaviorSubject),\n/* harmony export */   Builder: () => (/* binding */ Builder),\n/* harmony export */   BuilderComponent: () => (/* binding */ BuilderComponent),\n/* harmony export */   Subscription: () => (/* binding */ Subscription),\n/* harmony export */   builder: () => (/* binding */ builder),\n/* harmony export */   isBrowser: () => (/* binding */ isBrowser)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ \"(rsc)/./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var hash_sum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hash-sum */ \"(rsc)/./node_modules/hash-sum/hash-sum.js\");\n/* harmony import */ var hash_sum__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(hash_sum__WEBPACK_IMPORTED_MODULE_0__);\n\n\n(function() {\n    if (true) return false;\n    function CustomEvent(event, params) {\n        params = params || {\n            bubbles: false,\n            cancelable: false,\n            detail: null\n        };\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n    }\n    window.CustomEvent = CustomEvent;\n})();\nvar isSafari =  false && 0;\nvar isClient = \"undefined\" !== 'undefined';\n// TODO: queue all of these in a debounceNextTick\nfunction nextTick(fn) {\n    // if (typeof process !== 'undefined' && process.nextTick) {\n    //   console.log('process.nextTick?');\n    //   process.nextTick(fn);\n    //   return;\n    // }\n    // FIXME: fix the real safari issue of this randomly not working\n    if (!isClient || isSafari || typeof MutationObserver === 'undefined') {\n        setTimeout(fn);\n        return;\n    }\n    var called = 0;\n    var observer = new MutationObserver(function() {\n        return fn();\n    });\n    var element = document.createTextNode('');\n    observer.observe(element, {\n        characterData: true\n    });\n    // tslint:disable-next-line\n    element.data = String(called = ++called);\n}\nvar PROPERTY_NAME_DENY_LIST = Object.freeze([\n    '__proto__',\n    'prototype',\n    'constructor'\n]);\n// TODO: unit tests\nvar QueryString = /** @class */ function() {\n    function QueryString1() {}\n    QueryString1.parseDeep = function(queryString) {\n        var obj = this.parse(queryString);\n        return this.deepen(obj);\n    };\n    QueryString1.stringifyDeep = function(obj) {\n        var map = this.flatten(obj);\n        return this.stringify(map);\n    };\n    QueryString1.parse = function(queryString) {\n        var query = {};\n        var pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\n        for(var i = 0; i < pairs.length; i++){\n            var pair = pairs[i].split('=');\n            // TODO: node support?\n            try {\n                query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\n            } catch (error) {\n            // Ignore malformed URI components\n            }\n        }\n        return query;\n    };\n    QueryString1.stringify = function(map) {\n        var str = '';\n        for(var key in map){\n            if (map.hasOwnProperty(key)) {\n                var value = map[key];\n                if (str) {\n                    str += '&';\n                }\n                str += encodeURIComponent(key) + '=' + encodeURIComponent(value);\n            }\n        }\n        return str;\n    };\n    QueryString1.deepen = function(map) {\n        // FIXME; Should be type Tree = Record<string, string | Tree>\n        // requires a typescript upgrade.\n        var output = {};\n        for(var k in map){\n            var t = output;\n            var parts = k.split('.');\n            var key = parts.pop();\n            for(var _i = 0, parts_1 = parts; _i < parts_1.length; _i++){\n                var part = parts_1[_i];\n                assertAllowedPropertyName(part);\n                t = t[part] = t[part] || {};\n            }\n            t[key] = map[k];\n        }\n        return output;\n    };\n    QueryString1.flatten = function(obj, _current, _res) {\n        if (_res === void 0) {\n            _res = {};\n        }\n        for(var key in obj){\n            var value = obj[key];\n            var newKey = _current ? _current + '.' + key : key;\n            if (value && typeof value === 'object') {\n                this.flatten(value, newKey, _res);\n            } else {\n                _res[newKey] = value;\n            }\n        }\n        return _res;\n    };\n    return QueryString1;\n}();\nfunction assertAllowedPropertyName(name) {\n    if (PROPERTY_NAME_DENY_LIST.indexOf(name) >= 0) throw new Error(\"Property name \\\"\".concat(name, \"\\\" is not allowed\"));\n}\nvar Subscription = /** @class */ function() {\n    function Subscription1(listeners, listener) {\n        this.listeners = listeners;\n        this.listener = listener;\n        this.unsubscribed = false;\n        this.otherSubscriptions = [];\n    }\n    Object.defineProperty(Subscription1.prototype, \"closed\", {\n        get: function() {\n            return this.unsubscribed;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Subscription1.prototype.add = function(subscription) {\n        this.otherSubscriptions.push(subscription);\n    };\n    Subscription1.prototype.unsubscribe = function() {\n        if (this.unsubscribed) {\n            return;\n        }\n        if (this.listener && this.listeners) {\n            var index = this.listeners.indexOf(this.listener);\n            if (index > -1) {\n                this.listeners.splice(index, 1);\n            }\n        }\n        this.otherSubscriptions.forEach(function(sub) {\n            return sub.unsubscribe();\n        });\n        this.unsubscribed = true;\n    };\n    return Subscription1;\n}();\n// TODO: follow minimal basic spec: https://github.com/tc39/proposal-observable\nvar BehaviorSubject = /** @class */ function() {\n    function BehaviorSubject1(value) {\n        var _this = this;\n        this.value = value;\n        this.listeners = [];\n        this.errorListeners = [];\n        this.then = function() {\n            var _a;\n            var args = [];\n            for(var _i = 0; _i < arguments.length; _i++){\n                args[_i] = arguments[_i];\n            }\n            return (_a = _this.toPromise()).then.apply(_a, args);\n        };\n    }\n    BehaviorSubject1.prototype.next = function(value) {\n        this.value = value;\n        for(var _i = 0, _a = this.listeners; _i < _a.length; _i++){\n            var listener = _a[_i];\n            listener(value);\n        }\n    };\n    // TODO: implement this as PIPE instead\n    BehaviorSubject1.prototype.map = function(fn) {\n        var newSubject = new BehaviorSubject1(fn(this.value));\n        // TODO: on destroy delete these\n        this.subscribe(function(val) {\n            newSubject.next(fn(val));\n        });\n        this.catch(function(err) {\n            newSubject.error(err);\n        });\n        return newSubject;\n    };\n    BehaviorSubject1.prototype.catch = function(errorListener) {\n        this.errorListeners.push(errorListener);\n        return new Subscription(this.errorListeners, errorListener);\n    };\n    BehaviorSubject1.prototype.error = function(error) {\n        for(var _i = 0, _a = this.errorListeners; _i < _a.length; _i++){\n            var listener = _a[_i];\n            listener(error);\n        }\n    };\n    BehaviorSubject1.prototype.subscribe = function(listener, errorListener) {\n        this.listeners.push(listener);\n        if (errorListener) {\n            this.errorListeners.push(errorListener);\n        }\n        return new Subscription(this.listeners, listener);\n    };\n    BehaviorSubject1.prototype.toPromise = function() {\n        var _this = this;\n        return new Promise(function(resolve, reject) {\n            var subscription = _this.subscribe(function(value) {\n                resolve(value);\n                subscription.unsubscribe();\n            }, function(err) {\n                reject(err);\n                subscription.unsubscribe();\n            });\n        });\n    };\n    BehaviorSubject1.prototype.promise = function() {\n        return this.toPromise();\n    };\n    return BehaviorSubject1;\n}();\nvar State = {\n    Pending: 'Pending',\n    Fulfilled: 'Fulfilled',\n    Rejected: 'Rejected'\n};\nfunction isFunction(val) {\n    return val && typeof val === 'function';\n}\nfunction isObject(val) {\n    return val && typeof val === 'object';\n}\nvar TinyPromise = /** @class */ function() {\n    function TinyPromise1(executor) {\n        this._state = State.Pending;\n        this._handlers = [];\n        this._value = null;\n        executor(this._resolve.bind(this), this._reject.bind(this));\n    }\n    TinyPromise1.prototype._resolve = function(x) {\n        var _this = this;\n        if (x instanceof TinyPromise1) {\n            x.then(this._resolve.bind(this), this._reject.bind(this));\n        } else if (isObject(x) || isFunction(x)) {\n            var called_1 = false;\n            try {\n                var thenable = x.then;\n                if (isFunction(thenable)) {\n                    thenable.call(x, function(result) {\n                        if (!called_1) _this._resolve(result);\n                        called_1 = true;\n                        return undefined;\n                    }, function(error) {\n                        if (!called_1) _this._reject(error);\n                        called_1 = true;\n                        return undefined;\n                    });\n                } else {\n                    this._fulfill(x);\n                }\n            } catch (ex) {\n                if (!called_1) {\n                    this._reject(ex);\n                }\n            }\n        } else {\n            this._fulfill(x);\n        }\n    };\n    TinyPromise1.prototype._fulfill = function(result) {\n        var _this = this;\n        this._state = State.Fulfilled;\n        this._value = result;\n        this._handlers.forEach(function(handler) {\n            return _this._callHandler(handler);\n        });\n    };\n    TinyPromise1.prototype._reject = function(error) {\n        var _this = this;\n        this._state = State.Rejected;\n        this._value = error;\n        this._handlers.forEach(function(handler) {\n            return _this._callHandler(handler);\n        });\n    };\n    TinyPromise1.prototype._isPending = function() {\n        return this._state === State.Pending;\n    };\n    TinyPromise1.prototype._isFulfilled = function() {\n        return this._state === State.Fulfilled;\n    };\n    TinyPromise1.prototype._isRejected = function() {\n        return this._state === State.Rejected;\n    };\n    TinyPromise1.prototype._addHandler = function(onFulfilled, onRejected) {\n        this._handlers.push({\n            onFulfilled: onFulfilled,\n            onRejected: onRejected\n        });\n    };\n    TinyPromise1.prototype._callHandler = function(handler) {\n        if (this._isFulfilled() && isFunction(handler.onFulfilled)) {\n            handler.onFulfilled(this._value);\n        } else if (this._isRejected() && isFunction(handler.onRejected)) {\n            handler.onRejected(this._value);\n        }\n    };\n    TinyPromise1.prototype.then = function(onFulfilled, onRejected) {\n        var _this = this;\n        switch(this._state){\n            case State.Pending:\n                {\n                    return new TinyPromise1(function(resolve, reject) {\n                        _this._addHandler(function(value) {\n                            nextTick(function() {\n                                try {\n                                    if (isFunction(onFulfilled)) {\n                                        resolve(onFulfilled(value));\n                                    } else {\n                                        resolve(value);\n                                    }\n                                } catch (ex) {\n                                    reject(ex);\n                                }\n                            });\n                        }, function(error) {\n                            nextTick(function() {\n                                try {\n                                    if (isFunction(onRejected)) {\n                                        resolve(onRejected(error));\n                                    } else {\n                                        reject(error);\n                                    }\n                                } catch (ex) {\n                                    reject(ex);\n                                }\n                            });\n                        });\n                    });\n                }\n            case State.Fulfilled:\n                {\n                    return new TinyPromise1(function(resolve, reject) {\n                        nextTick(function() {\n                            try {\n                                if (isFunction(onFulfilled)) {\n                                    resolve(onFulfilled(_this._value));\n                                } else {\n                                    resolve(_this._value);\n                                }\n                            } catch (ex) {\n                                reject(ex);\n                            }\n                        });\n                    });\n                }\n            case State.Rejected:\n                {\n                    return new TinyPromise1(function(resolve, reject) {\n                        nextTick(function() {\n                            try {\n                                if (isFunction(onRejected)) {\n                                    resolve(onRejected(_this._value));\n                                } else {\n                                    reject(_this._value);\n                                }\n                            } catch (ex) {\n                                reject(ex);\n                            }\n                        });\n                    });\n                }\n        }\n    };\n    return TinyPromise1;\n}();\nvar Promise$1 = typeof Promise !== 'undefined' ? Promise : TinyPromise;\n// Webpack workaround to conditionally require certain external modules\n// only on the server and not bundle them on the client\nvar serverOnlyRequire;\ntry {\n    // tslint:disable-next-line:no-eval\n    serverOnlyRequire = eval('require');\n} catch (err) {\n    // all good\n    serverOnlyRequire = function() {\n        return null;\n    };\n}\nvar serverOnlyRequire$1 = serverOnlyRequire;\nfunction promiseResolve(value) {\n    return new Promise$1(function(resolve) {\n        return resolve(value);\n    });\n}\n// Adapted from https://raw.githubusercontent.com/developit/unfetch/master/src/index.mjs\nfunction tinyFetch(url, options) {\n    if (options === void 0) {\n        options = {};\n    }\n    return new Promise$1(function(resolve, reject) {\n        var request = new XMLHttpRequest();\n        request.open(options.method || 'get', url, true);\n        if (options.headers) {\n            for(var i in options.headers){\n                request.setRequestHeader(i, options.headers[i]);\n            }\n        }\n        request.withCredentials = options.credentials === 'include';\n        request.onload = function() {\n            resolve(response());\n        };\n        request.onerror = reject;\n        request.send(options.body);\n        function response() {\n            var keys = [];\n            var all = [];\n            var headers = {};\n            var header = undefined;\n            request.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, function(_match, _key, value) {\n                var key = _key;\n                keys.push(key = key.toLowerCase());\n                all.push([\n                    key,\n                    value\n                ]);\n                header = headers[key];\n                headers[key] = header ? \"\".concat(header, \",\").concat(value) : value;\n                return '';\n            });\n            return {\n                ok: (request.status / 100 | 0) === 2,\n                status: request.status,\n                statusText: request.statusText,\n                url: request.responseURL,\n                clone: response,\n                text: function() {\n                    return promiseResolve(request.responseText);\n                },\n                json: function() {\n                    return promiseResolve(request.responseText).then(JSON.parse);\n                },\n                blob: function() {\n                    return promiseResolve(new Blob([\n                        request.response\n                    ]));\n                },\n                headers: {\n                    keys: function() {\n                        return keys;\n                    },\n                    entries: function() {\n                        return all;\n                    },\n                    get: function(n) {\n                        return headers[n.toLowerCase()];\n                    },\n                    has: function(n) {\n                        return n.toLowerCase() in headers;\n                    }\n                }\n            };\n        }\n    });\n}\nfunction getFetch() {\n    // If fetch is defined, in the browser, via polyfill, or in a Cloudflare worker, use it.\n    var _fetch = undefined;\n    if (globalThis.fetch) {\n        _fetch !== null && _fetch !== void 0 ? _fetch : _fetch = globalThis.fetch;\n    } else if (true) {\n        // If fetch is not defined, in a Node.js environment, use node-fetch.\n        try {\n            // node-fetch@^3 is ESM only, and will throw error on require.\n            _fetch !== null && _fetch !== void 0 ? _fetch : _fetch = serverOnlyRequire$1('node-fetch');\n        } catch (e) {\n            // If node-fetch is not installed, use tiny-fetch.\n            console.warn('node-fetch is not installed. consider polyfilling fetch or installing node-fetch.');\n            console.warn(e);\n        }\n    }\n    // Otherwise, use tiny-fetch.\n    return _fetch !== null && _fetch !== void 0 ? _fetch : tinyFetch;\n}\nfunction assign(target) {\n    var to = Object(target);\n    for(var index = 1; index < arguments.length; index++){\n        var nextSource = arguments[index];\n        if (nextSource != null) {\n            // Skip over if undefined or null\n            for(var nextKey in nextSource){\n                // Avoid bugs when hasOwnProperty is shadowed\n                if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                    to[nextKey] = nextSource[nextKey];\n                }\n            }\n        }\n    }\n    return to;\n}\nfunction throttle(func, wait, options) {\n    if (options === void 0) {\n        options = {};\n    }\n    var context;\n    var args;\n    var result;\n    var timeout = null;\n    var previous = 0;\n    var later = function() {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n    };\n    return function() {\n        var now = Date.now();\n        if (!previous && options.leading === false) previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        } else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\nvar camelCaseToKebabCase = function(str) {\n    return str ? str.replace(/([A-Z])/g, function(g) {\n        return \"-\".concat(g[0].toLowerCase());\n    }) : '';\n};\nvar Animator = /** @class */ function() {\n    function Animator1() {}\n    Animator1.prototype.bindAnimations = function(animations) {\n        for(var _i = 0, animations_1 = animations; _i < animations_1.length; _i++){\n            var animation = animations_1[_i];\n            switch(animation.trigger){\n                case 'pageLoad':\n                    this.triggerAnimation(animation);\n                    break;\n                case 'hover':\n                    this.bindHoverAnimation(animation);\n                    break;\n                case 'scrollInView':\n                    this.bindScrollInViewAnimation(animation);\n                    break;\n            }\n        }\n    };\n    Animator1.prototype.warnElementNotPresent = function(id) {\n        console.warn(\"Cannot animate element: element with ID \".concat(id, \" not found!\"));\n    };\n    Animator1.prototype.augmentAnimation = function(animation, element) {\n        var stylesUsed = this.getAllStylesUsed(animation);\n        var computedStyle = getComputedStyle(element);\n        // const computedStyle = getComputedStyle(element);\n        // // FIXME: this will break if original load is in one reponsive size then resize to another hmmm\n        // Need to use transform instead of left since left can change on screen sizes\n        var firstStyles = animation.steps[0].styles;\n        var lastStyles = animation.steps[animation.steps.length - 1].styles;\n        var bothStyles = [\n            firstStyles,\n            lastStyles\n        ];\n        // FIXME: this won't work as expected for augmented animations - may need the editor itself to manage this\n        for(var _i = 0, bothStyles_1 = bothStyles; _i < bothStyles_1.length; _i++){\n            var styles = bothStyles_1[_i];\n            for(var _a = 0, stylesUsed_1 = stylesUsed; _a < stylesUsed_1.length; _a++){\n                var style = stylesUsed_1[_a];\n                if (!(style in styles)) {\n                    styles[style] = computedStyle[style];\n                }\n            }\n        }\n    };\n    Animator1.prototype.getAllStylesUsed = function(animation) {\n        var properties = [];\n        for(var _i = 0, _a = animation.steps; _i < _a.length; _i++){\n            var step = _a[_i];\n            for(var key in step.styles){\n                if (properties.indexOf(key) === -1) {\n                    properties.push(key);\n                }\n            }\n        }\n        return properties;\n    };\n    Animator1.prototype.triggerAnimation = function(animation) {\n        var _this = this;\n        // TODO: do for ALL elements\n        var elements = Array.prototype.slice.call(document.getElementsByClassName(animation.elementId || animation.id || ''));\n        if (!elements.length) {\n            this.warnElementNotPresent(animation.elementId || animation.id || '');\n            return;\n        }\n        Array.from(elements).forEach(function(element) {\n            _this.augmentAnimation(animation, element);\n            // TODO: do this properly, may have other animations of different properties\n            // TODO: only override the properties\n            // TODO: if there is an entrance and hover animation, the transition duration will get effed\n            // element.setAttribute('style', '');\n            // const styledUsed = this.getAllStylesUsed(animation);\n            element.style.transition = 'none';\n            element.style.transitionDelay = '0';\n            assign(element.style, animation.steps[0].styles);\n            // TODO: queue/batch these timeouts\n            // TODO: only include properties explicitly set in the animation\n            // using Object.keys(styles)\n            setTimeout(function() {\n                element.style.transition = \"all \".concat(animation.duration, \"s \").concat(camelCaseToKebabCase(animation.easing));\n                if (animation.delay) {\n                    element.style.transitionDelay = animation.delay + 's';\n                }\n                assign(element.style, animation.steps[1].styles);\n                // TODO: maybe remove/reset transitoin property after animation duration\n                // TODO: queue timers\n                setTimeout(function() {\n                    // TODO: what if has other transition (reset back to what it was)\n                    element.style.transition = '';\n                    element.style.transitionDelay = '';\n                }, (animation.delay || 0) * 1000 + animation.duration * 1000 + 100);\n            });\n        });\n    };\n    Animator1.prototype.bindHoverAnimation = function(animation) {\n        var _this = this;\n        // TODO: is it multiple binding when editing...?\n        // TODO: unbind on element remove\n        // TODO: apply to ALL elements\n        var elements = Array.prototype.slice.call(document.getElementsByClassName(animation.elementId || animation.id || ''));\n        if (!elements.length) {\n            this.warnElementNotPresent(animation.elementId || animation.id || '');\n            return;\n        }\n        Array.from(elements).forEach(function(element) {\n            _this.augmentAnimation(animation, element);\n            var defaultState = animation.steps[0].styles;\n            var hoverState = animation.steps[1].styles;\n            function attachDefaultState() {\n                assign(element.style, defaultState);\n            }\n            function attachHoverState() {\n                assign(element.style, hoverState);\n            }\n            attachDefaultState();\n            element.addEventListener('mouseenter', attachHoverState);\n            element.addEventListener('mouseleave', attachDefaultState);\n            // TODO: queue/batch these timeouts\n            setTimeout(function() {\n                element.style.transition = \"all \".concat(animation.duration, \"s \").concat(camelCaseToKebabCase(animation.easing));\n                if (animation.delay) {\n                    element.style.transitionDelay = animation.delay + 's';\n                }\n            });\n        });\n    };\n    // TODO: unbind on element remove\n    Animator1.prototype.bindScrollInViewAnimation = function(animation) {\n        var _this = this;\n        // TODO: apply to ALL matching elements\n        var elements = Array.prototype.slice.call(document.getElementsByClassName(animation.elementId || animation.id || ''));\n        if (!elements.length) {\n            this.warnElementNotPresent(animation.elementId || animation.id || '');\n            return;\n        }\n        // TODO: if server side rendered and scrolled into view don't animate...\n        Array.from(elements).forEach(function(element) {\n            _this.augmentAnimation(animation, element);\n            var triggered = false;\n            var pendingAnimation = false;\n            function immediateOnScroll() {\n                if (!triggered && isScrolledIntoView(element)) {\n                    triggered = true;\n                    pendingAnimation = true;\n                    setTimeout(function() {\n                        assign(element.style, animation.steps[1].styles);\n                        if (!animation.repeat) {\n                            document.removeEventListener('scroll', onScroll);\n                        }\n                        setTimeout(function() {\n                            pendingAnimation = false;\n                            if (!animation.repeat) {\n                                element.style.transition = '';\n                                element.style.transitionDelay = '';\n                            }\n                        }, (animation.duration + (animation.delay || 0)) * 1000 + 100);\n                    });\n                } else if (animation.repeat && triggered && !pendingAnimation && !isScrolledIntoView(element)) {\n                    // we want to repeat the animation every time the the element is out of view and back again\n                    triggered = false;\n                    assign(element.style, animation.steps[0].styles);\n                }\n            }\n            // TODO: roll all of these in one for more efficiency of checking all the rects\n            var onScroll = throttle(immediateOnScroll, 200, {\n                leading: false\n            });\n            // TODO: fully in view or partially\n            function isScrolledIntoView(elem) {\n                var rect = elem.getBoundingClientRect();\n                var windowHeight = window.innerHeight;\n                var thresholdPercent = (animation.thresholdPercent || 0) / 100;\n                var threshold = thresholdPercent * windowHeight;\n                // TODO: partial in view? or what if element is larger than screen itself\n                return rect.bottom > threshold && rect.top < windowHeight - threshold // Element is peeking top or bottom\n                ;\n            }\n            var defaultState = animation.steps[0].styles;\n            function attachDefaultState() {\n                assign(element.style, defaultState);\n            }\n            attachDefaultState();\n            // TODO: queue/batch these timeouts!\n            setTimeout(function() {\n                element.style.transition = \"all \".concat(animation.duration, \"s \").concat(camelCaseToKebabCase(animation.easing));\n                if (animation.delay) {\n                    element.style.transitionDelay = animation.delay + 's';\n                }\n            });\n            // TODO: one listener for everything\n            document.addEventListener('scroll', onScroll, {\n                capture: true,\n                passive: true\n            });\n            // Do an initial check\n            immediateOnScroll();\n        });\n    };\n    return Animator1;\n}();\n/**\r\n * RegExp to match field-content in RFC 7230 sec 3.2\r\n *\r\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\r\n * field-vchar   = VCHAR / obs-text\r\n * obs-text      = %x80-FF\r\n */ var fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\nvar Cookies = /** @class */ function() {\n    function Cookies1(request, response) {\n        this.request = request;\n        this.response = response;\n    }\n    Cookies1.prototype.get = function(name) {\n        var header = this.request.headers['cookie'];\n        if (!header) {\n            return;\n        }\n        var match = header.match(getPattern(name));\n        if (!match) {\n            return;\n        }\n        var value = match[1];\n        return value;\n    };\n    Cookies1.prototype.set = function(name, value, opts) {\n        var res = this.response;\n        var req = this.request;\n        var headers = res.getHeader('Set-Cookie') || [];\n        // TODO: just make this always true\n        var secure = this.secure !== undefined ? !!this.secure : req.protocol === 'https' || req.connection.encrypted;\n        var cookie = new Cookie(name, value, opts);\n        if (typeof headers === 'string') {\n            headers = [\n                headers\n            ];\n        }\n        if (!secure && opts && opts.secure) {\n            throw new Error('Cannot send secure cookie over unencrypted connection');\n        }\n        cookie.secure = secure;\n        if (opts && 'secure' in opts) {\n            cookie.secure = !!opts.secure;\n        }\n        pushCookie(headers, cookie);\n        var setHeader = res.setHeader;\n        setHeader.call(res, 'Set-Cookie', headers);\n        return this;\n    };\n    return Cookies1;\n}();\nvar Cookie = /** @class */ function() {\n    function Cookie1(name, value, attrs) {\n        this.path = '/';\n        this.domain = undefined;\n        this.httpOnly = true;\n        this.sameSite = false;\n        this.secure = false;\n        this.overwrite = false;\n        this.name = '';\n        this.value = '';\n        if (!fieldContentRegExp.test(name)) {\n            throw new TypeError('argument name is invalid');\n        }\n        if (value && !fieldContentRegExp.test(value)) {\n            throw new TypeError('argument value is invalid');\n        }\n        if (!value) {\n            this.expires = new Date(0);\n        }\n        this.name = name;\n        this.value = value || '';\n        if (attrs.expires) {\n            this.expires = attrs.expires;\n        }\n        if (attrs.secure) {\n            this.secure = attrs.secure;\n        }\n    }\n    Cookie1.prototype.toString = function() {\n        return \"\".concat(this.name, \"=\").concat(this.value);\n    };\n    Cookie1.prototype.toHeader = function() {\n        var header = this.toString();\n        if (this.maxAge) {\n            this.expires = new Date(Date.now() + this.maxAge);\n        }\n        if (this.path) {\n            header += \"; path=\".concat(this.path);\n        }\n        if (this.expires) {\n            header += \"; expires=\".concat(this.expires.toUTCString());\n        }\n        if (this.domain) {\n            header += \"; domain=\".concat(this.domain);\n        }\n        // TODO: samesite=none by default (?)\n        header += \"; SameSite=\".concat(this.sameSite === true ? 'strict' : 'None');\n        // TODO: On by default\n        if (this.secure) {\n            header += '; secure';\n        }\n        if (this.httpOnly) {\n            header += '; httponly';\n        }\n        return header;\n    };\n    return Cookie1;\n}();\nfunction getPattern(name) {\n    return new RegExp(\"(?:^|;) *\".concat(name.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&'), \"=([^;]*)\"));\n}\nfunction pushCookie(headers, cookie) {\n    if (cookie.overwrite) {\n        for(var i = headers.length - 1; i >= 0; i--){\n            if (headers[i].indexOf(\"\".concat(cookie.name, \"=\")) === 0) {\n                headers.splice(i, 1);\n            }\n        }\n    }\n    headers.push(cookie.toHeader());\n}\nfunction omit(obj) {\n    var values = [];\n    for(var _i = 1; _i < arguments.length; _i++){\n        values[_i - 1] = arguments[_i];\n    }\n    var newObject = Object.assign({}, obj);\n    for(var _a = 0, values_1 = values; _a < values_1.length; _a++){\n        var key = values_1[_a];\n        delete newObject[key];\n    }\n    return newObject;\n}\n/**\r\n * @credit https://stackoverflow.com/a/2117523\r\n */ function uuidv4() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n    });\n}\n/**\r\n * Slightly cleaner and smaller UUIDs\r\n */ function uuid() {\n    return uuidv4().replace(/-/g, '');\n}\nfunction emptyUrl() {\n    return {\n        query: null,\n        port: null,\n        auth: null,\n        hash: null,\n        host: null,\n        hostname: null,\n        href: null,\n        path: null,\n        pathname: null,\n        protocol: null,\n        search: null,\n        slashes: null\n    };\n}\n// Replacement for `url.parse` using `URL` global object that works with relative paths.\n// Assumptions: this function operates in a NodeJS environment.\nfunction parse$1(url) {\n    var _a;\n    var out = emptyUrl();\n    var u;\n    var pathOnly = url === '' || url[0] === '/';\n    if (pathOnly) {\n        u = new URL(url, 'http://0.0.0.0/');\n        out.href = u.href;\n        out.href = (_a = out.href) === null || _a === void 0 ? void 0 : _a.slice(14); // remove 'http://0.0.0.0/'\n    } else {\n        u = new URL(url);\n        out.href = u.href;\n        out.port = u.port === '' ? null : u.port;\n        out.hash = u.hash === '' ? null : u.hash;\n        out.host = u.host;\n        out.hostname = u.hostname;\n        out.href = u.href;\n        out.pathname = u.pathname;\n        out.protocol = u.protocol;\n        out.slashes = url[u.protocol.length] === '/'; // check if the mimetype is proceeded by a slash\n    }\n    out.search = u.search;\n    out.query = u.search.slice(1); // remove '?'\n    out.path = \"\".concat(u.pathname).concat(u.search);\n    out.pathname = u.pathname;\n    return out;\n}\n/**\r\n * Safe conversion to error type. Intended to be used in catch blocks where the\r\n *  value is not guaranteed to be an error.\r\n *\r\n *  @example\r\n *  try {\r\n *    throw new Error('Something went wrong')\r\n *  }\r\n *  catch (err: unknown) {\r\n *    const error: Error = toError(err)\r\n *  }\r\n */ function toError(err) {\n    if (err instanceof Error) return err;\n    return new Error(String(err));\n}\nvar DEFAULT_API_VERSION = 'v3';\nvar SDK_VERSION = '6.1.2';\nfunction datePlusMinutes(minutes) {\n    if (minutes === void 0) {\n        minutes = 30;\n    }\n    return new Date(Date.now() + minutes * 60000);\n}\nvar isPositiveNumber = function(thing) {\n    return typeof thing === 'number' && !isNaN(thing) && thing >= 0;\n};\nvar isReactNative = typeof navigator === 'object' && navigator.product === 'ReactNative';\nvar validEnvList = [\n    'production',\n    'qa',\n    'test',\n    'development',\n    'dev',\n    'cdn-qa',\n    'cloud',\n    'fast',\n    'cdn2',\n    'cdn-prod'\n];\nfunction getQueryParam(url, variable) {\n    var query = url.split('?')[1] || '';\n    var vars = query.split('&');\n    for(var i = 0; i < vars.length; i++){\n        var pair = vars[i].split('=');\n        if (decodeURIComponent(pair[0]) === variable) {\n            return decodeURIComponent(pair[1]);\n        }\n    }\n    return null;\n}\nvar urlParser = {\n    parse: function(url) {\n        var el = document.createElement('a');\n        el.href = url;\n        var out = {};\n        var props = [\n            'username',\n            'password',\n            'host',\n            'hostname',\n            'port',\n            'protocol',\n            'origin',\n            'pathname',\n            'search',\n            'hash'\n        ];\n        for(var _i = 0, props_1 = props; _i < props_1.length; _i++){\n            var prop = props_1[_i];\n            out[prop] = el[prop];\n        }\n        // IE 11 pathname handling workaround\n        // (IE omits preceeding '/', unlike other browsers)\n        if ((out.pathname || out.pathname === '') && typeof out.pathname === 'string' && out.pathname.indexOf('/') !== 0) {\n            out.pathname = '/' + out.pathname;\n        }\n        return out;\n    }\n};\nvar parse = isReactNative ? function() {\n    return emptyUrl();\n} :  false ? 0 : parse$1;\nfunction setCookie(name, value, expires) {\n    try {\n        var expiresString = '';\n        // TODO: need to know if secure server side\n        if (expires) {\n            expiresString = '; expires=' + expires.toUTCString();\n        }\n        var secure = isBrowser ? location.protocol === 'https:' : true;\n        document.cookie = name + '=' + (value || '') + expiresString + '; path=/' + (secure ? '; secure; SameSite=None' : '');\n    } catch (err) {\n        console.warn('Could not set cookie', err);\n    }\n}\nfunction getCookie(name) {\n    try {\n        return decodeURIComponent(document.cookie.replace(new RegExp('(?:(?:^|.*;)\\\\s*' + encodeURIComponent(name).replace(/[\\-\\.\\+\\*]/g, '\\\\$&') + '\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$'), '$1')) || null;\n    } catch (err) {\n        console.warn('Could not get cookie', err);\n    }\n}\nfunction size(object) {\n    return Object.keys(object).length;\n}\nfunction find(target, callback) {\n    var list = target;\n    // Makes sures is always has an positive integer as length.\n    var length = list.length >>> 0;\n    var thisArg = arguments[1];\n    for(var i = 0; i < length; i++){\n        var element = list[i];\n        if (callback.call(thisArg, element, i, list)) {\n            return element;\n        }\n    }\n}\nvar sessionStorageKey = 'builderSessionId';\nvar localStorageKey = 'builderVisitorId';\nvar isBrowser =  false && 0;\nvar isIframe = isBrowser && window.top !== window.self;\nfunction BuilderComponent(info) {\n    if (info === void 0) {\n        info = {};\n    }\n    return Builder.Component(info);\n}\nvar Builder = /** @class */ function() {\n    function Builder1(apiKey, request, response, forceNewInstance, authToken, apiVersion) {\n        if (apiKey === void 0) {\n            apiKey = null;\n        }\n        if (forceNewInstance === void 0) {\n            forceNewInstance = false;\n        }\n        if (authToken === void 0) {\n            authToken = null;\n        }\n        var _this = this;\n        this.request = request;\n        this.response = response;\n        this.eventsQueue = [];\n        this.throttledClearEventsQueue = throttle(function() {\n            _this.processEventsQueue();\n            // Extend the session cookie\n            _this.setCookie(sessionStorageKey, _this.sessionId, datePlusMinutes(30));\n        }, 5);\n        this.env = 'production';\n        this.sessionId = this.getSessionId();\n        this.targetContent = true;\n        this.contentPerRequest = 1;\n        // TODO: make array or function\n        this.allowCustomFonts = true;\n        this.cookies = null;\n        // TODO: api options object\n        this.cachebust = false;\n        this.overrideParams = '';\n        this.noCache = false;\n        this.preview = false;\n        /**\r\n         * Dictates which API endpoint is used when fetching content. Allows `'content'` and `'query'`.\r\n         * Defaults to `'query'`.\r\n         */ this.apiEndpoint$ = new BehaviorSubject('query');\n        this.apiVersion$ = new BehaviorSubject(undefined);\n        this.canTrack$ = new BehaviorSubject(!this.browserTrackingDisabled);\n        this.hasOverriddenCanTrack = false;\n        this.apiKey$ = new BehaviorSubject(null);\n        this.authToken$ = new BehaviorSubject(null);\n        this.userAttributesChanged = new BehaviorSubject(null);\n        this.editingMode$ = new BehaviorSubject(isIframe);\n        // TODO: decorator to do this stuff with the get/set (how do with typing too? compiler?)\n        this.editingModel$ = new BehaviorSubject(null);\n        this.userAgent = typeof navigator === 'object' && navigator.userAgent || '';\n        this.trackingHooks = [];\n        // Set this to control the userId\n        // TODO: allow changing it mid session and updating existing data to be associated\n        // e.g. for when a user navigates and then logs in\n        this.visitorId = this.getVisitorId();\n        this.autoTrack = !Builder1.isBrowser ? false : !this.isDevelopmentEnv && !(Builder1.isBrowser && location.search.indexOf('builder.preview=') !== -1);\n        this.trackingUserAttributes = {};\n        this.blockContentLoading = '';\n        this.observersByKey = {};\n        this.noEditorUpdates = {};\n        this.overrides = {};\n        this.queryOptions = {};\n        this.getContentQueue = null;\n        this.priorContentQueue = null;\n        this.testCookiePrefix = 'builder.tests';\n        this.cookieQueue = [];\n        // TODO: use a window variable for this perhaps, e.g. bc webcomponents may be loading builder twice\n        // with it's and react (use rollup build to fix)\n        if (Builder1.isBrowser && !forceNewInstance && Builder1.singletonInstance) {\n            return Builder1.singletonInstance;\n        }\n        if (this.request && this.response) {\n            this.setUserAgent(this.request.headers['user-agent'] || '');\n            this.cookies = new Cookies(this.request, this.response);\n        }\n        if (apiKey) {\n            this.apiKey = apiKey;\n        }\n        if (apiVersion) {\n            this.apiVersion = apiVersion;\n        }\n        if (authToken) {\n            this.authToken = authToken;\n        }\n        if (isBrowser) {\n            if (Builder1.isEditing) {\n                this.bindMessageListeners();\n                parent.postMessage({\n                    type: 'builder.animatorOptions',\n                    data: {\n                        options: {\n                            version: 2\n                        }\n                    }\n                }, '*');\n            }\n        // TODO: postmessage to parent the builder info for every package\n        // type: 'builder.sdk', data: { name: '@builder.io/react', version: '0.1.23' }\n        // (window as any).BUILDER_VERSION = Builder.VERSION;\n        // Ensure always one Builder global singleton\n        // TODO: some people won't want this, e.g. rakuten\n        // Maybe hide this behind symbol or on document, etc\n        // if ((window as any).Builder) {\n        //   Builder.components = (window as any).Builder.components;\n        // } else {\n        //   (window as any).Builder = Builder;\n        // }\n        }\n        if (isIframe) {\n            this.messageFrameLoaded();\n        }\n        // TODO: on destroy clear subscription\n        this.canTrack$.subscribe(function(value) {\n            if (value) {\n                if (typeof sessionStorage !== 'undefined') {\n                    try {\n                        if (!sessionStorage.getItem(sessionStorageKey)) {\n                            sessionStorage.setItem(sessionStorageKey, _this.sessionId);\n                        }\n                    } catch (err) {\n                        console.debug('Session storage error', err);\n                    }\n                }\n                if (_this.eventsQueue.length) {\n                    _this.throttledClearEventsQueue();\n                }\n                if (_this.cookieQueue.length) {\n                    _this.cookieQueue.forEach(function(item) {\n                        _this.setCookie(item[0], item[1]);\n                    });\n                    _this.cookieQueue.length = 0;\n                }\n            }\n        });\n        if (isBrowser) {\n            // TODO: defer so subclass constructor runs and injects location service\n            this.setTestsFromUrl();\n            // TODO: do this on every request send?\n            this.getOverridesFromQueryString();\n            // cookies used in personalization container script, so need to set before hydration to match script result\n            var userAttrCookie = this.getCookie(Builder1.attributesCookieName);\n            if (userAttrCookie) {\n                try {\n                    var attributes = JSON.parse(userAttrCookie);\n                    this.setUserAttributes(attributes);\n                } catch (err) {\n                    console.debug('Error parsing user attributes cookie', err);\n                }\n            }\n        }\n    }\n    Builder1.register = function(type, info) {\n        if (type === 'plugin') {\n            info = this.serializeIncludingFunctions(info, true);\n        }\n        // TODO: all must have name and can't conflict?\n        var typeList = this.registry[type];\n        if (!typeList) {\n            typeList = this.registry[type] = [];\n        }\n        typeList.push(info);\n        if (Builder1.isBrowser) {\n            var message = {\n                type: 'builder.register',\n                data: {\n                    type: type,\n                    info: info\n                }\n            };\n            try {\n                parent.postMessage(message, '*');\n                if (parent !== window) {\n                    window.postMessage(message, '*');\n                }\n            } catch (err) {\n                console.debug('Could not postmessage', err);\n            }\n        }\n        this.registryChange.next(this.registry);\n    };\n    Builder1.registerEditor = function(info) {\n        if (Builder1.isBrowser) {\n            window.postMessage({\n                type: 'builder.registerEditor',\n                data: omit(info, 'component')\n            }, '*');\n            var hostname = location.hostname;\n            if (!Builder1.isTrustedHost(hostname)) {\n                console.error('Builder.registerEditor() called in the wrong environment! You cannot load custom editors from your app, they must be loaded through the Builder.io app itself. Follow the readme here for more details: https://github.com/builderio/builder/tree/master/plugins/cloudinary or contact chat us in our Spectrum community for help: https://spectrum.chat/builder');\n            }\n        }\n        this.editors.push(info);\n    };\n    Builder1.registerPlugin = function(info) {\n        this.plugins.push(info);\n    };\n    Builder1.registerAction = function(action) {\n        var _a;\n        this.actions.push(action);\n        if (Builder1.isBrowser) {\n            var actionClone = JSON.parse(JSON.stringify(action));\n            if (action.action) {\n                actionClone.action = action.action.toString();\n            }\n            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                type: 'builder.registerAction',\n                data: actionClone\n            }, '*');\n        }\n    };\n    Builder1.registerTrustedHost = function(host) {\n        this.trustedHosts.push(host);\n    };\n    /**\r\n     * @param context @type {import('isolated-vm').Context}\r\n     * Use this function to control the execution context of custom code on the server.\r\n     * const ivm = require('isolated-vm');\r\n     * const isolate = new ivm.Isolate({ memoryLimit: 128 });\r\n     * const context = isolate.createContextSync();\r\n     * Builder.setServerContext(context);\r\n     */ Builder1.setServerContext = function(context) {\n        this.serverContext = context;\n    };\n    Builder1.isTrustedHost = function(hostname) {\n        var isTrusted = this.trustedHosts.findIndex(function(trustedHost) {\n            return trustedHost.startsWith('*.') ? hostname.endsWith(trustedHost.slice(1)) : trustedHost === hostname;\n        }) > -1;\n        return isTrusted;\n    };\n    Builder1.isTrustedHostForEvent = function(event) {\n        if (event.origin === 'null') {\n            return false;\n        }\n        var url = parse(event.origin);\n        return url.hostname && Builder1.isTrustedHost(url.hostname);\n    };\n    Builder1.runAction = function(action) {\n        // TODO\n        var actionObject = typeof action === 'string' ? find(this.actions, function(item) {\n            return item.name === action;\n        }) : action;\n        if (!actionObject) {\n            throw new Error(\"Action not found: \".concat(action));\n        }\n    };\n    Builder1.fields = function(name, fields) {\n        var _a;\n        (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n            type: 'builder.fields',\n            data: {\n                name: name,\n                fields: fields\n            }\n        }, '*');\n    };\n    /**\r\n     * @deprecated\r\n     * @hidden\r\n     *\r\n     * Use Builder.register('editor.settings', {}) instead.\r\n     */ Builder1.set = function(settings) {\n        Builder1.register('editor.settings', settings);\n    };\n    Builder1.import = function(packageName) {\n        if (!Builder1.isBrowser) {\n            // TODO: server side support *maybe*\n            console.warn('Builder.import used on the server - this should only be used in the browser');\n            return;\n        }\n        var System = window.System;\n        if (!System) {\n            console.warn('System.js not available. Please include System.js when using Builder.import');\n            return;\n        }\n        return System.import(\"https://cdn.builder.io/systemjs/\".concat(packageName));\n    };\n    Object.defineProperty(Builder1, \"editingPage\", {\n        // useCdnApi = false;\n        get: function() {\n            return this._editingPage;\n        },\n        set: function(editingPage) {\n            this._editingPage = editingPage;\n            if (isBrowser && isIframe) {\n                if (editingPage) {\n                    document.body.classList.add('builder-editing-page');\n                } else {\n                    document.body.classList.remove('builder-editing-page');\n                }\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.serializeIncludingFunctions = function(info, isForPlugin) {\n        var serializeFn = function(fnValue) {\n            var fnStr = fnValue.toString().trim();\n            // we need to account for a few different fn syntaxes:\n            // 1. `function name(args) => {code}`\n            // 2. `name(args) => {code}`\n            // 3. `(args) => {}`\n            // 4. `args => {}`\n            // 5. `async function(args) {code}`\n            // 6. `async (args) => {}`\n            // 7. `async args => {}`\n            var isArrowWithoutParens = /^[a-zA-Z0-9_]+\\s*=>/i.test(fnStr);\n            var appendFunction = !fnStr.startsWith('function') && !fnStr.startsWith('async') && !fnStr.startsWith('(') && !isArrowWithoutParens;\n            return \"return (\".concat(appendFunction ? 'function ' : '').concat(fnStr, \").apply(this, arguments)\");\n        };\n        var objToReturn = JSON.parse(JSON.stringify(info, function(key, value) {\n            var shouldNotSerializeFn = isForPlugin && key === 'onSave';\n            if (typeof value === 'function' && !shouldNotSerializeFn) {\n                return serializeFn(value);\n            }\n            return value;\n        }));\n        if (isForPlugin) {\n            objToReturn.onSave = info.onSave;\n        }\n        return objToReturn;\n    };\n    Builder1.prepareComponentSpecToSend = function(spec) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, this.serializeIncludingFunctions(spec)), {\n            class: undefined\n        });\n    };\n    Builder1.registerBlock = function(component, options) {\n        this.registerComponent(component, options);\n    };\n    Builder1.registerComponent = function(component, options) {\n        var _a;\n        var spec = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            class: component\n        }, component.builderOptions), options);\n        this.addComponent(spec);\n        var editable = options.models && this.singletonInstance.editingModel ? isBrowser && options.models.includes(this.singletonInstance.editingModel) : isBrowser;\n        if (editable) {\n            var sendSpec = this.prepareComponentSpecToSend(spec);\n            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                type: 'builder.registerComponent',\n                data: sendSpec\n            }, '*');\n        }\n    };\n    Builder1.addComponent = function(component) {\n        var current = find(this.components, function(item) {\n            return item.name === component.name;\n        });\n        if (current) {\n            // FIXME: why does sometimes we get an extra post without class - probably\n            // from postMessage handler wrong in some place\n            if (current.class && !component.class) {\n                return;\n            }\n            this.components.splice(this.components.indexOf(current), 1, component);\n        } else {\n            this.components.push(component);\n        }\n    };\n    // TODO: style guide, etc off this system as well?\n    Builder1.component = function(info) {\n        var _this = this;\n        if (info === void 0) {\n            info = {};\n        }\n        return function(component) {\n            var _a;\n            var spec = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, info), {\n                class: component\n            });\n            if (!spec.name) {\n                spec.name = component.name;\n            }\n            _this.addComponent(spec);\n            var sendSpec = _this.prepareComponentSpecToSend(spec);\n            // TODO: serialize component name and inputs\n            if (isBrowser) {\n                (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                    type: 'builder.registerComponent',\n                    data: sendSpec\n                }, '*');\n            }\n            return component;\n        };\n    };\n    Object.defineProperty(Builder1, \"Component\", {\n        get: function() {\n            return this.component;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.processEventsQueue = function() {\n        if (!this.eventsQueue.length) {\n            return;\n        }\n        var events = this.eventsQueue;\n        this.eventsQueue = [];\n        var fullUserAttributes = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, Builder1.overrideUserAttributes), this.trackingUserAttributes);\n        for(var _i = 0, events_1 = events; _i < events_1.length; _i++){\n            var event_1 = events_1[_i];\n            if (!event_1.data.metadata) {\n                event_1.data.metadata = {};\n            }\n            if (!event_1.data.metadata.user) {\n                event_1.data.metadata.user = {};\n            }\n            Object.assign(event_1.data.metadata.user, fullUserAttributes, event_1.data.metadata.user);\n        }\n        var host = this.host;\n        getFetch()(\"\".concat(host, \"/api/v1/track\"), {\n            method: 'POST',\n            body: JSON.stringify({\n                events: events\n            }),\n            headers: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n                'content-type': 'application/json'\n            }, this.getSdkHeaders()),\n            mode: 'cors'\n        }).catch(function() {\n        // Not the end of the world\n        });\n    };\n    Object.defineProperty(Builder1.prototype, \"browserTrackingDisabled\", {\n        get: function() {\n            return Builder1.isBrowser && Boolean(window.builderNoTrack || !navigator.cookieEnabled);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"canTrack\", {\n        get: function() {\n            return this.canTrack$.value;\n        },\n        set: function(canTrack) {\n            this.hasOverriddenCanTrack = true;\n            if (this.canTrack !== canTrack) {\n                this.canTrack$.next(canTrack);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"apiVersion\", {\n        get: function() {\n            return this.apiVersion$.value;\n        },\n        set: function(apiVersion) {\n            if (this.apiVersion !== apiVersion) {\n                this.apiVersion$.next(apiVersion);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"apiEndpoint\", {\n        get: function() {\n            return this.apiEndpoint$.value;\n        },\n        set: function(apiEndpoint) {\n            if (this.apiEndpoint !== apiEndpoint) {\n                this.apiEndpoint$.next(apiEndpoint);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"editingMode\", {\n        get: function() {\n            return this.editingMode$.value;\n        },\n        set: function(value) {\n            if (value !== this.editingMode) {\n                this.editingMode$.next(value);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"editingModel\", {\n        get: function() {\n            return this.editingModel$.value;\n        },\n        set: function(value) {\n            if (value !== this.editingModel) {\n                this.editingModel$.next(value);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.findParentElement = function(target, callback, checkElement) {\n        if (checkElement === void 0) {\n            checkElement = true;\n        }\n        if (!(target instanceof HTMLElement)) {\n            return null;\n        }\n        var parent1 = checkElement ? target : target.parentElement;\n        do {\n            if (!parent1) {\n                return null;\n            }\n            var matches = callback(parent1);\n            if (matches) {\n                return parent1;\n            }\n        }while (parent1 = parent1.parentElement);\n        return null;\n    };\n    Builder1.prototype.findBuilderParent = function(target) {\n        return this.findParentElement(target, function(el) {\n            var id = el.getAttribute('builder-id') || el.id;\n            return Boolean(id && id.indexOf('builder-') === 0);\n        });\n    };\n    Builder1.prototype.setUserAgent = function(userAgent) {\n        this.userAgent = userAgent || '';\n    };\n    /**\r\n     * Set a hook to modify events being tracked from builder, such as impressions and clicks\r\n     *\r\n     * For example, to track the model ID of each event associated with content for querying\r\n     * by mode, you can do\r\n     *\r\n     *    builder.setTrackingHook((event, context) => {\r\n     *      if (context.content) {\r\n     *        event.data.metadata.modelId = context.content.modelId\r\n     *      }\r\n     *    })\r\n     */ Builder1.prototype.setTrackingHook = function(hook) {\n        this.trackingHooks.push(hook);\n    };\n    Builder1.prototype.track = function(eventName, properties, context) {\n        if (properties === void 0) {\n            properties = {};\n        }\n        // TODO: queue up track requests and fire them off when canTrack set to true - otherwise may get lots of clicks with no impressions\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        var apiKey = this.apiKey;\n        if (!apiKey) {\n            console.error('Builder integration error: Looks like the Builder SDK has not been initialized properly (your API key has not been set). Make sure you are calling `builder.init(\"«YOUR-API-KEY»\");` as early as possible in your application\\'s code.');\n            return;\n        }\n        var eventData = JSON.parse(JSON.stringify({\n            type: eventName,\n            data: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, omit(properties, 'meta')), {\n                metadata: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n                    sdkVersion: Builder1.VERSION,\n                    url: location.href\n                }, properties.meta), properties.metadata),\n                ownerId: apiKey,\n                userAttributes: this.getUserAttributes(),\n                sessionId: this.sessionId,\n                visitorId: this.visitorId\n            })\n        }));\n        for(var _i = 0, _a = this.trackingHooks; _i < _a.length; _i++){\n            var hook = _a[_i];\n            var returnValue = hook(eventData, context || {});\n            if (returnValue) {\n                eventData = returnValue;\n            }\n        }\n        // batch events\n        this.eventsQueue.push(eventData);\n        if (this.canTrack) {\n            this.throttledClearEventsQueue();\n        }\n    };\n    Builder1.prototype.getSessionId = function() {\n        var _this = this;\n        var sessionId = null;\n        try {\n            if (Builder1.isBrowser && typeof sessionStorage !== 'undefined') {\n                sessionId = this.getCookie(sessionStorageKey);\n            }\n        } catch (err) {\n            console.debug('Session storage error', err);\n        // It's ok\n        }\n        if (!sessionId) {\n            sessionId = uuid();\n        }\n        // Give the app a second to start up and set canTrack to false if needed\n        if (Builder1.isBrowser) {\n            setTimeout(function() {\n                try {\n                    if (_this.canTrack) {\n                        _this.setCookie(sessionStorageKey, sessionId, datePlusMinutes(30));\n                    }\n                } catch (err) {\n                    console.debug('Cookie setting error', err);\n                }\n            });\n        }\n        return sessionId;\n    };\n    Builder1.prototype.getVisitorId = function() {\n        var _this = this;\n        if (this.visitorId) {\n            return this.visitorId;\n        }\n        var visitorId = null;\n        try {\n            if (Builder1.isBrowser && typeof localStorage !== 'undefined') {\n                // TODO: cookie instead?\n                visitorId = localStorage.getItem(localStorageKey);\n            }\n        } catch (err) {\n            console.debug('Local storage error', err);\n        // It's ok\n        }\n        if (!visitorId) {\n            visitorId = uuid();\n        }\n        this.visitorId = visitorId;\n        // Give the app a second to start up and set canTrack to false if needed\n        if (Builder1.isBrowser) {\n            setTimeout(function() {\n                try {\n                    if (_this.canTrack && typeof localStorage !== 'undefined' && visitorId) {\n                        localStorage.setItem(localStorageKey, visitorId);\n                    }\n                } catch (err) {\n                    console.debug('Session storage error', err);\n                }\n            });\n        }\n        return visitorId;\n    };\n    Builder1.prototype.trackImpression = function(contentId, variationId, properties, context) {\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        // TODO: use this.track method\n        this.track('impression', {\n            contentId: contentId,\n            variationId: variationId !== contentId ? variationId : undefined,\n            metadata: properties\n        }, context);\n    };\n    Builder1.prototype.trackConversion = function(amount, contentId, variationId, customProperties, context) {\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        var meta = typeof contentId === 'object' ? contentId : customProperties;\n        var useContentId = typeof contentId === 'string' ? contentId : undefined;\n        this.track('conversion', {\n            amount: amount,\n            variationId: variationId,\n            meta: meta,\n            contentId: useContentId\n        }, context);\n    };\n    Object.defineProperty(Builder1.prototype, \"isDevelopmentEnv\", {\n        // TODO: set this for QA\n        get: function() {\n            // Automatic determining of development environment\n            return Builder1.isIframe || Builder1.isBrowser && (location.hostname === 'localhost' || location.port !== '') || this.env !== 'production';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.trackInteraction = function(contentId, variationId, alreadyTrackedOne, event, context) {\n        if (alreadyTrackedOne === void 0) {\n            alreadyTrackedOne = false;\n        }\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        var target = event && event.target;\n        var targetBuilderElement = target && this.findBuilderParent(target);\n        function round(num) {\n            return Math.round(num * 1000) / 1000;\n        }\n        var metadata = {};\n        if (event) {\n            var clientX = event.clientX, clientY = event.clientY;\n            if (target) {\n                var targetRect = target.getBoundingClientRect();\n                var xOffset = clientX - targetRect.left;\n                var yOffset = clientY - targetRect.top;\n                var xRatio = round(xOffset / targetRect.width);\n                var yRatio = round(yOffset / targetRect.height);\n                metadata.targetOffset = {\n                    x: xRatio,\n                    y: yRatio\n                };\n            }\n            if (targetBuilderElement) {\n                var targetRect = targetBuilderElement.getBoundingClientRect();\n                var xOffset = clientX - targetRect.left;\n                var yOffset = clientY - targetRect.top;\n                var xRatio = round(xOffset / targetRect.width);\n                var yRatio = round(yOffset / targetRect.height);\n                metadata.builderTargetOffset = {\n                    x: xRatio,\n                    y: yRatio\n                };\n            }\n        }\n        var builderId = targetBuilderElement && (targetBuilderElement.getAttribute('builder-id') || targetBuilderElement.id);\n        if (builderId && targetBuilderElement) {\n            metadata.builderElementIndex = [].slice.call(document.getElementsByClassName(builderId)).indexOf(targetBuilderElement);\n        }\n        this.track('click', {\n            contentId: contentId,\n            metadata: metadata,\n            variationId: variationId !== contentId ? variationId : undefined,\n            unique: !alreadyTrackedOne,\n            targetBuilderElement: builderId || undefined\n        }, context);\n    };\n    Builder1.prototype.component = function(info) {\n        if (info === void 0) {\n            info = {};\n        }\n        return Builder1.component(info);\n    };\n    Object.defineProperty(Builder1.prototype, \"apiKey\", {\n        get: function() {\n            return this.apiKey$.value;\n        },\n        set: function(key) {\n            this.apiKey$.next(key);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"authToken\", {\n        get: function() {\n            return this.authToken$.value;\n        },\n        set: function(token) {\n            this.authToken$.next(token);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.modifySearch = function(search) {\n        return search.replace(/(^|&|\\?)(builder_.*?)=/gi, function(_match, group1, group2) {\n            return group1 + group2.replace(/_/g, '.') + '=';\n        });\n    };\n    Builder1.prototype.setTestsFromUrl = function() {\n        var search = this.getLocation().search;\n        try {\n            var params = QueryString.parseDeep(this.modifySearch(search || '').substr(1));\n            var tests = params.builder && params.builder.tests;\n            if (tests && typeof tests === 'object') {\n                for(var key in tests){\n                    if (tests.hasOwnProperty(key)) {\n                        this.setTestCookie(key, tests[key]);\n                    }\n                }\n            }\n        } catch (e) {\n            console.debug('Error parsing tests from URL', e);\n        }\n    };\n    Builder1.prototype.resetOverrides = function() {\n        // Ugly - pass down instances per request instead using react context\n        // or use builder.get('foo', { req, res }) in react...........\n        Builder1.overrideUserAttributes = {};\n        this.cachebust = false;\n        this.noCache = false;\n        this.preview = false;\n        this.editingModel = null;\n        this.overrides = {};\n        this.env = 'production';\n        this.userAgent = '';\n        this.request = undefined;\n        this.response = undefined;\n    };\n    Builder1.prototype.getOverridesFromQueryString = function() {\n        var location1 = this.getLocation();\n        try {\n            var params = QueryString.parseDeep(this.modifySearch(location1.search || '').substr(1));\n            var builder1 = params.builder;\n            if (builder1) {\n                var userAttributes = builder1.userAttributes, overrides = builder1.overrides, env = builder1.env, host = builder1.host, api = builder1.api, cachebust = builder1.cachebust, noCache = builder1.noCache, preview = builder1.preview, editing = builder1.editing, frameEditing = builder1.frameEditing, options = builder1.options, overrideParams = builder1.params;\n                if (userAttributes) {\n                    this.setUserAttributes(userAttributes);\n                }\n                if (options) {\n                    // picking only locale, includeRefs, and enrich for now\n                    this.queryOptions = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, options.locale && {\n                        locale: options.locale\n                    }), options.includeRefs && {\n                        includeRefs: options.includeRefs\n                    }), options.enrich && {\n                        enrich: options.enrich\n                    });\n                }\n                if (overrides) {\n                    this.overrides = overrides;\n                }\n                if (validEnvList.indexOf(env || api) > -1) {\n                    this.env = env || api;\n                }\n                if (Builder1.isEditing) {\n                    var editingModel = frameEditing || editing || preview;\n                    if (editingModel && editingModel !== 'true') {\n                        this.editingModel = editingModel;\n                    }\n                }\n                if (cachebust) {\n                    this.cachebust = true;\n                }\n                if (noCache) {\n                    this.noCache = true;\n                }\n                if (preview) {\n                    this.preview = true;\n                }\n                if (params) {\n                    this.overrideParams = overrideParams;\n                }\n            }\n        } catch (e) {\n            console.debug('Error parsing overrides from URL', e);\n        }\n    };\n    Builder1.prototype.messageFrameLoaded = function() {\n        var _a;\n        (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n            type: 'builder.loaded',\n            data: {\n                value: true\n            }\n        }, '*');\n    };\n    Builder1.prototype.bindMessageListeners = function() {\n        var _this = this;\n        addEventListener('message', function(event) {\n            var _a, _b, _c, _d;\n            var isTrusted = Builder1.isTrustedHostForEvent(event);\n            if (!isTrusted) return;\n            var data = event.data;\n            if (data) {\n                switch(data.type){\n                    case 'builder.ping':\n                        {\n                            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                                type: 'builder.pong',\n                                data: {}\n                            }, '*');\n                            break;\n                        }\n                    case 'builder.register':\n                        {\n                            // TODO: possibly do this for all...\n                            if (event.source === window) {\n                                break;\n                            }\n                            var options = data.data;\n                            if (!options) {\n                                break;\n                            }\n                            var type = options.type, info = options.info;\n                            // TODO: all must have name and can't conflict?\n                            var typeList = Builder1.registry[type];\n                            if (!typeList) {\n                                typeList = Builder1.registry[type] = [];\n                            }\n                            typeList.push(info);\n                            Builder1.registryChange.next(Builder1.registry);\n                            break;\n                        }\n                    case 'builder.settingsChange':\n                        {\n                            // TODO: possibly do this for all...\n                            if (event.source === window) {\n                                break;\n                            }\n                            var settings = data.data;\n                            if (!settings) {\n                                break;\n                            }\n                            Object.assign(Builder1.settings, settings);\n                            Builder1.settingsChange.next(Builder1.settings);\n                            break;\n                        }\n                    case 'builder.registerEditor':\n                        {\n                            // TODO: possibly do this for all...\n                            if (event.source === window) {\n                                break;\n                            }\n                            var info_1 = data.data;\n                            if (!info_1) {\n                                break;\n                            }\n                            var hasComponent_1 = !!info_1.component;\n                            Builder1.editors.every(function(thisInfo, index) {\n                                if (info_1.name === thisInfo.name) {\n                                    if (thisInfo.component && !hasComponent_1) {\n                                        return false;\n                                    } else {\n                                        Builder1.editors[index] = thisInfo;\n                                    }\n                                    return false;\n                                }\n                                return true;\n                            });\n                            break;\n                        }\n                    case 'builder.triggerAnimation':\n                        {\n                            Builder1.animator.triggerAnimation(data.data);\n                            break;\n                        }\n                    case 'builder.contentUpdate':\n                        var key = data.data.key || data.data.alias || data.data.entry || data.data.modelName;\n                        var contentData = data.data.data; // hmmm...\n                        var observer = _this.observersByKey[key];\n                        if (observer && !_this.noEditorUpdates[key]) {\n                            observer.next([\n                                contentData\n                            ]);\n                        }\n                        break;\n                    case 'builder.getComponents':\n                        (_b = window.parent) === null || _b === void 0 ? void 0 : _b.postMessage({\n                            type: 'builder.components',\n                            data: Builder1.components.map(function(item) {\n                                return Builder1.prepareComponentSpecToSend(item);\n                            })\n                        }, '*');\n                        break;\n                    case 'builder.editingModel':\n                        _this.editingModel = data.data.model;\n                        break;\n                    case 'builder.registerComponent':\n                        var componentData = data.data;\n                        Builder1.addComponent(componentData);\n                        break;\n                    case 'builder.blockContentLoading':\n                        if (typeof data.data.model === 'string') {\n                            _this.blockContentLoading = data.data.model;\n                        }\n                        break;\n                    case 'builder.editingMode':\n                        var editingMode = data.data;\n                        if (editingMode) {\n                            _this.editingMode = true;\n                            document.body.classList.add('builder-editing');\n                        } else {\n                            _this.editingMode = false;\n                            document.body.classList.remove('builder-editing');\n                        }\n                        break;\n                    case 'builder.editingPageMode':\n                        var editingPageMode = data.data;\n                        Builder1.editingPage = editingPageMode;\n                        break;\n                    case 'builder.overrideUserAttributes':\n                        var userAttributes = data.data;\n                        assign(Builder1.overrideUserAttributes, userAttributes);\n                        _this.flushGetContentQueue(true);\n                        break;\n                    case 'builder.overrideTestGroup':\n                        var _e = data.data, variationId = _e.variationId, contentId = _e.contentId;\n                        if (variationId && contentId) {\n                            _this.setTestCookie(contentId, variationId);\n                            _this.flushGetContentQueue(true);\n                        }\n                        break;\n                    case 'builder.evaluate':\n                        {\n                            var text = data.data.text;\n                            var args = data.data.arguments || [];\n                            var id_1 = data.data.id;\n                            // tslint:disable-next-line:no-function-constructor-with-string-args\n                            var fn = new Function(text);\n                            var result = void 0;\n                            var error = null;\n                            try {\n                                result = fn.apply(_this, args);\n                            } catch (err) {\n                                error = toError(err);\n                            }\n                            if (error) {\n                                (_c = window.parent) === null || _c === void 0 ? void 0 : _c.postMessage({\n                                    type: 'builder.evaluateError',\n                                    data: {\n                                        id: id_1,\n                                        error: error.message\n                                    }\n                                }, '*');\n                            } else {\n                                if (result && typeof result.then === 'function') {\n                                    result.then(function(finalResult) {\n                                        var _a;\n                                        (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                                            type: 'builder.evaluateResult',\n                                            data: {\n                                                id: id_1,\n                                                result: finalResult\n                                            }\n                                        }, '*');\n                                    }).catch(console.error);\n                                } else {\n                                    (_d = window.parent) === null || _d === void 0 ? void 0 : _d.postMessage({\n                                        type: 'builder.evaluateResult',\n                                        data: {\n                                            result: result,\n                                            id: id_1\n                                        }\n                                    }, '*');\n                                }\n                            }\n                            break;\n                        }\n                }\n            }\n        });\n    };\n    Object.defineProperty(Builder1.prototype, \"defaultCanTrack\", {\n        get: function() {\n            return Boolean(Builder1.isBrowser && navigator.userAgent.trim() && !navigator.userAgent.match(/bot|crawler|spider|robot|crawling|prerender|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex|phantom|headless|selenium|puppeteer/i) && !this.browserTrackingDisabled);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.init = function(apiKey, canTrack, req, res, authToken, apiVersion) {\n        if (canTrack === void 0) {\n            canTrack = this.defaultCanTrack;\n        }\n        if (req) {\n            this.request = req;\n        }\n        if (res) {\n            this.response = res;\n        }\n        if (!this.hasOverriddenCanTrack) {\n            this.canTrack = canTrack;\n        }\n        this.apiKey = apiKey;\n        if (authToken) {\n            this.authToken = authToken;\n        }\n        if (apiVersion) {\n            this.apiVersion = apiVersion;\n        }\n        return this;\n    };\n    Object.defineProperty(Builder1.prototype, \"previewingModel\", {\n        get: function() {\n            var search = this.getLocation().search;\n            var params = QueryString.parse((search || '').substr(1));\n            return params['builder.preview'];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // TODO: allow adding location object as property and/or in constructor\n    Builder1.prototype.getLocation = function() {\n        var _a;\n        var parsedLocation = {};\n        // in ssr mode\n        if (this.request) {\n            parsedLocation = parse((_a = this.request.url) !== null && _a !== void 0 ? _a : '');\n        } else if (typeof location === 'object') {\n            // in the browser\n            parsedLocation = parse(location.href);\n        }\n        // IE11 bug with parsed path being empty string\n        // causes issues with our user targeting\n        if (parsedLocation.pathname === '') {\n            parsedLocation.pathname = '/';\n        }\n        return parsedLocation;\n    };\n    Builder1.prototype.getUserAttributes = function(userAgent) {\n        if (userAgent === void 0) {\n            userAgent = this.userAgent || '';\n        }\n        var isMobile = {\n            Android: function() {\n                return userAgent.match(/Android/i);\n            },\n            BlackBerry: function() {\n                return userAgent.match(/BlackBerry/i);\n            },\n            iOS: function() {\n                return userAgent.match(/iPhone|iPod/i);\n            },\n            Opera: function() {\n                return userAgent.match(/Opera Mini/i);\n            },\n            Windows: function() {\n                return userAgent.match(/IEMobile/i) || userAgent.match(/WPDesktop/i);\n            },\n            any: function() {\n                return isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows();\n            }\n        };\n        var isTablet = userAgent.match(/Tablet|iPad/i);\n        var url = this.getLocation();\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            urlPath: url.pathname,\n            host: url.host || url.hostname,\n            // TODO: maybe an option to choose to target off of mobile/tablet/desktop or just mobile/desktop\n            device: isTablet ? 'tablet' : isMobile.any() ? 'mobile' : 'desktop'\n        }, Builder1.overrideUserAttributes);\n    };\n    Builder1.prototype.setUserAttributes = function(options) {\n        assign(Builder1.overrideUserAttributes, options);\n        if (this.canTrack) {\n            this.setCookie(Builder1.attributesCookieName, JSON.stringify(this.getUserAttributes()));\n        }\n        this.userAttributesChanged.next(options);\n    };\n    /**\r\n     * Set user attributes just for tracking purposes.\r\n     *\r\n     * Do this so properties exist on event objects for querying insights, but\r\n     * won't affect targeting\r\n     *\r\n     * Use this when you want to track properties but don't need to target off\r\n     * of them to optimize cache efficiency\r\n     */ Builder1.prototype.setTrackingUserAttributes = function(attributes) {\n        assign(this.trackingUserAttributes, attributes);\n    };\n    Builder1.prototype.get = function(modelName, options) {\n        var _a;\n        if (options === void 0) {\n            options = {};\n        }\n        var instance = this;\n        var finalLocale = options.locale || ((_a = options.userAttributes) === null || _a === void 0 ? void 0 : _a.locale) || this.getUserAttributes().locale;\n        if (!('noTraverse' in options)) {\n            options.noTraverse = false;\n        }\n        var finalOptions = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, options), finalLocale && {\n            locale: String(finalLocale),\n            userAttributes: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n                locale: String(finalLocale)\n            }, options.userAttributes)\n        });\n        if (!Builder1.isBrowser) {\n            instance = new Builder1(options.apiKey || this.apiKey, options.req, options.res, undefined, options.authToken || this.authToken, options.apiVersion || this.apiVersion);\n            instance.apiEndpoint = this.apiEndpoint;\n            instance.setUserAttributes(this.getUserAttributes());\n        } else {\n            // NOTE: All these are when .init is not called and the customer\n            // directly calls .get on the singleton instance of Builder\n            if (options.apiKey && !this.apiKey) {\n                this.apiKey = options.apiKey;\n            }\n            if (options.authToken && !this.authToken) {\n                this.authToken = options.authToken;\n            }\n            if (options.apiVersion && !this.apiVersion) {\n                this.apiVersion = options.apiVersion;\n            }\n        }\n        return instance.queueGetContent(modelName, finalOptions).map(/* map( */ function(matches) {\n            var match = matches && matches[0];\n            if (Builder1.isStatic) {\n                return match;\n            }\n            var matchData = match && match.data;\n            if (!matchData) {\n                return null;\n            }\n            if (typeof matchData.blocksString !== 'undefined') {\n                matchData.blocks = JSON.parse(matchData.blocksString);\n                delete matchData.blocksString;\n            }\n            return {\n                // TODO: add ab test info here and other high level stuff\n                data: matchData,\n                id: match.id,\n                variationId: match.testVariationId || match.variationId || null,\n                testVariationId: match.testVariationId || match.variationId || null,\n                testVariationName: match.testVariationName || null,\n                lastUpdated: match.lastUpdated || null\n            };\n        });\n    // );\n    };\n    // TODO: entry id in options\n    Builder1.prototype.queueGetContent = function(modelName, options) {\n        var _this = this;\n        if (options === void 0) {\n            options = {};\n        }\n        // TODO: if query do modelName + query\n        var key = options.key || options.alias || // TODO: SDKs only pass entry key when given to them, and never when editing...\n        // options.entry ||\n        // TODO: this is ugly - instead of multiple of same model with different options are sent\n        // say requires key/alias. Or if not perhaps make a reliable hash of the options and use that.\n        // TODO: store last user state on last request and if user attributes different now\n        // give a warning that need to use keys to request new contente\n        // (options &&\n        //   Object.keys(options).filter(key => key !== 'model').length &&\n        //   JSON.stringify({ model: modelName, ...options, initialContent: undefined })) ||\n        modelName;\n        var isEditingThisModel = this.editingModel === modelName;\n        // TODO: include params in this key........\n        var currentObservable = this.observersByKey[key];\n        // if (options.query && options.query._id) {\n        //   this.flushGetContentQueue([options])\n        // }\n        if (this.apiKey === 'DEMO' && !this.overrides[key] && !options.initialContent) {\n            options.initialContent = [];\n        }\n        var initialContent = options.initialContent;\n        // TODO: refresh option in options\n        if (currentObservable && (!currentObservable.value || options.cache)) {\n            // TODO: test if this ran, otherwise on 404 some observers may never be called...\n            if (currentObservable.value) {\n                nextTick(function() {\n                    // TODO: return a new observable and only that one fires subscribers, don't refire for existing ones\n                    currentObservable.next(currentObservable.value);\n                });\n            }\n            return currentObservable;\n        }\n        if (isEditingThisModel) {\n            if (Builder1.isBrowser) {\n                parent.postMessage({\n                    type: 'builder.updateContent',\n                    data: {\n                        options: options\n                    }\n                }, '*');\n            }\n        }\n        if (!initialContent /* || isEditingThisModel */ ) {\n            if (!this.getContentQueue) {\n                this.getContentQueue = [];\n            }\n            this.getContentQueue.push((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, options), {\n                model: modelName,\n                key: key\n            }));\n            if (this.getContentQueue && this.getContentQueue.length >= this.contentPerRequest) {\n                var queue_1 = this.getContentQueue.slice();\n                this.getContentQueue = [];\n                nextTick(function() {\n                    _this.flushGetContentQueue(false, queue_1);\n                });\n            } else {\n                nextTick(function() {\n                    _this.flushGetContentQueue();\n                });\n            }\n        }\n        var observable = new BehaviorSubject(null);\n        this.observersByKey[key] = observable;\n        if (options.noEditorUpdates) {\n            this.noEditorUpdates[key] = true;\n        }\n        if (initialContent) {\n            nextTick(function() {\n                // TODO: need to testModify this I think...?\n                observable.next(initialContent);\n            });\n        }\n        return observable;\n    };\n    // this is needed to satisfy the Angular SDK, which used to rely on the more complex version of `requestUrl`.\n    // even though we only use `fetch()` now, we prefer to keep the old behavior and use the `fetch` that comes from\n    // the core SDK for consistency\n    Builder1.prototype.requestUrl = function(url, options) {\n        return getFetch()(url, this.addSdkHeaders(options)).then(function(res) {\n            return res.json();\n        });\n    };\n    Object.defineProperty(Builder1.prototype, \"host\", {\n        get: function() {\n            switch(this.env){\n                case 'qa':\n                    return 'https://qa.builder.io';\n                case 'test':\n                    return 'https://builder-io-test.web.app';\n                case 'fast':\n                    return 'https://fast.builder.io';\n                case 'cloud':\n                    return 'https://cloud.builder.io';\n                case 'cdn2':\n                    return 'https://cdn2.builder.io';\n                case 'cdn-qa':\n                    return 'https://cdn-qa.builder.io';\n                case 'development':\n                case 'dev':\n                    return 'http://localhost:5000';\n                case 'cdn-prod':\n                    return 'https://cdn.builder.io';\n                default:\n                    return Builder1.overrideHost || 'https://cdn.builder.io';\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.getSdkHeaders = function() {\n        if (!Builder1.sdkInfo) {\n            return {};\n        }\n        return {\n            'X-Builder-SDK': Builder1.sdkInfo.name,\n            'X-Builder-SDK-GEN': '1',\n            'X-Builder-SDK-Version': Builder1.sdkInfo.version\n        };\n    };\n    Builder1.prototype.addSdkHeaders = function(fetchOptions) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, fetchOptions), {\n            headers: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, fetchOptions.headers), this.getSdkHeaders())\n        });\n    };\n    Builder1.prototype.makeFetchApiCall = function(url, requestOptions) {\n        return getFetch()(url, this.addSdkHeaders(requestOptions));\n    };\n    /**\r\n     * Flatten a nested MongoDB query object into a flat object with dot-separated keys.\r\n     * $ keys are not flattened and are left as is.\r\n     *\r\n     * { foo: { bar: { $gt: 5 }}} -> { 'foo.bar': { '$gt': 5 }}\r\n     * { foo: {'bar.id': { $elemMatch: { 'baz.id': { $in: ['abc', 'bcd'] }}}}} -> { 'foo.bar.id': { '$elemMatch': { 'baz.id': { '$in': ['abc', 'bcd'] }}}}\r\n     */ Builder1.prototype.flattenMongoQuery = function(obj, _current, _res) {\n        if (_res === void 0) {\n            _res = {};\n        }\n        for(var key in obj){\n            var value = obj[key];\n            var newKey = _current ? _current + '.' + key : key;\n            if (value && typeof value === 'object' && !Array.isArray(value) && !Object.keys(value).find(function(item) {\n                return item.startsWith('$');\n            })) {\n                this.flattenMongoQuery(value, newKey, _res);\n            } else {\n                _res[newKey] = value;\n            }\n        }\n        return _res;\n    };\n    Builder1.prototype.flushGetContentQueue = function(usePastQueue, useQueue) {\n        var _this = this;\n        var _a, _b;\n        if (usePastQueue === void 0) {\n            usePastQueue = false;\n        }\n        if (!this.apiKey) {\n            throw new Error(\"Fetching content failed, expected apiKey to be defined instead got: \".concat(this.apiKey));\n        }\n        if (this.apiVersion) {\n            if (![\n                'v1',\n                'v3'\n            ].includes(this.apiVersion)) {\n                throw new Error(\"Invalid apiVersion: expected 'v1' or 'v3', received '\".concat(this.apiVersion, \"'\"));\n            }\n        } else {\n            this.apiVersion = DEFAULT_API_VERSION;\n        }\n        if (!usePastQueue && !this.getContentQueue) {\n            return;\n        }\n        var queue = useQueue || (usePastQueue ? this.priorContentQueue : this.getContentQueue) || [];\n        // TODO: do this on every request send?\n        this.getOverridesFromQueryString();\n        var queryParams = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            // TODO: way to force a request to be in a separate queue. or just lower queue limit to be 1 by default\n            omit: (_a = queue[0].omit) !== null && _a !== void 0 ? _a : 'meta.componentsUsed',\n            apiKey: this.apiKey\n        }, queue[0].options), this.queryOptions);\n        if (queue[0].locale) {\n            queryParams.locale = queue[0].locale;\n        }\n        if (queue[0].fields) {\n            queryParams.fields = queue[0].fields;\n        }\n        if (queue[0].format) {\n            queryParams.format = queue[0].format;\n        }\n        if ('noTraverse' in queue[0]) {\n            queryParams.noTraverse = queue[0].noTraverse;\n        }\n        if ('includeUnpublished' in queue[0]) {\n            queryParams.includeUnpublished = queue[0].includeUnpublished;\n        }\n        if (queue[0].sort) {\n            queryParams.sort = queue[0].sort;\n        }\n        var pageQueryParams = (typeof location !== 'undefined' ? QueryString.parseDeep(location.search.substr(1)) : undefined) || {}; // TODO: WHAT about SSR (this.request) ?\n        var userAttributes = // FIXME: HACK: only checks first in queue for user attributes overrides, should check all\n        // TODO: merge user attributes provided here with defaults and current user attiributes (?)\n        queue && queue[0].userAttributes ? queue[0].userAttributes : this.targetContent ? this.getUserAttributes() : {\n            urlPath: this.getLocation().pathname\n        };\n        var fullUrlQueueItem = queue.find(function(item) {\n            return !!item.includeUrl;\n        });\n        if (fullUrlQueueItem) {\n            var location_1 = this.getLocation();\n            if (location_1.origin) {\n                queryParams.url = \"\".concat(location_1.origin).concat(location_1.pathname).concat(location_1.search);\n            }\n        }\n        var urlQueueItem = useQueue === null || useQueue === void 0 ? void 0 : useQueue.find(function(item) {\n            return item.url;\n        });\n        if (urlQueueItem === null || urlQueueItem === void 0 ? void 0 : urlQueueItem.url) {\n            userAttributes.urlPath = urlQueueItem.url.split('?')[0];\n        }\n        // TODO: merge in the attribute from query string ones\n        // TODO: make this an option per component/request\n        queryParams.userAttributes = JSON.stringify(userAttributes);\n        if (!usePastQueue && !useQueue) {\n            this.priorContentQueue = queue;\n            this.getContentQueue = null;\n        }\n        var cachebust = this.cachebust || isIframe || pageQueryParams.cachebust || pageQueryParams['builder.cachebust'];\n        if (cachebust || this.env !== 'production') {\n            queryParams.cachebust = true;\n        }\n        if (Builder1.isEditing) {\n            queryParams.isEditing = true;\n        }\n        if (this.noCache || this.env !== 'production') {\n            queryParams.noCache = true;\n        }\n        if (size(this.overrides)) {\n            for(var key in this.overrides){\n                if (this.overrides.hasOwnProperty(key)) {\n                    queryParams[\"overrides.\".concat(key)] = this.overrides[key];\n                }\n            }\n        }\n        for(var _i = 0, queue_2 = queue; _i < queue_2.length; _i++){\n            var options = queue_2[_i];\n            var format_1 = options.format;\n            if (format_1) {\n                queryParams.format = format_1;\n            }\n            // TODO: remove me and make permodel\n            if (options.static) {\n                queryParams.static = options.static;\n            }\n            if (options.cachebust) {\n                queryParams.cachebust = options.cachebust;\n            }\n            if (isPositiveNumber(options.cacheSeconds)) {\n                queryParams.cacheSeconds = options.cacheSeconds;\n            }\n            if (isPositiveNumber(options.staleCacheSeconds)) {\n                queryParams.staleCacheSeconds = options.staleCacheSeconds;\n            }\n            if (this.apiEndpoint === 'content') {\n                queryParams.includeRefs = true;\n            }\n            var properties = [\n                'prerender',\n                'extractCss',\n                'limit',\n                'offset',\n                'query',\n                'preview',\n                'model',\n                'entry',\n                'rev',\n                'static',\n                'includeRefs'\n            ];\n            for(var _c = 0, properties_1 = properties; _c < properties_1.length; _c++){\n                var key = properties_1[_c];\n                var value = options[key];\n                if (value !== undefined) {\n                    if (this.apiEndpoint === 'query') {\n                        queryParams.options = queryParams.options || {};\n                        queryParams.options[options.key] = queryParams.options[options.key] || {};\n                        queryParams.options[options.key][key] = JSON.stringify(value);\n                    } else {\n                        queryParams[key] = JSON.stringify(value);\n                    }\n                }\n            }\n        }\n        if (this.preview && this.previewingModel === ((_b = queue === null || queue === void 0 ? void 0 : queue[0]) === null || _b === void 0 ? void 0 : _b.model)) {\n            queryParams.preview = 'true';\n        }\n        var hasParams = Object.keys(queryParams).length > 0;\n        // TODO: option to force dev or qa api here\n        var host = this.host;\n        var keyNames = queue.map(function(item) {\n            return encodeURIComponent(item.key);\n        }).join(',');\n        if (this.overrideParams) {\n            var params = omit(QueryString.parse(this.overrideParams), 'apiKey');\n            assign(queryParams, params);\n        }\n        var format = queryParams.format;\n        var isApiCallForCodegen = format === 'solid' || format === 'react';\n        var isApiCallForCodegenOrQuery = isApiCallForCodegen || this.apiEndpoint === 'query';\n        if (this.apiEndpoint === 'content') {\n            if (queue[0].query) {\n                delete queryParams.query;\n                var objectToFlatten = {\n                    query: queue[0].query\n                };\n                var flattened = this.flattenMongoQuery(objectToFlatten);\n                for(var key in flattened){\n                    queryParams[key] = JSON.stringify(flattened[key]);\n                }\n            }\n        }\n        var queryStr = QueryString.stringifyDeep(queryParams);\n        var fetchOptions = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            headers: {}\n        }, queue[0].fetchOptions);\n        if (this.authToken) {\n            fetchOptions.headers = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, fetchOptions.headers), {\n                Authorization: \"Bearer \".concat(this.authToken)\n            });\n        }\n        var url;\n        if (isApiCallForCodegen) {\n            url = \"\".concat(host, \"/api/v1/codegen/\").concat(this.apiKey, \"/\").concat(keyNames);\n        } else if (this.apiEndpoint === 'query') {\n            url = \"\".concat(host, \"/api/v3/query/\").concat(this.apiKey, \"/\").concat(keyNames);\n        } else {\n            url = \"\".concat(host, \"/api/v3/content/\").concat(queue[0].model);\n        }\n        url = url + (queryParams && hasParams ? \"?\".concat(queryStr) : '');\n        var promise = this.makeFetchApiCall(url, fetchOptions).then(function(res) {\n            return res.json();\n        }).then(function(result) {\n            for(var _i = 0, queue_3 = queue; _i < queue_3.length; _i++){\n                var options = queue_3[_i];\n                var keyName = options.key;\n                if (options.model === _this.blockContentLoading && !options.noEditorUpdates) {\n                    continue;\n                }\n                var isEditingThisModel = _this.editingModel === options.model;\n                if (isEditingThisModel && Builder1.isEditing) {\n                    parent.postMessage({\n                        type: 'builder.updateContent',\n                        data: {\n                            options: options\n                        }\n                    }, '*');\n                // return;\n                }\n                var observer = _this.observersByKey[keyName];\n                if (!observer) {\n                    return;\n                }\n                var data = isApiCallForCodegenOrQuery ? result[keyName] : result.results;\n                var sorted = data; // sortBy(data, item => item.priority);\n                if (data) {\n                    var testModifiedResults = Builder1.isServer ? sorted : _this.processResultsForTests(sorted);\n                    observer.next(testModifiedResults);\n                } else {\n                    var search = _this.getLocation().search;\n                    if ((search || '').includes('builder.preview=' + options.model)) {\n                        var previewData = {\n                            id: 'preview',\n                            name: 'Preview',\n                            data: {}\n                        };\n                        observer.next([\n                            previewData\n                        ]);\n                    }\n                    observer.next([]);\n                }\n            }\n        }, function(err) {\n            for(var _i = 0, queue_4 = queue; _i < queue_4.length; _i++){\n                var options = queue_4[_i];\n                var observer = _this.observersByKey[options.key];\n                if (!observer) {\n                    return;\n                }\n                observer.error(err);\n            }\n        });\n        return promise;\n    };\n    Builder1.prototype.processResultsForTests = function(results) {\n        var _this = this;\n        var _a;\n        var mappedResults = results.map(function(item) {\n            if (!item.variations) {\n                return item;\n            }\n            var cookieValue = _this.getTestCookie(item.id);\n            var cookieVariation = cookieValue === item.id ? item : item.variations[cookieValue];\n            if (cookieVariation) {\n                return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, item), {\n                    data: cookieVariation.data,\n                    variationId: cookieValue,\n                    testVariationId: cookieValue,\n                    testVariationName: cookieVariation.name\n                });\n            }\n            if (_this.canTrack && item.variations && size(item.variations)) {\n                var n = 0;\n                var random = Math.random();\n                for(var id in item.variations){\n                    var variation = item.variations[id];\n                    var testRatio = variation.testRatio;\n                    n += testRatio;\n                    if (random < n) {\n                        _this.setTestCookie(item.id, variation.id);\n                        var variationName = variation.name || (variation.id === item.id ? 'Default variation' : '');\n                        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, item), {\n                            data: variation.data,\n                            variationId: variation.id,\n                            testVariationId: variation.id,\n                            variationName: variationName,\n                            testVariationName: variationName\n                        });\n                    }\n                }\n                _this.setTestCookie(item.id, item.id);\n            }\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, item), {\n                variationId: item.id\n            }), item.variations && size(item.variations) && {\n                testVariationId: item.id,\n                testVariationName: 'Default variation'\n            });\n        });\n        if (isIframe) {\n            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                type: 'builder.contentResults',\n                data: {\n                    results: mappedResults\n                }\n            }, '*');\n        }\n        return mappedResults;\n    };\n    Builder1.prototype.getTestCookie = function(contentId) {\n        return this.getCookie(\"\".concat(this.testCookiePrefix, \".\").concat(contentId));\n    };\n    Builder1.prototype.setTestCookie = function(contentId, variationId) {\n        if (!this.canTrack) {\n            this.cookieQueue.push([\n                contentId,\n                variationId\n            ]);\n            return;\n        }\n        // 30 days from now\n        var future = new Date();\n        future.setDate(future.getDate() + 30);\n        return this.setCookie(\"\".concat(this.testCookiePrefix, \".\").concat(contentId), variationId, future);\n    };\n    Builder1.prototype.getCookie = function(name) {\n        if (this.cookies) {\n            return this.cookies.get(name);\n        }\n        return Builder1.isBrowser && getCookie(name);\n    };\n    Builder1.prototype.setCookie = function(name, value, expires) {\n        if (this.cookies && !(Builder1.isServer && Builder1.isStatic)) {\n            return this.cookies.set(name, value, {\n                expires: expires,\n                secure: this.getLocation().protocol === 'https:'\n            });\n        }\n        return Builder1.isBrowser && setCookie(name, value, expires);\n    };\n    Builder1.prototype.getContent = function(modelName, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        if (!this.apiKey) {\n            throw new Error(\"Fetching content from model \".concat(modelName, \" failed, expected apiKey to be defined instead got: \").concat(this.apiKey));\n        }\n        return this.queueGetContent(modelName, options);\n    };\n    Builder1.prototype.getAll = function(modelName, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        var instance = this;\n        if (!Builder1.isBrowser) {\n            instance = new Builder1(options.apiKey || this.apiKey, options.req, options.res, false, options.authToken || this.authToken, options.apiVersion || this.apiVersion);\n            instance.setUserAttributes(this.getUserAttributes());\n        } else {\n            // NOTE: All these are when .init is not called and the customer\n            // directly calls .get on the singleton instance of Builder\n            if (options.apiKey && !this.apiKey) {\n                this.apiKey = options.apiKey;\n            }\n            if (options.authToken && !this.authToken) {\n                this.authToken = options.authToken;\n            }\n            if (options.apiVersion && !this.apiVersion) {\n                this.apiVersion = options.apiVersion;\n            }\n        }\n        // Set noTraverse=true if NOT already passed by user, for query performance\n        if (!('noTraverse' in options)) {\n            options.noTraverse = true;\n        }\n        return instance.getContent(modelName, (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            limit: 30\n        }, options), {\n            key: options.key || // Make the key include all options, so we don't reuse cache for the same content fetched\n            // with different options\n            Builder1.isBrowser ? \"\".concat(modelName, \":\").concat(hash_sum__WEBPACK_IMPORTED_MODULE_0___default()(omit(options, 'initialContent', 'req', 'res'))) : undefined\n        })).promise();\n    };\n    Builder1.VERSION = SDK_VERSION;\n    Builder1.components = [];\n    /**\r\n     * Makes it so that a/b tests generate code like {@link\r\n     * https://www.builder.io/blog/high-performance-no-code#__next:~:text=Static%20generated%20A%2FB%20testing}\r\n     * instead of the old way where we render only one test group at a time on the\r\n     * server. This is the preferred/better way not and we should ultimately make it\r\n     * the default\r\n     */ Builder1.isStatic = true;\n    Builder1.animator = new Animator();\n    Builder1.nextTick = nextTick;\n    Builder1.throttle = throttle;\n    Builder1.editors = [];\n    Builder1.trustedHosts = [\n        '*.beta.builder.io',\n        'beta.builder.io',\n        'builder.io',\n        'localhost',\n        'qa.builder.io'\n    ];\n    Builder1.plugins = [];\n    Builder1.actions = [];\n    Builder1.registry = {};\n    Builder1.attributesCookieName = 'builder.userAttributes';\n    Builder1.registryChange = new BehaviorSubject({});\n    Builder1._editingPage = false;\n    Builder1.isIframe = isIframe;\n    Builder1.isBrowser = isBrowser;\n    Builder1.isReactNative = isReactNative;\n    Builder1.isServer = !isBrowser && !isReactNative;\n    Builder1.previewingModel = Builder1.isBrowser && getQueryParam(location.href, 'builder.preview');\n    Builder1.settings = {};\n    Builder1.settingsChange = new BehaviorSubject({});\n    // TODO: this is quick and dirty, do better implementation later. Also can be unreliable\n    // if page 301s etc. Use a query param instead? also could have issues with redirects. Injecting var could\n    // work but is async...\n    Builder1.isEditing = Boolean(isIframe && (document.referrer && document.referrer.match(/builder\\.io|localhost:1234/) || location.search.indexOf('builder.frameEditing=') !== -1));\n    Builder1.isPreviewing = Boolean(isBrowser && (location.search.indexOf('builder.preview=') !== -1 || location.search.indexOf('builder.frameEditing=') !== -1));\n    Builder1.isReact = false;\n    Builder1.sdkInfo = undefined;\n    Builder1.overrideUserAttributes = {};\n    return Builder1;\n}();\nvar builder = new Builder(null, undefined, undefined, true);\nBuilder.singletonInstance = builder;\n //# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGJ1aWxkZXIuaW8vc2RrL2Rpc3QvaW5kZXguZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUMsWUFBWTtJQUNYLElBQUksSUFBeUUsRUFBRSxPQUFPLEtBQUssQ0FBQztJQUU1RixTQUFTLFdBQVcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFO1FBQ2xDLE1BQU0sR0FBRyxNQUFNLElBQUk7WUFBRSxPQUFPLEVBQUUsS0FBSztZQUFFLFVBQVUsRUFBRSxLQUFLO1lBQUUsTUFBTSxFQUFFLElBQUk7UUFBQSxDQUFFLENBQUM7UUFDdkUsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM5QyxHQUFHLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdFLE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBRztJQUVELE1BQU0sQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO0NBQ25DLENBQUMsR0FBRztBQ1hKLElBQU0sUUFBUSxHQUNaLE1BQTZCLElBQzdCLENBQWlFLENBQUM7QUFFcEUsSUFBTSxRQUFRLEdBQUcsT0FBTyxNQUFNLEdBQUssV0FBVyxDQUFDO0FBRS9DO0FBQ00sU0FBVSxRQUFRLENBQUMsRUFBYzs7Ozs7OztJQU9yQyxJQUFJLENBQUMsUUFBUSxJQUFJLFFBQVEsSUFBSSxPQUFPLGdCQUFnQixLQUFLLFdBQVcsRUFBRTtRQUNwRSxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDZixPQUFPO0lBQ1I7SUFDRCxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDZixJQUFNLFFBQVEsR0FBRyxJQUFJLGdCQUFnQixDQUFDO1FBQU0sU0FBRSxFQUFFO0lBQUEsRUFBQyxDQUFDO0lBQ2xELElBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENB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QUFDLENBQUM7UUFDakIsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ2xCLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksS0FBSyxFQUFFLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDekMsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxLQUFLLEVBQUUsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUN6QyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDbEIsR0FBRyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNsQixHQUFHLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUM7UUFDMUIsR0FBRyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDO0lBQzlDO0lBRUQsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ3RCLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUIsR0FBRyxDQUFDLElBQUksR0FBRyxVQUFHLENBQUMsQ0FBQyxRQUFRLFNBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBRSxDQUFDO0lBQ3RDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQztJQUUxQixPQUFPLEdBQUcsQ0FBQztBQUNiO0FDdkRBOzs7Ozs7Ozs7OztDQVdHLEdBQ0csU0FBVSxPQUFPLENBQUMsR0FBWTtJQUNsQyxJQUFJLEdBQUcsWUFBWSxLQUFLLEVBQUUsT0FBTyxHQUFHLENBQUM7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QUM7SUFDcEIsT0FBUyxjQUFHLFNBQVMsQ0FBQztJQUN0QixPQUFhLGtCQUFHLGFBQWEsQ0FBQztJQUM5QixpQkFBUSxHQUFHLENBQUMsU0FBUyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQ3hDLHdCQUFlLEdBQUcsT0FBTyxFQUFDLFNBQVMsSUFBSSxhQUFhLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0lBRXZGLE9BQVEsYUFBYSxFQUFFLENBQUM7SUFDeEIsdUJBQWMsR0FBRyxJQUFJLGVBQWUsQ0FBVyxFQUFFLENBQUMsQ0FBQzs7OztJQThCbkQsT0FBUyxjQUFHLE9BQU8sQ0FDeEIsUUFBUSxLQUNMLFFBQVMsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsNEJBQTRCLENBQUMsSUFDMUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsdUJBQXVCLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQyxDQUM3RDtJQUVNLE9BQVksaUJBQUcsT0FBTyxDQUMzQixTQUFTLEtBQ04sUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUMsSUFDakQsUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsdUJBQXVCLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQyxDQUM3RDtJQWtJTSxPQUFPLFlBQUcsS0FBSyxDQUFDO0lBQ2hCLE9BQU8sWUFBRyxTQUtKLENBQUM7SUFpYlAsT0FBc0IsMkJBQTRCLEVBQUUsQ0FBQztJQW92QzlELE9BQUM7QUFBQSxDQXhnRUQsRUF3Z0VDO0FDaDVGTSxJQUFNLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUU7QUFDckUsT0FBTyxDQUFDLGlCQUFpQixHQUFHLE9BQU8iLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb2JlcnRoaW5kcy9Eb2N1bWVudHMvc3JjL3BvbHlmaWxscy9jdXN0b20tZXZlbnQtcG9seWZpbGwuanMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9mdW5jdGlvbnMvbmV4dC10aWNrLmZ1bmN0aW9uLnRzIiwiL1VzZXJzL3JvYmVydGhpbmRzL0RvY3VtZW50cy9zcmMvY2xhc3Nlcy9xdWVyeS1zdHJpbmcuY2xhc3MudHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9jbGFzc2VzL29ic2VydmFibGUuY2xhc3MudHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9jbGFzc2VzL3Byb21pc2UuY2xhc3MudHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9mdW5jdGlvbnMvc2VydmVyLW9ubHktcmVxdWlyZS5mdW5jdGlvbi50cyIsIi9Vc2Vycy9yb2JlcnRoaW5kcy9Eb2N1bWVudHMvc3JjL2Z1bmN0aW9ucy9mZXRjaC5mdW5jdGlvbi50cyIsIi9Vc2Vycy9yb2JlcnRoaW5kcy9Eb2N1bWVudHMvc3JjL2Z1bmN0aW9ucy9hc3NpZ24uZnVuY3Rpb24udHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9mdW5jdGlvbnMvdGhyb3R0bGUuZnVuY3Rpb24udHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9jbGFzc2VzL2FuaW1hdG9yLmNsYXNzLnRzIiwiL1VzZXJzL3JvYmVydGhpbmRzL0RvY3VtZW50cy9zcmMvY2xhc3Nlcy9jb29raWVzLmNsYXNzLnRzIiwiL1VzZXJzL3JvYmVydGhpbmRzL0RvY3VtZW50cy9zcmMvZnVuY3Rpb25zL29taXQuZnVuY3Rpb24udHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9mdW5jdGlvbnMvdXVpZC50cyIsIi9Vc2Vycy9yb2JlcnRoaW5kcy9Eb2N1bWVudHMvc3JjL3VybC50cyIsIi9Vc2Vycy9yb2JlcnRoaW5kcy9Eb2N1bWVudHMvc3JjL2Z1bmN0aW9ucy90by1lcnJvci50cyIsIi9Vc2Vycy9yb2JlcnRoaW5kcy9Eb2N1bWVudHMvc3JjL3R5cGVzL2FwaS12ZXJzaW9uLnRzIiwiL1VzZXJzL3JvYmVydGhpbmRzL0RvY3VtZW50cy9zcmMvc2RrLXZlcnNpb24udHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9idWlsZGVyLmNsYXNzLnRzIiwiL1VzZXJzL3JvYmVydGhpbmRzL0RvY3VtZW50cy9zcmMvY29uc3RhbnRzL2J1aWxkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblxuICBmdW5jdGlvbiBDdXN0b21FdmVudChldmVudCwgcGFyYW1zKSB7XG4gICAgcGFyYW1zID0gcGFyYW1zIHx8IHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWw6IG51bGwgfTtcbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgZXZ0LmluaXRDdXN0b21FdmVudChldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsKTtcbiAgICByZXR1cm4gZXZ0O1xuICB9XG5cbiAgd2luZG93LkN1c3RvbUV2ZW50ID0gQ3VzdG9tRXZlbnQ7XG59KSgpO1xuIiwiY29uc3QgaXNTYWZhcmkgPVxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcblxuY29uc3QgaXNDbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcblxuLy8gVE9ETzogcXVldWUgYWxsIG9mIHRoZXNlIGluIGEgZGVib3VuY2VOZXh0VGlja1xuZXhwb3J0IGZ1bmN0aW9uIG5leHRUaWNrKGZuOiAoKSA9PiB2b2lkKSB7XG4gIC8vIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5uZXh0VGljaykge1xuICAvLyAgIGNvbnNvbGUubG9nKCdwcm9jZXNzLm5leHRUaWNrPycpO1xuICAvLyAgIHByb2Nlc3MubmV4dFRpY2soZm4pO1xuICAvLyAgIHJldHVybjtcbiAgLy8gfVxuICAvLyBGSVhNRTogZml4IHRoZSByZWFsIHNhZmFyaSBpc3N1ZSBvZiB0aGlzIHJhbmRvbWx5IG5vdCB3b3JraW5nXG4gIGlmICghaXNDbGllbnQgfHwgaXNTYWZhcmkgfHwgdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc2V0VGltZW91dChmbik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBjYWxsZWQgPSAwO1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IGZuKCkpO1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICB9KTtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gIGVsZW1lbnQuZGF0YSA9IFN0cmluZygoY2FsbGVkID0gKytjYWxsZWQpKTtcbn1cbiIsImV4cG9ydCB0eXBlIFN0cmluZ01hcCA9IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cbmNvbnN0IFBST1BFUlRZX05BTUVfREVOWV9MSVNUID0gT2JqZWN0LmZyZWV6ZShbJ19fcHJvdG9fXycsICdwcm90b3R5cGUnLCAnY29uc3RydWN0b3InXSk7XG5cbi8vIFRPRE86IHVuaXQgdGVzdHNcbmV4cG9ydCBjbGFzcyBRdWVyeVN0cmluZyB7XG4gIHN0YXRpYyBwYXJzZURlZXAocXVlcnlTdHJpbmc6IHN0cmluZykge1xuICAgIGNvbnN0IG9iaiA9IHRoaXMucGFyc2UocXVlcnlTdHJpbmcpO1xuICAgIHJldHVybiB0aGlzLmRlZXBlbihvYmopO1xuICB9XG5cbiAgc3RhdGljIHN0cmluZ2lmeURlZXAob2JqOiBhbnkpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLmZsYXR0ZW4ob2JqKTtcbiAgICByZXR1cm4gdGhpcy5zdHJpbmdpZnkobWFwKTtcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZShxdWVyeVN0cmluZzogc3RyaW5nKTogU3RyaW5nTWFwIHtcbiAgICBjb25zdCBxdWVyeTogU3RyaW5nTWFwID0ge307XG4gICAgY29uc3QgcGFpcnMgPSAocXVlcnlTdHJpbmdbMF0gPT09ICc/JyA/IHF1ZXJ5U3RyaW5nLnN1YnN0cigxKSA6IHF1ZXJ5U3RyaW5nKS5zcGxpdCgnJicpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhaXIgPSBwYWlyc1tpXS5zcGxpdCgnPScpO1xuICAgICAgLy8gVE9ETzogbm9kZSBzdXBwb3J0P1xuICAgICAgdHJ5IHtcbiAgICAgICAgcXVlcnlbZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMF0pXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdIHx8ICcnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElnbm9yZSBtYWxmb3JtZWQgVVJJIGNvbXBvbmVudHNcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9XG5cbiAgc3RhdGljIHN0cmluZ2lmeShtYXA6IFN0cmluZ01hcCkge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXApIHtcbiAgICAgIGlmIChtYXAuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG1hcFtrZXldO1xuICAgICAgICBpZiAoc3RyKSB7XG4gICAgICAgICAgc3RyICs9ICcmJztcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgc3RhdGljIGRlZXBlbihtYXA6IFN0cmluZ01hcCkge1xuICAgIC8vIEZJWE1FOyBTaG91bGQgYmUgdHlwZSBUcmVlID0gUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgVHJlZT5cbiAgICAvLyByZXF1aXJlcyBhIHR5cGVzY3JpcHQgdXBncmFkZS5cbiAgICBjb25zdCBvdXRwdXQ6IGFueSA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBtYXApIHtcbiAgICAgIGxldCB0ID0gb3V0cHV0O1xuICAgICAgY29uc3QgcGFydHMgPSBrLnNwbGl0KCcuJyk7XG4gICAgICBjb25zdCBrZXkgPSBwYXJ0cy5wb3AoKSE7XG4gICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICAgICAgYXNzZXJ0QWxsb3dlZFByb3BlcnR5TmFtZShwYXJ0KTtcbiAgICAgICAgdCA9IHRbcGFydF0gPSB0W3BhcnRdIHx8IHt9O1xuICAgICAgfVxuICAgICAgdFtrZXldID0gbWFwW2tdO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9XG5cbiAgc3RhdGljIGZsYXR0ZW4ob2JqOiBhbnksIF9jdXJyZW50PzogYW55LCBfcmVzOiBhbnkgPSB7fSk6IFN0cmluZ01hcCB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgY29uc3QgbmV3S2V5ID0gX2N1cnJlbnQgPyBfY3VycmVudCArICcuJyArIGtleSA6IGtleTtcbiAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRoaXMuZmxhdHRlbih2YWx1ZSwgbmV3S2V5LCBfcmVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9yZXNbbmV3S2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfcmVzO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydEFsbG93ZWRQcm9wZXJ0eU5hbWUobmFtZTogc3RyaW5nKTogYXNzZXJ0cyBuYW1lIHtcbiAgaWYgKFBST1BFUlRZX05BTUVfREVOWV9MSVNULmluZGV4T2YobmFtZSkgPj0gMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3BlcnR5IG5hbWUgXCIke25hbWV9XCIgaXMgbm90IGFsbG93ZWRgKTtcbn1cbiIsImV4cG9ydCB0eXBlIExpc3RlbmVyPFQ+ID0gKHZhbHVlOiBUKSA9PiB2b2lkO1xuXG5leHBvcnQgY2xhc3MgU3Vic2NyaXB0aW9uPEZ1bmN0aW9uVHlwZSA9IEZ1bmN0aW9uPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgbGlzdGVuZXJzPzogRnVuY3Rpb25UeXBlW10sXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcj86IEZ1bmN0aW9uVHlwZVxuICApIHt9XG5cbiAgdW5zdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgZ2V0IGNsb3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy51bnN1YnNjcmliZWQ7XG4gIH1cblxuICBwcml2YXRlIHJlYWRvbmx5IG90aGVyU3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICBhZGQoc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24pIHtcbiAgICB0aGlzLm90aGVyU3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICBpZiAodGhpcy51bnN1YnNjcmliZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMubGlzdGVuZXIgJiYgdGhpcy5saXN0ZW5lcnMpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZih0aGlzLmxpc3RlbmVyKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMub3RoZXJTdWJzY3JpcHRpb25zLmZvckVhY2goc3ViID0+IHN1Yi51bnN1YnNjcmliZSgpKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlZCA9IHRydWU7XG4gIH1cbn1cblxuLy8gVE9ETzogZm9sbG93IG1pbmltYWwgYmFzaWMgc3BlYzogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JzZXJ2YWJsZVxuZXhwb3J0IGNsYXNzIEJlaGF2aW9yU3ViamVjdDxUID0gYW55LCBFcnJvclR5cGUgPSBhbnk+IHtcbiAgY29uc3RydWN0b3IocHVibGljIHZhbHVlOiBUKSB7fVxuXG4gIHByaXZhdGUgbGlzdGVuZXJzOiBMaXN0ZW5lcjxUPltdID0gW107XG4gIHByaXZhdGUgZXJyb3JMaXN0ZW5lcnM6IExpc3RlbmVyPEVycm9yVHlwZT5bXSA9IFtdO1xuXG4gIG5leHQodmFsdWU6IFQpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXIodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IGltcGxlbWVudCB0aGlzIGFzIFBJUEUgaW5zdGVhZFxuICBtYXA8TmV3VHlwZSA9IGFueT4oZm46IChpdGVtOiBUKSA9PiBOZXdUeXBlKSB7XG4gICAgY29uc3QgbmV3U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8TmV3VHlwZT4oZm4odGhpcy52YWx1ZSkpO1xuICAgIC8vIFRPRE86IG9uIGRlc3Ryb3kgZGVsZXRlIHRoZXNlXG4gICAgdGhpcy5zdWJzY3JpYmUodmFsID0+IHtcbiAgICAgIG5ld1N1YmplY3QubmV4dChmbih2YWwpKTtcbiAgICB9KTtcbiAgICB0aGlzLmNhdGNoKGVyciA9PiB7XG4gICAgICBuZXdTdWJqZWN0LmVycm9yKGVycik7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld1N1YmplY3Q7XG4gIH1cblxuICBjYXRjaChlcnJvckxpc3RlbmVyOiBMaXN0ZW5lcjxFcnJvclR5cGU+KSB7XG4gICAgdGhpcy5lcnJvckxpc3RlbmVycy5wdXNoKGVycm9yTGlzdGVuZXIpO1xuICAgIHJldHVybiBuZXcgU3Vic2NyaXB0aW9uKHRoaXMuZXJyb3JMaXN0ZW5lcnMsIGVycm9yTGlzdGVuZXIpO1xuICB9XG5cbiAgZXJyb3IoZXJyb3I6IEVycm9yVHlwZSkge1xuICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5lcnJvckxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXIoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHN1YnNjcmliZShsaXN0ZW5lcjogTGlzdGVuZXI8VD4sIGVycm9yTGlzdGVuZXI/OiBMaXN0ZW5lcjxFcnJvclR5cGU+KSB7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgaWYgKGVycm9yTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZXJyb3JMaXN0ZW5lcnMucHVzaChlcnJvckxpc3RlbmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpcHRpb24odGhpcy5saXN0ZW5lcnMsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHRvUHJvbWlzZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8VD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5zdWJzY3JpYmUoXG4gICAgICAgIHZhbHVlID0+IHtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyID0+IHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByb21pc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9Qcm9taXNlKCk7XG4gIH1cblxuICB0aGVuOiBQcm9taXNlPFQ+Wyd0aGVuJ10gPSAoLi4uYXJncykgPT4ge1xuICAgIHJldHVybiB0aGlzLnRvUHJvbWlzZSgpLnRoZW4oLi4uYXJncyk7XG4gIH07XG59XG5cbi8vIFRPRE86IG1ha2UgZGlmZmVyZW50IGNsYXNzZXNcbmV4cG9ydCBjb25zdCBPYnNlcnZlciA9IEJlaGF2aW9yU3ViamVjdDtcbmV4cG9ydCBjb25zdCBPYnNlcnZhYmxlID0gQmVoYXZpb3JTdWJqZWN0O1xuIiwiaW1wb3J0IHsgbmV4dFRpY2sgfSBmcm9tICcuLi9mdW5jdGlvbnMvbmV4dC10aWNrLmZ1bmN0aW9uJztcblxuY29uc3QgU3RhdGUgPSB7XG4gIFBlbmRpbmc6ICdQZW5kaW5nJyxcbiAgRnVsZmlsbGVkOiAnRnVsZmlsbGVkJyxcbiAgUmVqZWN0ZWQ6ICdSZWplY3RlZCcsXG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbDogYW55KSB7XG4gIHJldHVybiB2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QodmFsOiBhbnkpIHtcbiAgcmV0dXJuIHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuaW50ZXJmYWNlIEhhbmRsZXI8VD4ge1xuICBvbkZ1bGZpbGxlZDogKHZhbDogVCkgPT4gYW55O1xuICBvblJlamVjdGVkOiAoZXJyOiBhbnkpID0+IGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIFRpbnlQcm9taXNlPFQgPSBhbnk+IHtcbiAgcHJpdmF0ZSBfc3RhdGUgPSBTdGF0ZS5QZW5kaW5nO1xuICBwcml2YXRlIF9oYW5kbGVyczogSGFuZGxlcjxUPltdID0gW107XG4gIHByaXZhdGUgX3ZhbHVlOiBUIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoZXhlY3V0b3I6IChyZXNvbHZlOiAodmFsOiBUKSA9PiBhbnksIHJlamVjdDogKGVycjogVCkgPT4gYW55KSA9PiB2b2lkKSB7XG4gICAgZXhlY3V0b3IodGhpcy5fcmVzb2x2ZS5iaW5kKHRoaXMpLCB0aGlzLl9yZWplY3QuYmluZCh0aGlzKSk7XG4gIH1cblxuICBwcml2YXRlIF9yZXNvbHZlKHg6IGFueSkge1xuICAgIGlmICh4IGluc3RhbmNlb2YgVGlueVByb21pc2UpIHtcbiAgICAgIHgudGhlbih0aGlzLl9yZXNvbHZlLmJpbmQodGhpcyksIHRoaXMuX3JlamVjdC5iaW5kKHRoaXMpKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHgpIHx8IGlzRnVuY3Rpb24oeCkpIHtcbiAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRoZW5hYmxlID0gKHggYXMgUHJvbWlzZTxhbnk+KS50aGVuO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGVuYWJsZSkpIHtcbiAgICAgICAgICB0aGVuYWJsZS5jYWxsKFxuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIChyZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkgdGhpcy5fcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkIGFzIGFueTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkgdGhpcy5fcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZCBhcyBhbnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9mdWxmaWxsKHgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgIHRoaXMuX3JlamVjdChleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZnVsZmlsbCh4KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9mdWxmaWxsKHJlc3VsdDogVCkge1xuICAgIHRoaXMuX3N0YXRlID0gU3RhdGUuRnVsZmlsbGVkO1xuICAgIHRoaXMuX3ZhbHVlID0gcmVzdWx0O1xuICAgIHRoaXMuX2hhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiB0aGlzLl9jYWxsSGFuZGxlcihoYW5kbGVyKSk7XG4gIH1cblxuICBwcml2YXRlIF9yZWplY3QoZXJyb3I6IGFueSkge1xuICAgIHRoaXMuX3N0YXRlID0gU3RhdGUuUmVqZWN0ZWQ7XG4gICAgdGhpcy5fdmFsdWUgPSBlcnJvcjtcbiAgICB0aGlzLl9oYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4gdGhpcy5fY2FsbEhhbmRsZXIoaGFuZGxlcikpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaXNQZW5kaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gU3RhdGUuUGVuZGluZztcbiAgfVxuXG4gIHByaXZhdGUgX2lzRnVsZmlsbGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gU3RhdGUuRnVsZmlsbGVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfaXNSZWplY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGUgPT09IFN0YXRlLlJlamVjdGVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfYWRkSGFuZGxlcihvbkZ1bGZpbGxlZDogKHZhbDogVCkgPT4gYW55LCBvblJlamVjdGVkOiAoZXJyOiBhbnkpID0+IGFueSkge1xuICAgIHRoaXMuX2hhbmRsZXJzLnB1c2goe1xuICAgICAgb25GdWxmaWxsZWQsXG4gICAgICBvblJlamVjdGVkLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfY2FsbEhhbmRsZXIoaGFuZGxlcjogSGFuZGxlcjxUPikge1xuICAgIGlmICh0aGlzLl9pc0Z1bGZpbGxlZCgpICYmIGlzRnVuY3Rpb24oaGFuZGxlci5vbkZ1bGZpbGxlZCkpIHtcbiAgICAgIGhhbmRsZXIub25GdWxmaWxsZWQodGhpcy5fdmFsdWUgYXMgVCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc1JlamVjdGVkKCkgJiYgaXNGdW5jdGlvbihoYW5kbGVyLm9uUmVqZWN0ZWQpKSB7XG4gICAgICBoYW5kbGVyLm9uUmVqZWN0ZWQodGhpcy5fdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHRoZW4ob25GdWxmaWxsZWQ6ICh2YWw6IFQpID0+IGFueSwgb25SZWplY3RlZDogKGVycjogYW55KSA9PiBhbnkpIHtcbiAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICBjYXNlIFN0YXRlLlBlbmRpbmc6IHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55UHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgdGhpcy5fYWRkSGFuZGxlcihcbiAgICAgICAgICAgIHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvbkZ1bGZpbGxlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvbkZ1bGZpbGxlZCh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgIHJlamVjdChleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob25SZWplY3RlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvblJlamVjdGVkKGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICByZWplY3QoZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgU3RhdGUuRnVsZmlsbGVkOiB7XG4gICAgICAgIHJldHVybiBuZXcgVGlueVByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uRnVsZmlsbGVkKSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUob25GdWxmaWxsZWQodGhpcy5fdmFsdWUgYXMgVCkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5fdmFsdWUgYXMgVCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgIHJlamVjdChleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFN0YXRlLlJlamVjdGVkOiB7XG4gICAgICAgIHJldHVybiBuZXcgVGlueVByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uUmVqZWN0ZWQpKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShvblJlamVjdGVkKHRoaXMuX3ZhbHVlKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0ICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgPyBQcm9taXNlIDogVGlueVByb21pc2UpIGFzIFByb21pc2VDb25zdHJ1Y3RvcjtcbiIsIi8vIFdlYnBhY2sgd29ya2Fyb3VuZCB0byBjb25kaXRpb25hbGx5IHJlcXVpcmUgY2VydGFpbiBleHRlcm5hbCBtb2R1bGVzXG4vLyBvbmx5IG9uIHRoZSBzZXJ2ZXIgYW5kIG5vdCBidW5kbGUgdGhlbSBvbiB0aGUgY2xpZW50XG5sZXQgc2VydmVyT25seVJlcXVpcmU6IE5vZGVSZXF1aXJlO1xudHJ5IHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWV2YWxcbiAgc2VydmVyT25seVJlcXVpcmUgPSBldmFsKCdyZXF1aXJlJyk7XG59IGNhdGNoIChlcnIpIHtcbiAgLy8gYWxsIGdvb2RcbiAgc2VydmVyT25seVJlcXVpcmUgPSAoKCkgPT4gbnVsbCkgYXMgYW55O1xufVxuXG5leHBvcnQgZGVmYXVsdCBzZXJ2ZXJPbmx5UmVxdWlyZTtcbiIsImltcG9ydCBQcm9taXNlIGZyb20gJy4uL2NsYXNzZXMvcHJvbWlzZS5jbGFzcyc7XG5pbXBvcnQgc2VydmVyT25seVJlcXVpcmUgZnJvbSAnLi9zZXJ2ZXItb25seS1yZXF1aXJlLmZ1bmN0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBTaW1wbGlmaWVkRmV0Y2hPcHRpb25zIHtcbiAgYm9keT86IHN0cmluZztcbiAgaGVhZGVycz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIG1ldGhvZD86ICdHRVQnIHwgJ1BPU1QnIHwgJ1BVVCcgfCAnREVMRVRFJyB8ICdQQVRDSCc7XG4gIGNyZWRlbnRpYWxzPzogJ2luY2x1ZGUnO1xuICBtb2RlPzogUmVxdWVzdE1vZGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2ltcGxlRmV0Y2hSZXNwb25zZSB7XG4gIG9rOiBib29sZWFuO1xuICBzdGF0dXM6IG51bWJlcjtcbiAgc3RhdHVzVGV4dDogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbiAgY2xvbmU6ICgpID0+IGFueTtcbiAgdGV4dDogKCkgPT4gUHJvbWlzZTxzdHJpbmc+O1xuICBqc29uOiAoKSA9PiBQcm9taXNlPGFueT47XG4gIGJsb2I6ICgpID0+IFByb21pc2U8QmxvYj47XG4gIGhlYWRlcnM6IHtcbiAgICBrZXlzOiAoKSA9PiBzdHJpbmdbXTtcbiAgICBlbnRyaWVzOiAoKSA9PiBbc3RyaW5nLCBzdHJpbmddW107XG4gICAgZ2V0OiAobjogc3RyaW5nKSA9PiBzdHJpbmc7XG4gICAgaGFzOiAobjogc3RyaW5nKSA9PiBib29sZWFuO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9taXNlUmVzb2x2ZTxUPih2YWx1ZTogVCkge1xuICByZXR1cm4gbmV3IFByb21pc2U8VD4ocmVzb2x2ZSA9PiByZXNvbHZlKHZhbHVlKSk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGV2ZWxvcGl0L3VuZmV0Y2gvbWFzdGVyL3NyYy9pbmRleC5tanNcbmZ1bmN0aW9uIHRpbnlGZXRjaCh1cmw6IHN0cmluZywgb3B0aW9uczogU2ltcGxpZmllZEZldGNoT3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxTaW1wbGVGZXRjaFJlc3BvbnNlPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgcmVxdWVzdC5vcGVuKG9wdGlvbnMubWV0aG9kIHx8ICdnZXQnLCB1cmwsIHRydWUpO1xuXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgZm9yIChjb25zdCBpIGluIG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoaSwgb3B0aW9ucy5oZWFkZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJztcblxuICAgIHJlcXVlc3Qub25sb2FkID0gKCkgPT4ge1xuICAgICAgcmVzb2x2ZShyZXNwb25zZSgpKTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbmVycm9yID0gcmVqZWN0O1xuXG4gICAgcmVxdWVzdC5zZW5kKG9wdGlvbnMuYm9keSk7XG5cbiAgICBmdW5jdGlvbiByZXNwb25zZSgpIHtcbiAgICAgIGNvbnN0IGtleXM6IHN0cmluZ1tdID0gW107XG4gICAgICBjb25zdCBhbGw6IFtzdHJpbmcsIHN0cmluZ11bXSA9IFtdO1xuICAgICAgY29uc3QgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICAgICAgbGV0IGhlYWRlcjogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICByZXF1ZXN0XG4gICAgICAgIC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAucmVwbGFjZSgvXiguKj8pOlteXFxTXFxuXSooW1xcc1xcU10qPykkL2dtLCAoX21hdGNoLCBfa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgIGxldCBrZXkgPSBfa2V5O1xuICAgICAgICAgIGtleXMucHVzaCgoa2V5ID0ga2V5LnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgICBhbGwucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIGhlYWRlciA9IGhlYWRlcnNba2V5XTtcbiAgICAgICAgICBoZWFkZXJzW2tleV0gPSBoZWFkZXIgPyBgJHtoZWFkZXJ9LCR7dmFsdWV9YCA6IHZhbHVlO1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9rOiAoKHJlcXVlc3Quc3RhdHVzIC8gMTAwKSB8IDApID09PSAyLCAvLyAyMDAtMjk5XG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgdXJsOiByZXF1ZXN0LnJlc3BvbnNlVVJMLFxuICAgICAgICBjbG9uZTogcmVzcG9uc2UsXG4gICAgICAgIHRleHQ6ICgpID0+IHByb21pc2VSZXNvbHZlKHJlcXVlc3QucmVzcG9uc2VUZXh0KSxcbiAgICAgICAganNvbjogKCkgPT4gcHJvbWlzZVJlc29sdmUocmVxdWVzdC5yZXNwb25zZVRleHQpLnRoZW4oSlNPTi5wYXJzZSksXG4gICAgICAgIGJsb2I6ICgpID0+IHByb21pc2VSZXNvbHZlKG5ldyBCbG9iKFtyZXF1ZXN0LnJlc3BvbnNlXSkpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAga2V5czogKCkgPT4ga2V5cyxcbiAgICAgICAgICBlbnRyaWVzOiAoKSA9PiBhbGwsXG4gICAgICAgICAgZ2V0OiAobjogc3RyaW5nKSA9PiBoZWFkZXJzW24udG9Mb3dlckNhc2UoKV0sXG4gICAgICAgICAgaGFzOiAobjogc3RyaW5nKSA9PiBuLnRvTG93ZXJDYXNlKCkgaW4gaGVhZGVycyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZldGNoKCkge1xuICAvLyBJZiBmZXRjaCBpcyBkZWZpbmVkLCBpbiB0aGUgYnJvd3NlciwgdmlhIHBvbHlmaWxsLCBvciBpbiBhIENsb3VkZmxhcmUgd29ya2VyLCB1c2UgaXQuXG4gIGxldCBfZmV0Y2g6IHR5cGVvZiBmZXRjaCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgaWYgKGdsb2JhbFRoaXMuZmV0Y2gpIHtcbiAgICBfZmV0Y2ggPz89IGdsb2JhbFRoaXMuZmV0Y2ggYXMgYW55O1xuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gSWYgZmV0Y2ggaXMgbm90IGRlZmluZWQsIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCwgdXNlIG5vZGUtZmV0Y2guXG4gICAgdHJ5IHtcbiAgICAgIC8vIG5vZGUtZmV0Y2hAXjMgaXMgRVNNIG9ubHksIGFuZCB3aWxsIHRocm93IGVycm9yIG9uIHJlcXVpcmUuXG4gICAgICBfZmV0Y2ggPz89IHNlcnZlck9ubHlSZXF1aXJlKCdub2RlLWZldGNoJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWYgbm9kZS1mZXRjaCBpcyBub3QgaW5zdGFsbGVkLCB1c2UgdGlueS1mZXRjaC5cbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ25vZGUtZmV0Y2ggaXMgbm90IGluc3RhbGxlZC4gY29uc2lkZXIgcG9seWZpbGxpbmcgZmV0Y2ggb3IgaW5zdGFsbGluZyBub2RlLWZldGNoLidcbiAgICAgICk7XG4gICAgICBjb25zb2xlLndhcm4oZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gT3RoZXJ3aXNlLCB1c2UgdGlueS1mZXRjaC5cbiAgcmV0dXJuIF9mZXRjaCA/PyB0aW55RmV0Y2g7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhcmdldDogb2JqZWN0LCAuLi5hcmdzOiBhbnlbXSkge1xuICBjb25zdCB0byA9IE9iamVjdCh0YXJnZXQpO1xuXG4gIGZvciAobGV0IGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY29uc3QgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cbiAgICBpZiAobmV4dFNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAvLyBTa2lwIG92ZXIgaWYgdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgIGZvciAoY29uc3QgbmV4dEtleSBpbiBuZXh0U291cmNlKSB7XG4gICAgICAgIC8vIEF2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZShmdW5jOiBGdW5jdGlvbiwgd2FpdDogbnVtYmVyLCBvcHRpb25zOiBhbnkgPSB7fSkge1xuICBsZXQgY29udGV4dDogYW55O1xuICBsZXQgYXJnczogYW55O1xuICBsZXQgcmVzdWx0OiBhbnk7XG4gIGxldCB0aW1lb3V0ID0gbnVsbCBhcyBhbnk7XG4gIGxldCBwcmV2aW91cyA9IDA7XG4gIGNvbnN0IGxhdGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBEYXRlLm5vdygpO1xuICAgIHRpbWVvdXQgPSBudWxsO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gIH07XG4gIHJldHVybiBmdW5jdGlvbiAodGhpczogYW55KSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgIGNvbnN0IHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgIGNvbnRleHQgPSB0aGlzO1xuICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICB9XG4gICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cbiIsImltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnLi4vZnVuY3Rpb25zL3Rocm90dGxlLmZ1bmN0aW9uJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL2Z1bmN0aW9ucy9hc3NpZ24uZnVuY3Rpb24nO1xuXG5jb25zdCBjYW1lbENhc2VUb0tlYmFiQ2FzZSA9IChzdHI/OiBzdHJpbmcpID0+XG4gIHN0ciA/IHN0ci5yZXBsYWNlKC8oW0EtWl0pL2csIGcgPT4gYC0ke2dbMF0udG9Mb3dlckNhc2UoKX1gKSA6ICcnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFuaW1hdGlvblN0ZXAge1xuICAvLyBGaXJzdCBvbmUgaXMgYWx3YXlzIHN0YXJ0IHN0YXRlXG4gIC8vIGlzU3RhcnRTdGF0ZT86IGJvb2xlYW47XG4gIHN0eWxlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgZGVsYXk/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5pbWF0aW9uIHtcbiAgZWxlbWVudElkOiBzdHJpbmc7XG4gIHRyaWdnZXI6IHN0cmluZztcbiAgc3RlcHM6IEFuaW1hdGlvblN0ZXBbXTtcbiAgZHVyYXRpb246IG51bWJlcjtcbiAgZGVsYXk/OiBudW1iZXI7XG4gIGVhc2luZz86IHN0cmluZztcbiAgLy8gVE9ETzogZGVwcmVjYXRlIC0gb25seSBoZXJlIGJlY2F1c2Ugb2YgYW4gQVBJIGJ1Z1xuICBpZD86IHN0cmluZztcbiAgLy8gb25seSBhcHBseSBpbiBzY3JvbGxJblZpZXdcbiAgcmVwZWF0PzogYm9vbGVhbjtcbiAgLy8gb25seSBhcHBseSBpbiBzY3JvbGxJblZpZXcsIG51bWJlciBmcm9tIC0xIHRvIDFcbiAgdGhyZXNob2xkUGVyY2VudD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEFuaW1hdG9yIHtcbiAgYmluZEFuaW1hdGlvbnMoYW5pbWF0aW9uczogQW5pbWF0aW9uW10pIHtcbiAgICBmb3IgKGNvbnN0IGFuaW1hdGlvbiBvZiBhbmltYXRpb25zKSB7XG4gICAgICBzd2l0Y2ggKGFuaW1hdGlvbi50cmlnZ2VyKSB7XG4gICAgICAgIGNhc2UgJ3BhZ2VMb2FkJzpcbiAgICAgICAgICB0aGlzLnRyaWdnZXJBbmltYXRpb24oYW5pbWF0aW9uKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaG92ZXInOlxuICAgICAgICAgIHRoaXMuYmluZEhvdmVyQW5pbWF0aW9uKGFuaW1hdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Njcm9sbEluVmlldyc6XG4gICAgICAgICAgdGhpcy5iaW5kU2Nyb2xsSW5WaWV3QW5pbWF0aW9uKGFuaW1hdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB3YXJuRWxlbWVudE5vdFByZXNlbnQoaWQ6IHN0cmluZykge1xuICAgIGNvbnNvbGUud2FybihgQ2Fubm90IGFuaW1hdGUgZWxlbWVudDogZWxlbWVudCB3aXRoIElEICR7aWR9IG5vdCBmb3VuZCFgKTtcbiAgfVxuXG4gIHByaXZhdGUgYXVnbWVudEFuaW1hdGlvbihhbmltYXRpb246IEFuaW1hdGlvbiwgZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBzdHlsZXNVc2VkID0gdGhpcy5nZXRBbGxTdHlsZXNVc2VkKGFuaW1hdGlvbik7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZTogYW55ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAvLyBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAvLyAvLyBGSVhNRTogdGhpcyB3aWxsIGJyZWFrIGlmIG9yaWdpbmFsIGxvYWQgaXMgaW4gb25lIHJlcG9uc2l2ZSBzaXplIHRoZW4gcmVzaXplIHRvIGFub3RoZXIgaG1tbVxuICAgIC8vIE5lZWQgdG8gdXNlIHRyYW5zZm9ybSBpbnN0ZWFkIG9mIGxlZnQgc2luY2UgbGVmdCBjYW4gY2hhbmdlIG9uIHNjcmVlbiBzaXplc1xuICAgIGNvbnN0IGZpcnN0U3R5bGVzID0gYW5pbWF0aW9uLnN0ZXBzWzBdLnN0eWxlcztcbiAgICBjb25zdCBsYXN0U3R5bGVzID0gYW5pbWF0aW9uLnN0ZXBzW2FuaW1hdGlvbi5zdGVwcy5sZW5ndGggLSAxXSEuc3R5bGVzO1xuICAgIGNvbnN0IGJvdGhTdHlsZXMgPSBbZmlyc3RTdHlsZXMsIGxhc3RTdHlsZXNdO1xuXG4gICAgLy8gRklYTUU6IHRoaXMgd29uJ3Qgd29yayBhcyBleHBlY3RlZCBmb3IgYXVnbWVudGVkIGFuaW1hdGlvbnMgLSBtYXkgbmVlZCB0aGUgZWRpdG9yIGl0c2VsZiB0byBtYW5hZ2UgdGhpc1xuICAgIGZvciAoY29uc3Qgc3R5bGVzIG9mIGJvdGhTdHlsZXMpIHtcbiAgICAgIGZvciAoY29uc3Qgc3R5bGUgb2Ygc3R5bGVzVXNlZCkge1xuICAgICAgICBpZiAoIShzdHlsZSBpbiBzdHlsZXMpKSB7XG4gICAgICAgICAgc3R5bGVzW3N0eWxlXSA9IGNvbXB1dGVkU3R5bGVbc3R5bGVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRBbGxTdHlsZXNVc2VkKGFuaW1hdGlvbjogQW5pbWF0aW9uKSB7XG4gICAgY29uc3QgcHJvcGVydGllczogKGtleW9mIENTU1N0eWxlRGVjbGFyYXRpb24pW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHN0ZXAgb2YgYW5pbWF0aW9uLnN0ZXBzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBzdGVwLnN0eWxlcykge1xuICAgICAgICBpZiAocHJvcGVydGllcy5pbmRleE9mKGtleSBhcyBhbnkpID09PSAtMSkge1xuICAgICAgICAgIHByb3BlcnRpZXMucHVzaChrZXkgYXMgYW55KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcGVydGllcztcbiAgfVxuXG4gIHRyaWdnZXJBbmltYXRpb24oYW5pbWF0aW9uOiBBbmltYXRpb24pIHtcbiAgICAvLyBUT0RPOiBkbyBmb3IgQUxMIGVsZW1lbnRzXG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYW5pbWF0aW9uLmVsZW1lbnRJZCB8fCBhbmltYXRpb24uaWQgfHwgJycpXG4gICAgKSBhcyBIVE1MRWxlbWVudFtdO1xuICAgIGlmICghZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLndhcm5FbGVtZW50Tm90UHJlc2VudChhbmltYXRpb24uZWxlbWVudElkIHx8IGFuaW1hdGlvbi5pZCB8fCAnJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQXJyYXkuZnJvbShlbGVtZW50cykuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMuYXVnbWVudEFuaW1hdGlvbihhbmltYXRpb24sIGVsZW1lbnQpO1xuICAgICAgLy8gVE9ETzogZG8gdGhpcyBwcm9wZXJseSwgbWF5IGhhdmUgb3RoZXIgYW5pbWF0aW9ucyBvZiBkaWZmZXJlbnQgcHJvcGVydGllc1xuXG4gICAgICAvLyBUT0RPOiBvbmx5IG92ZXJyaWRlIHRoZSBwcm9wZXJ0aWVzXG4gICAgICAvLyBUT0RPOiBpZiB0aGVyZSBpcyBhbiBlbnRyYW5jZSBhbmQgaG92ZXIgYW5pbWF0aW9uLCB0aGUgdHJhbnNpdGlvbiBkdXJhdGlvbiB3aWxsIGdldCBlZmZlZFxuICAgICAgLy8gZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJycpO1xuXG4gICAgICAvLyBjb25zdCBzdHlsZWRVc2VkID0gdGhpcy5nZXRBbGxTdHlsZXNVc2VkKGFuaW1hdGlvbik7XG4gICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7XG4gICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9ICcwJztcbiAgICAgIGFzc2lnbihlbGVtZW50LnN0eWxlLCBhbmltYXRpb24uc3RlcHNbMF0uc3R5bGVzKTtcbiAgICAgIC8vIFRPRE86IHF1ZXVlL2JhdGNoIHRoZXNlIHRpbWVvdXRzXG4gICAgICAvLyBUT0RPOiBvbmx5IGluY2x1ZGUgcHJvcGVydGllcyBleHBsaWNpdGx5IHNldCBpbiB0aGUgYW5pbWF0aW9uXG4gICAgICAvLyB1c2luZyBPYmplY3Qua2V5cyhzdHlsZXMpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCAke2FuaW1hdGlvbi5kdXJhdGlvbn1zICR7Y2FtZWxDYXNlVG9LZWJhYkNhc2UoXG4gICAgICAgICAgYW5pbWF0aW9uLmVhc2luZ1xuICAgICAgICApfWA7XG4gICAgICAgIGlmIChhbmltYXRpb24uZGVsYXkpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9IGFuaW1hdGlvbi5kZWxheSArICdzJztcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ24oZWxlbWVudC5zdHlsZSwgYW5pbWF0aW9uLnN0ZXBzWzFdLnN0eWxlcyk7XG4gICAgICAgIC8vIFRPRE86IG1heWJlIHJlbW92ZS9yZXNldCB0cmFuc2l0b2luIHByb3BlcnR5IGFmdGVyIGFuaW1hdGlvbiBkdXJhdGlvblxuXG4gICAgICAgIC8vIFRPRE86IHF1ZXVlIHRpbWVyc1xuICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE86IHdoYXQgaWYgaGFzIG90aGVyIHRyYW5zaXRpb24gKHJlc2V0IGJhY2sgdG8gd2hhdCBpdCB3YXMpXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnJztcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gJyc7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoYW5pbWF0aW9uLmRlbGF5IHx8IDApICogMTAwMCArIGFuaW1hdGlvbi5kdXJhdGlvbiAqIDEwMDAgKyAxMDBcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYmluZEhvdmVyQW5pbWF0aW9uKGFuaW1hdGlvbjogQW5pbWF0aW9uKSB7XG4gICAgLy8gVE9ETzogaXMgaXQgbXVsdGlwbGUgYmluZGluZyB3aGVuIGVkaXRpbmcuLi4/XG4gICAgLy8gVE9ETzogdW5iaW5kIG9uIGVsZW1lbnQgcmVtb3ZlXG4gICAgLy8gVE9ETzogYXBwbHkgdG8gQUxMIGVsZW1lbnRzXG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYW5pbWF0aW9uLmVsZW1lbnRJZCB8fCBhbmltYXRpb24uaWQgfHwgJycpXG4gICAgKSBhcyBIVE1MRWxlbWVudFtdO1xuICAgIGlmICghZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLndhcm5FbGVtZW50Tm90UHJlc2VudChhbmltYXRpb24uZWxlbWVudElkIHx8IGFuaW1hdGlvbi5pZCB8fCAnJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQXJyYXkuZnJvbShlbGVtZW50cykuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMuYXVnbWVudEFuaW1hdGlvbihhbmltYXRpb24sIGVsZW1lbnQpO1xuXG4gICAgICBjb25zdCBkZWZhdWx0U3RhdGUgPSBhbmltYXRpb24uc3RlcHNbMF0uc3R5bGVzO1xuICAgICAgY29uc3QgaG92ZXJTdGF0ZSA9IGFuaW1hdGlvbi5zdGVwc1sxXS5zdHlsZXM7XG4gICAgICBmdW5jdGlvbiBhdHRhY2hEZWZhdWx0U3RhdGUoKSB7XG4gICAgICAgIGFzc2lnbihlbGVtZW50IS5zdHlsZSwgZGVmYXVsdFN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGF0dGFjaEhvdmVyU3RhdGUoKSB7XG4gICAgICAgIGFzc2lnbihlbGVtZW50IS5zdHlsZSwgaG92ZXJTdGF0ZSk7XG4gICAgICB9XG4gICAgICBhdHRhY2hEZWZhdWx0U3RhdGUoKTtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGF0dGFjaEhvdmVyU3RhdGUpO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgYXR0YWNoRGVmYXVsdFN0YXRlKTtcbiAgICAgIC8vIFRPRE86IHF1ZXVlL2JhdGNoIHRoZXNlIHRpbWVvdXRzXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCAke2FuaW1hdGlvbi5kdXJhdGlvbn1zICR7Y2FtZWxDYXNlVG9LZWJhYkNhc2UoXG4gICAgICAgICAgYW5pbWF0aW9uLmVhc2luZ1xuICAgICAgICApfWA7XG4gICAgICAgIGlmIChhbmltYXRpb24uZGVsYXkpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9IGFuaW1hdGlvbi5kZWxheSArICdzJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBUT0RPOiB1bmJpbmQgb24gZWxlbWVudCByZW1vdmVcbiAgYmluZFNjcm9sbEluVmlld0FuaW1hdGlvbihhbmltYXRpb246IEFuaW1hdGlvbikge1xuICAgIC8vIFRPRE86IGFwcGx5IHRvIEFMTCBtYXRjaGluZyBlbGVtZW50c1xuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGFuaW1hdGlvbi5lbGVtZW50SWQgfHwgYW5pbWF0aW9uLmlkIHx8ICcnKVxuICAgICkgYXMgSFRNTEVsZW1lbnRbXTtcbiAgICBpZiAoIWVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgdGhpcy53YXJuRWxlbWVudE5vdFByZXNlbnQoYW5pbWF0aW9uLmVsZW1lbnRJZCB8fCBhbmltYXRpb24uaWQgfHwgJycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRPRE86IGlmIHNlcnZlciBzaWRlIHJlbmRlcmVkIGFuZCBzY3JvbGxlZCBpbnRvIHZpZXcgZG9uJ3QgYW5pbWF0ZS4uLlxuICAgIEFycmF5LmZyb20oZWxlbWVudHMpLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLmF1Z21lbnRBbmltYXRpb24oYW5pbWF0aW9uLCBlbGVtZW50KTtcblxuICAgICAgbGV0IHRyaWdnZXJlZCA9IGZhbHNlO1xuICAgICAgbGV0IHBlbmRpbmdBbmltYXRpb24gPSBmYWxzZTtcbiAgICAgIGZ1bmN0aW9uIGltbWVkaWF0ZU9uU2Nyb2xsKCkge1xuICAgICAgICBpZiAoIXRyaWdnZXJlZCAmJiBpc1Njcm9sbGVkSW50b1ZpZXcoZWxlbWVudCkpIHtcbiAgICAgICAgICB0cmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICAgIHBlbmRpbmdBbmltYXRpb24gPSB0cnVlO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgYXNzaWduKGVsZW1lbnQhLnN0eWxlLCBhbmltYXRpb24uc3RlcHNbMV0uc3R5bGVzKTtcbiAgICAgICAgICAgIGlmICghYW5pbWF0aW9uLnJlcGVhdCkge1xuICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0FuaW1hdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uLnJlcGVhdCkge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gJyc7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgKGFuaW1hdGlvbi5kdXJhdGlvbiArIChhbmltYXRpb24uZGVsYXkgfHwgMCkpICogMTAwMCArIDEwMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBhbmltYXRpb24ucmVwZWF0ICYmXG4gICAgICAgICAgdHJpZ2dlcmVkICYmXG4gICAgICAgICAgIXBlbmRpbmdBbmltYXRpb24gJiZcbiAgICAgICAgICAhaXNTY3JvbGxlZEludG9WaWV3KGVsZW1lbnQpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIHdlIHdhbnQgdG8gcmVwZWF0IHRoZSBhbmltYXRpb24gZXZlcnkgdGltZSB0aGUgdGhlIGVsZW1lbnQgaXMgb3V0IG9mIHZpZXcgYW5kIGJhY2sgYWdhaW5cbiAgICAgICAgICB0cmlnZ2VyZWQgPSBmYWxzZTtcbiAgICAgICAgICBhc3NpZ24oZWxlbWVudCEuc3R5bGUsIGFuaW1hdGlvbi5zdGVwc1swXS5zdHlsZXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IHJvbGwgYWxsIG9mIHRoZXNlIGluIG9uZSBmb3IgbW9yZSBlZmZpY2llbmN5IG9mIGNoZWNraW5nIGFsbCB0aGUgcmVjdHNcbiAgICAgIGNvbnN0IG9uU2Nyb2xsID0gdGhyb3R0bGUoaW1tZWRpYXRlT25TY3JvbGwsIDIwMCwgeyBsZWFkaW5nOiBmYWxzZSB9KTtcblxuICAgICAgLy8gVE9ETzogZnVsbHkgaW4gdmlldyBvciBwYXJ0aWFsbHlcbiAgICAgIGZ1bmN0aW9uIGlzU2Nyb2xsZWRJbnRvVmlldyhlbGVtOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgdGhyZXNob2xkUGVyY2VudCA9IChhbmltYXRpb24udGhyZXNob2xkUGVyY2VudCB8fCAwKSAvIDEwMDtcbiAgICAgICAgY29uc3QgdGhyZXNob2xkID0gdGhyZXNob2xkUGVyY2VudCAqIHdpbmRvd0hlaWdodDtcblxuICAgICAgICAvLyBUT0RPOiBwYXJ0aWFsIGluIHZpZXc/IG9yIHdoYXQgaWYgZWxlbWVudCBpcyBsYXJnZXIgdGhhbiBzY3JlZW4gaXRzZWxmXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgcmVjdC5ib3R0b20gPiB0aHJlc2hvbGQgJiYgcmVjdC50b3AgPCB3aW5kb3dIZWlnaHQgLSB0aHJlc2hvbGQgLy8gRWxlbWVudCBpcyBwZWVraW5nIHRvcCBvciBib3R0b21cbiAgICAgICAgICAvLyAocmVjdC50b3AgPiAwICYmIHJlY3QuYm90dG9tIDwgd2luZG93LmlubmVySGVpZ2h0KSB8fCAvLyBlbGVtZW50IGZpdHMgd2l0aGluIHRoZSBzY3JlZW4gYW5kIGlzIGZ1bGx5IG9uIHNjcmVlbiAobm90IGhhbmdpbmcgb2ZmIGF0IGFsbClcbiAgICAgICAgICAvLyAocmVjdC50b3AgPCAwICYmIHJlY3QuYm90dG9tID4gd2luZG93LmlubmVySGVpZ2h0KSAvLyBlbGVtZW50IGlzIGxhcmdlciB0aGFuIHRoZSBzY3JlZW4gYW5kIGhhbmdzIG92ZXIgdGhlIHRvcCBhbmQgYm90dG9tXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRlZmF1bHRTdGF0ZSA9IGFuaW1hdGlvbi5zdGVwc1swXS5zdHlsZXM7XG4gICAgICBmdW5jdGlvbiBhdHRhY2hEZWZhdWx0U3RhdGUoKSB7XG4gICAgICAgIGFzc2lnbihlbGVtZW50IS5zdHlsZSwgZGVmYXVsdFN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGF0dGFjaERlZmF1bHRTdGF0ZSgpO1xuXG4gICAgICAvLyBUT0RPOiBxdWV1ZS9iYXRjaCB0aGVzZSB0aW1lb3V0cyFcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSBgYWxsICR7YW5pbWF0aW9uLmR1cmF0aW9ufXMgJHtjYW1lbENhc2VUb0tlYmFiQ2FzZShcbiAgICAgICAgICBhbmltYXRpb24uZWFzaW5nXG4gICAgICAgICl9YDtcbiAgICAgICAgaWYgKGFuaW1hdGlvbi5kZWxheSkge1xuICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gYW5pbWF0aW9uLmRlbGF5ICsgJ3MnO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gVE9ETzogb25lIGxpc3RlbmVyIGZvciBldmVyeXRoaW5nXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCwgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH0gYXMgYW55KTtcblxuICAgICAgLy8gRG8gYW4gaW5pdGlhbCBjaGVja1xuICAgICAgaW1tZWRpYXRlT25TY3JvbGwoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggZmllbGQtY29udGVudCBpbiBSRkMgNzIzMCBzZWMgMy4yXG4gKlxuICogZmllbGQtY29udGVudCA9IGZpZWxkLXZjaGFyIFsgMSooIFNQIC8gSFRBQiApIGZpZWxkLXZjaGFyIF1cbiAqIGZpZWxkLXZjaGFyICAgPSBWQ0hBUiAvIG9icy10ZXh0XG4gKiBvYnMtdGV4dCAgICAgID0gJXg4MC1GRlxuICovXG5jb25zdCBmaWVsZENvbnRlbnRSZWdFeHAgPSAvXltcXHUwMDA5XFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHUwMGZmXSskLztcblxuaW1wb3J0IHsgSW5jb21pbmdNZXNzYWdlLCBTZXJ2ZXJSZXNwb25zZSB9IGZyb20gJ2h0dHAnO1xuaW50ZXJmYWNlIE9wdGlvbnMge1xuICBzZWN1cmU/OiBib29sZWFuO1xuICBleHBpcmVzPzogRGF0ZTtcbn1cblxuY2xhc3MgQ29va2llcyB7XG4gIHNlY3VyZT86IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZXF1ZXN0OiBJbmNvbWluZ01lc3NhZ2UsXG4gICAgcHJpdmF0ZSByZXNwb25zZTogU2VydmVyUmVzcG9uc2VcbiAgKSB7fVxuXG4gIGdldChuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBoZWFkZXIgPSB0aGlzLnJlcXVlc3QuaGVhZGVyc1snY29va2llJ10gYXMgc3RyaW5nO1xuICAgIGlmICghaGVhZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWF0Y2ggPSBoZWFkZXIubWF0Y2goZ2V0UGF0dGVybihuYW1lKSk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbHVlID0gbWF0Y2hbMV07XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgc2V0KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgb3B0czogT3B0aW9ucykge1xuICAgIGNvbnN0IHJlcyA9IHRoaXMucmVzcG9uc2U7XG4gICAgY29uc3QgcmVxID0gdGhpcy5yZXF1ZXN0O1xuICAgIGxldCBoZWFkZXJzID0gcmVzLmdldEhlYWRlcignU2V0LUNvb2tpZScpIHx8IFtdO1xuICAgIC8vIFRPRE86IGp1c3QgbWFrZSB0aGlzIGFsd2F5cyB0cnVlXG4gICAgY29uc3Qgc2VjdXJlID1cbiAgICAgIHRoaXMuc2VjdXJlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyAhIXRoaXMuc2VjdXJlXG4gICAgICAgIDogKHJlcSBhcyBhbnkpLnByb3RvY29sID09PSAnaHR0cHMnIHx8IChyZXEuY29ubmVjdGlvbiBhcyBhbnkpLmVuY3J5cHRlZDtcbiAgICBjb25zdCBjb29raWUgPSBuZXcgQ29va2llKG5hbWUsIHZhbHVlLCBvcHRzKTtcblxuICAgIGlmICh0eXBlb2YgaGVhZGVycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGhlYWRlcnMgPSBbaGVhZGVyc107XG4gICAgfVxuXG4gICAgaWYgKCFzZWN1cmUgJiYgb3B0cyAmJiBvcHRzLnNlY3VyZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2VuZCBzZWN1cmUgY29va2llIG92ZXIgdW5lbmNyeXB0ZWQgY29ubmVjdGlvbicpO1xuICAgIH1cblxuICAgIGNvb2tpZS5zZWN1cmUgPSBzZWN1cmU7XG4gICAgaWYgKG9wdHMgJiYgJ3NlY3VyZScgaW4gb3B0cykge1xuICAgICAgY29va2llLnNlY3VyZSA9ICEhb3B0cy5zZWN1cmU7XG4gICAgfVxuXG4gICAgcHVzaENvb2tpZShoZWFkZXJzLCBjb29raWUpO1xuXG4gICAgY29uc3Qgc2V0SGVhZGVyID0gcmVzLnNldEhlYWRlcjtcbiAgICBzZXRIZWFkZXIuY2FsbChyZXMsICdTZXQtQ29va2llJywgaGVhZGVycyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuY2xhc3MgQ29va2llIHtcbiAgcGF0aCA9ICcvJztcbiAgZXhwaXJlcz86IERhdGU7XG4gIGRvbWFpbjogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBodHRwT25seSA9IHRydWU7XG4gIHNhbWVTaXRlPzogYm9vbGVhbiB8IHN0cmluZyA9IGZhbHNlO1xuICBzZWN1cmUgPSBmYWxzZTtcbiAgb3ZlcndyaXRlID0gZmFsc2U7XG4gIG5hbWUgPSAnJztcbiAgdmFsdWUgPSAnJztcbiAgbWF4QWdlPzogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgYXR0cnM6IE9wdGlvbnMpIHtcbiAgICBpZiAoIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBuYW1lIGlzIGludmFsaWQnKTtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgJiYgIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgdmFsdWUgaXMgaW52YWxpZCcpO1xuICAgIH1cblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHRoaXMuZXhwaXJlcyA9IG5ldyBEYXRlKDApO1xuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlIHx8ICcnO1xuXG4gICAgaWYgKGF0dHJzLmV4cGlyZXMpIHtcbiAgICAgIHRoaXMuZXhwaXJlcyA9IGF0dHJzLmV4cGlyZXM7XG4gICAgfVxuICAgIGlmIChhdHRycy5zZWN1cmUpIHtcbiAgICAgIHRoaXMuc2VjdXJlID0gYXR0cnMuc2VjdXJlO1xuICAgIH1cbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgJHt0aGlzLm5hbWV9PSR7dGhpcy52YWx1ZX1gO1xuICB9XG5cbiAgdG9IZWFkZXIoKSB7XG4gICAgbGV0IGhlYWRlciA9IHRoaXMudG9TdHJpbmcoKTtcblxuICAgIGlmICh0aGlzLm1heEFnZSkge1xuICAgICAgdGhpcy5leHBpcmVzID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIHRoaXMubWF4QWdlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucGF0aCkge1xuICAgICAgaGVhZGVyICs9IGA7IHBhdGg9JHt0aGlzLnBhdGh9YDtcbiAgICB9XG4gICAgaWYgKHRoaXMuZXhwaXJlcykge1xuICAgICAgaGVhZGVyICs9IGA7IGV4cGlyZXM9JHt0aGlzLmV4cGlyZXMudG9VVENTdHJpbmcoKX1gO1xuICAgIH1cbiAgICBpZiAodGhpcy5kb21haW4pIHtcbiAgICAgIGhlYWRlciArPSBgOyBkb21haW49JHt0aGlzLmRvbWFpbn1gO1xuICAgIH1cblxuICAgIC8vIFRPRE86IHNhbWVzaXRlPW5vbmUgYnkgZGVmYXVsdCAoPylcbiAgICBoZWFkZXIgKz0gYDsgU2FtZVNpdGU9JHt0aGlzLnNhbWVTaXRlID09PSB0cnVlID8gJ3N0cmljdCcgOiAnTm9uZSd9YDtcblxuICAgIC8vIFRPRE86IE9uIGJ5IGRlZmF1bHRcbiAgICBpZiAodGhpcy5zZWN1cmUpIHtcbiAgICAgIGhlYWRlciArPSAnOyBzZWN1cmUnO1xuICAgIH1cbiAgICBpZiAodGhpcy5odHRwT25seSkge1xuICAgICAgaGVhZGVyICs9ICc7IGh0dHBvbmx5JztcbiAgICB9XG5cbiAgICByZXR1cm4gaGVhZGVyO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdHRlcm4obmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKGAoPzpefDspICoke25hbWUucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKX09KFteO10qKWApO1xufVxuXG5mdW5jdGlvbiBwdXNoQ29va2llKGhlYWRlcnM6IGFueSwgY29va2llOiBDb29raWUpIHtcbiAgaWYgKGNvb2tpZS5vdmVyd3JpdGUpIHtcbiAgICBmb3IgKGxldCBpID0gaGVhZGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKGhlYWRlcnNbaV0uaW5kZXhPZihgJHtjb29raWUubmFtZX09YCkgPT09IDApIHtcbiAgICAgICAgaGVhZGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGVhZGVycy5wdXNoKGNvb2tpZS50b0hlYWRlcigpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29va2llcztcbiIsImV4cG9ydCBmdW5jdGlvbiBvbWl0PFQgZXh0ZW5kcyBvYmplY3Q+KG9iajogVCwgLi4udmFsdWVzOiAoa2V5b2YgVClbXSk6IFBhcnRpYWw8VD4ge1xuICBjb25zdCBuZXdPYmplY3QgPSBPYmplY3QuYXNzaWduKHt9LCBvYmopO1xuICBmb3IgKGNvbnN0IGtleSBvZiB2YWx1ZXMpIHtcbiAgICBkZWxldGUgKG5ld09iamVjdCBhcyBhbnkpW2tleV07XG4gIH1cbiAgcmV0dXJuIG5ld09iamVjdDtcbn1cbiIsIi8qKlxuICogQGNyZWRpdCBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyM1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXVpZHY0KCkge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHZhciByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLFxuICAgICAgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFNsaWdodGx5IGNsZWFuZXIgYW5kIHNtYWxsZXIgVVVJRHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWQoKSB7XG4gIHJldHVybiB1dWlkdjQoKS5yZXBsYWNlKC8tL2csICcnKTtcbn1cbiIsImltcG9ydCB7IFVybFdpdGhTdHJpbmdRdWVyeSB9IGZyb20gJ3VybCc7XG5cbnR5cGUgRml4PFQ+ID0geyBbUCBpbiBrZXlvZiBUXTogVFtQXSB8IG51bGwgfTtcblxuLy8gSXQgc2VlbXMgdGhhdCB0aGUgdHlwZXMgZm9yIFVybFdpdGhTdHJpbmdRdWVyeSBhcmUgbm90IGNvcnJlY3QuXG5leHBvcnQgdHlwZSBVcmxMaWtlID0gRml4PFVybFdpdGhTdHJpbmdRdWVyeT47XG5cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eVVybCgpOiBVcmxMaWtlIHtcbiAgcmV0dXJuIHtcbiAgICBxdWVyeTogbnVsbCxcbiAgICBwb3J0OiBudWxsLFxuICAgIGF1dGg6IG51bGwsXG4gICAgaGFzaDogbnVsbCxcbiAgICBob3N0OiBudWxsLFxuICAgIGhvc3RuYW1lOiBudWxsLFxuICAgIGhyZWY6IG51bGwsXG4gICAgcGF0aDogbnVsbCxcbiAgICBwYXRobmFtZTogbnVsbCxcbiAgICBwcm90b2NvbDogbnVsbCxcbiAgICBzZWFyY2g6IG51bGwsXG4gICAgc2xhc2hlczogbnVsbCxcbiAgfTtcbn1cblxuLy8gUmVwbGFjZW1lbnQgZm9yIGB1cmwucGFyc2VgIHVzaW5nIGBVUkxgIGdsb2JhbCBvYmplY3QgdGhhdCB3b3JrcyB3aXRoIHJlbGF0aXZlIHBhdGhzLlxuLy8gQXNzdW1wdGlvbnM6IHRoaXMgZnVuY3Rpb24gb3BlcmF0ZXMgaW4gYSBOb2RlSlMgZW52aXJvbm1lbnQuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UodXJsOiBzdHJpbmcpOiBVcmxMaWtlIHtcbiAgY29uc3Qgb3V0OiBVcmxMaWtlID0gZW1wdHlVcmwoKTtcblxuICBsZXQgdTtcbiAgY29uc3QgcGF0aE9ubHkgPSB1cmwgPT09ICcnIHx8IHVybFswXSA9PT0gJy8nO1xuXG4gIGlmIChwYXRoT25seSkge1xuICAgIHUgPSBuZXcgVVJMKHVybCwgJ2h0dHA6Ly8wLjAuMC4wLycpO1xuICAgIG91dC5ocmVmID0gdS5ocmVmO1xuICAgIG91dC5ocmVmID0gb3V0LmhyZWY/LnNsaWNlKDE0KTsgLy8gcmVtb3ZlICdodHRwOi8vMC4wLjAuMC8nXG4gIH0gZWxzZSB7XG4gICAgdSA9IG5ldyBVUkwodXJsKTtcbiAgICBvdXQuaHJlZiA9IHUuaHJlZjtcbiAgICBvdXQucG9ydCA9IHUucG9ydCA9PT0gJycgPyBudWxsIDogdS5wb3J0O1xuICAgIG91dC5oYXNoID0gdS5oYXNoID09PSAnJyA/IG51bGwgOiB1Lmhhc2g7XG4gICAgb3V0Lmhvc3QgPSB1Lmhvc3Q7XG4gICAgb3V0Lmhvc3RuYW1lID0gdS5ob3N0bmFtZTtcbiAgICBvdXQuaHJlZiA9IHUuaHJlZjtcbiAgICBvdXQucGF0aG5hbWUgPSB1LnBhdGhuYW1lO1xuICAgIG91dC5wcm90b2NvbCA9IHUucHJvdG9jb2w7XG4gICAgb3V0LnNsYXNoZXMgPSB1cmxbdS5wcm90b2NvbC5sZW5ndGhdID09PSAnLyc7IC8vIGNoZWNrIGlmIHRoZSBtaW1ldHlwZSBpcyBwcm9jZWVkZWQgYnkgYSBzbGFzaFxuICB9XG5cbiAgb3V0LnNlYXJjaCA9IHUuc2VhcmNoO1xuICBvdXQucXVlcnkgPSB1LnNlYXJjaC5zbGljZSgxKTsgLy8gcmVtb3ZlICc/J1xuICBvdXQucGF0aCA9IGAke3UucGF0aG5hbWV9JHt1LnNlYXJjaH1gO1xuICBvdXQucGF0aG5hbWUgPSB1LnBhdGhuYW1lO1xuXG4gIHJldHVybiBvdXQ7XG59XG4iLCIvKipcbiAqIFNhZmUgY29udmVyc2lvbiB0byBlcnJvciB0eXBlLiBJbnRlbmRlZCB0byBiZSB1c2VkIGluIGNhdGNoIGJsb2NrcyB3aGVyZSB0aGVcbiAqICB2YWx1ZSBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSBhbiBlcnJvci5cbiAqXG4gKiAgQGV4YW1wbGVcbiAqICB0cnkge1xuICogICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpXG4gKiAgfVxuICogIGNhdGNoIChlcnI6IHVua25vd24pIHtcbiAqICAgIGNvbnN0IGVycm9yOiBFcnJvciA9IHRvRXJyb3IoZXJyKVxuICogIH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRXJyb3IoZXJyOiB1bmtub3duKTogRXJyb3Ige1xuICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBlcnI7XG4gIHJldHVybiBuZXcgRXJyb3IoU3RyaW5nKGVycikpO1xufVxuIiwiZXhwb3J0IHR5cGUgQXBpVmVyc2lvbiA9ICd2MScgfCAndjMnO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVBJX1ZFUlNJT046IEFwaVZlcnNpb24gPSAndjMnO1xuIiwiZXhwb3J0IGNvbnN0IFNES19WRVJTSU9OID0gJzYuMS4yJztcbiIsImltcG9ydCAnLi9wb2x5ZmlsbHMvY3VzdG9tLWV2ZW50LXBvbHlmaWxsJztcbmltcG9ydCB7IEluY29taW5nTWVzc2FnZSwgU2VydmVyUmVzcG9uc2UgfSBmcm9tICdodHRwJztcbmltcG9ydCB7IG5leHRUaWNrIH0gZnJvbSAnLi9mdW5jdGlvbnMvbmV4dC10aWNrLmZ1bmN0aW9uJztcbmltcG9ydCB7IFF1ZXJ5U3RyaW5nIH0gZnJvbSAnLi9jbGFzc2VzL3F1ZXJ5LXN0cmluZy5jbGFzcyc7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tICcuL2NsYXNzZXMvb2JzZXJ2YWJsZS5jbGFzcyc7XG5pbXBvcnQgeyBnZXRGZXRjaCwgU2ltcGxpZmllZEZldGNoT3B0aW9ucyB9IGZyb20gJy4vZnVuY3Rpb25zL2ZldGNoLmZ1bmN0aW9uJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vZnVuY3Rpb25zL2Fzc2lnbi5mdW5jdGlvbic7XG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4vZnVuY3Rpb25zL3Rocm90dGxlLmZ1bmN0aW9uJztcbmltcG9ydCB7IEFuaW1hdG9yIH0gZnJvbSAnLi9jbGFzc2VzL2FuaW1hdG9yLmNsYXNzJztcbmltcG9ydCB7IEJ1aWxkZXJFbGVtZW50IH0gZnJvbSAnLi90eXBlcy9lbGVtZW50JztcbmltcG9ydCBDb29raWVzIGZyb20gJy4vY2xhc3Nlcy9jb29raWVzLmNsYXNzJztcbmltcG9ydCB7IG9taXQgfSBmcm9tICcuL2Z1bmN0aW9ucy9vbWl0LmZ1bmN0aW9uJztcbmltcG9ydCB7IEJ1aWxkZXJDb250ZW50IH0gZnJvbSAnLi90eXBlcy9jb250ZW50JztcbmltcG9ydCB7IHV1aWQgfSBmcm9tICcuL2Z1bmN0aW9ucy91dWlkJztcbmltcG9ydCB7IHBhcnNlIGFzIHVybFBhcnNlIH0gZnJvbSAnLi91cmwnO1xuXG4vLyBEbyBub3QgY2hhbmdlIHRoaXMgdG8gYSByZXF1aXJlISBJdCB0aHJvd3MgcnVudGltZSBlcnJvcnMgLSByb2xsdXBcbi8vIHdpbGwgcHJlc2VydmUgdGhlIGByZXF1aXJlYCBhbmQgdGhyb3cgcnVudGltZSBlcnJvcnNcbmltcG9ydCBoYXNoIGZyb20gJ2hhc2gtc3VtJztcbmltcG9ydCB7IHRvRXJyb3IgfSBmcm9tICcuL2Z1bmN0aW9ucy90by1lcnJvcic7XG5pbXBvcnQgeyBlbXB0eVVybCwgVXJsTGlrZSB9IGZyb20gJy4vdXJsJztcbmltcG9ydCB7IERFRkFVTFRfQVBJX1ZFUlNJT04sIEFwaVZlcnNpb24gfSBmcm9tICcuL3R5cGVzL2FwaS12ZXJzaW9uJztcbmltcG9ydCB7IFNES19WRVJTSU9OIH0gZnJvbSAnLi9zZGstdmVyc2lvbic7XG5cbmV4cG9ydCB0eXBlIFVybCA9IGFueTtcblxuZnVuY3Rpb24gZGF0ZVBsdXNNaW51dGVzKG1pbnV0ZXMgPSAzMCkge1xuICByZXR1cm4gbmV3IERhdGUoRGF0ZS5ub3coKSArIG1pbnV0ZXMgKiA2MDAwMCk7XG59XG5cbmNvbnN0IGlzUG9zaXRpdmVOdW1iZXIgPSAodGhpbmc6IHVua25vd24pID0+XG4gIHR5cGVvZiB0aGluZyA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHRoaW5nKSAmJiB0aGluZyA+PSAwO1xuXG5leHBvcnQgY29uc3QgaXNSZWFjdE5hdGl2ZSA9IHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnO1xuXG5leHBvcnQgY29uc3QgdmFsaWRFbnZMaXN0ID0gW1xuICAncHJvZHVjdGlvbicsXG4gICdxYScsXG4gICd0ZXN0JyxcbiAgJ2RldmVsb3BtZW50JyxcbiAgJ2RldicsXG4gICdjZG4tcWEnLFxuICAnY2xvdWQnLFxuICAnZmFzdCcsXG4gICdjZG4yJyxcbiAgJ2Nkbi1wcm9kJyxcbl07XG5cbmZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW0odXJsOiBzdHJpbmcsIHZhcmlhYmxlOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgY29uc3QgcXVlcnkgPSB1cmwuc3BsaXQoJz8nKVsxXSB8fCAnJztcbiAgY29uc3QgdmFycyA9IHF1ZXJ5LnNwbGl0KCcmJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHBhaXIgPSB2YXJzW2ldLnNwbGl0KCc9Jyk7XG4gICAgaWYgKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKSA9PT0gdmFyaWFibGUpIHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5jb25zdCB1cmxQYXJzZXIgPSB7XG4gIHBhcnNlKHVybDogc3RyaW5nKTogVXJsTGlrZSB7XG4gICAgY29uc3QgZWw6IEhUTUxBbmNob3JFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpIGFzIGFueTtcbiAgICBlbC5ocmVmID0gdXJsO1xuICAgIGNvbnN0IG91dDogYW55ID0ge307XG5cbiAgICBjb25zdCBwcm9wcyA9IFtcbiAgICAgICd1c2VybmFtZScsXG4gICAgICAncGFzc3dvcmQnLFxuICAgICAgJ2hvc3QnLFxuICAgICAgJ2hvc3RuYW1lJyxcbiAgICAgICdwb3J0JyxcbiAgICAgICdwcm90b2NvbCcsXG4gICAgICAnb3JpZ2luJyxcbiAgICAgICdwYXRobmFtZScsXG4gICAgICAnc2VhcmNoJyxcbiAgICAgICdoYXNoJyxcbiAgICBdIGFzIGNvbnN0O1xuXG4gICAgZm9yIChjb25zdCBwcm9wIG9mIHByb3BzKSB7XG4gICAgICBvdXRbcHJvcF0gPSBlbFtwcm9wXTtcbiAgICB9XG5cbiAgICAvLyBJRSAxMSBwYXRobmFtZSBoYW5kbGluZyB3b3JrYXJvdW5kXG4gICAgLy8gKElFIG9taXRzIHByZWNlZWRpbmcgJy8nLCB1bmxpa2Ugb3RoZXIgYnJvd3NlcnMpXG4gICAgaWYgKFxuICAgICAgKG91dC5wYXRobmFtZSB8fCBvdXQucGF0aG5hbWUgPT09ICcnKSAmJlxuICAgICAgdHlwZW9mIG91dC5wYXRobmFtZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgIG91dC5wYXRobmFtZS5pbmRleE9mKCcvJykgIT09IDBcbiAgICApIHtcbiAgICAgIG91dC5wYXRobmFtZSA9ICcvJyArIG91dC5wYXRobmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xuICB9LFxufTtcblxuY29uc3QgcGFyc2U6ICh1cmw6IHN0cmluZykgPT4gVXJsTGlrZSA9IGlzUmVhY3ROYXRpdmVcbiAgPyAoKSA9PiBlbXB0eVVybCgpXG4gIDogdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCdcbiAgICA/IHVybFBhcnNlci5wYXJzZVxuICAgIDogdXJsUGFyc2U7XG5cbmZ1bmN0aW9uIHNldENvb2tpZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZXM/OiBEYXRlKSB7XG4gIHRyeSB7XG4gICAgbGV0IGV4cGlyZXNTdHJpbmcgPSAnJztcblxuICAgIC8vIFRPRE86IG5lZWQgdG8ga25vdyBpZiBzZWN1cmUgc2VydmVyIHNpZGVcbiAgICBpZiAoZXhwaXJlcykge1xuICAgICAgZXhwaXJlc1N0cmluZyA9ICc7IGV4cGlyZXM9JyArIGV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZWN1cmUgPSBpc0Jyb3dzZXIgPyBsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgOiB0cnVlO1xuICAgIGRvY3VtZW50LmNvb2tpZSA9XG4gICAgICBuYW1lICtcbiAgICAgICc9JyArXG4gICAgICAodmFsdWUgfHwgJycpICtcbiAgICAgIGV4cGlyZXNTdHJpbmcgK1xuICAgICAgJzsgcGF0aD0vJyArXG4gICAgICAoc2VjdXJlID8gJzsgc2VjdXJlOyBTYW1lU2l0ZT1Ob25lJyA6ICcnKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS53YXJuKCdDb3VsZCBub3Qgc2V0IGNvb2tpZScsIGVycik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29va2llKG5hbWU6IHN0cmluZykge1xuICB0cnkge1xuICAgIHJldHVybiAoXG4gICAgICBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlKFxuICAgICAgICAgIG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAnKD86KD86XnwuKjspXFxcXHMqJyArXG4gICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChuYW1lKS5yZXBsYWNlKC9bXFwtXFwuXFwrXFwqXS9nLCAnXFxcXCQmJykgK1xuICAgICAgICAgICAgICAnXFxcXHMqXFxcXD1cXFxccyooW147XSopLiokKXxeLiokJ1xuICAgICAgICAgICksXG4gICAgICAgICAgJyQxJ1xuICAgICAgICApXG4gICAgICApIHx8IG51bGxcbiAgICApO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBnZXQgY29va2llJywgZXJyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaXplKG9iamVjdDogb2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gZmluZDxUID0gYW55Pih0YXJnZXQ6IFRbXSwgY2FsbGJhY2s6IChpdGVtOiBULCBpbmRleDogbnVtYmVyLCBsaXN0OiBUW10pID0+IGJvb2xlYW4pIHtcbiAgY29uc3QgbGlzdCA9IHRhcmdldDtcbiAgLy8gTWFrZXMgc3VyZXMgaXMgYWx3YXlzIGhhcyBhbiBwb3NpdGl2ZSBpbnRlZ2VyIGFzIGxlbmd0aC5cbiAgY29uc3QgbGVuZ3RoID0gbGlzdC5sZW5ndGggPj4+IDA7XG4gIGNvbnN0IHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBlbGVtZW50ID0gbGlzdFtpXTtcbiAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBlbGVtZW50LCBpLCBsaXN0KSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IHNlc3Npb25TdG9yYWdlS2V5ID0gJ2J1aWxkZXJTZXNzaW9uSWQnO1xuY29uc3QgbG9jYWxTdG9yYWdlS2V5ID0gJ2J1aWxkZXJWaXNpdG9ySWQnO1xuXG5leHBvcnQgY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgIWlzUmVhY3ROYXRpdmU7XG5leHBvcnQgY29uc3QgaXNJZnJhbWUgPSBpc0Jyb3dzZXIgJiYgd2luZG93LnRvcCAhPT0gd2luZG93LnNlbGY7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyYW1zTWFwIHtcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG50eXBlIFRyYWNraW5nSG9vayA9IChcbiAgZXZlbnREYXRhOiBFdmVudCxcbiAgY29udGV4dDogeyBjb250ZW50PzogQnVpbGRlckNvbnRlbnQ7IFtrZXk6IHN0cmluZ106IGFueSB9XG4pID0+IEV2ZW50IHwgdW5kZWZpbmVkO1xuXG5pbnRlcmZhY2UgRXZlbnREYXRhIHtcbiAgY29udGVudElkPzogc3RyaW5nO1xuICBvd25lcklkOiBzdHJpbmc7XG4gIHZhcmlhdGlvbklkPzogc3RyaW5nO1xuICB1c2VyQXR0cmlidXRlcz86IGFueTtcbiAgdGFyZ2V0U2VsZWN0b3I/OiBzdHJpbmc7XG4gIHRhcmdldEJ1aWxkZXJFbGVtZW50Pzogc3RyaW5nO1xuICB1bmlxdWU/OiBib29sZWFuO1xuICBtZXRhZGF0YT86IGFueSB8IHN0cmluZztcbiAgbWV0YT86IGFueSB8IHN0cmluZztcbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xuICB2aXNpdG9ySWQ/OiBzdHJpbmc7XG4gIGFtb3VudD86IG51bWJlcjtcbn1cbi8vIFRPRE86IHNoYXJlIGludGVyZmFjZXMgd2l0aCBBUElcbmludGVyZmFjZSBFdmVudCB7XG4gIHR5cGU6IHN0cmluZztcbiAgZGF0YTogRXZlbnREYXRhO1xufVxuXG4vKipcbiAqIEF0dHJpYnV0ZXMgdGhhdCBjYW4gYmUgdXNlZCBmb3IgY3VzdG9tIHRhcmdldGluZy4ge0BsaW5rXG4gKiBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9ndWlkZXMvdGFyZ2V0aW5nLWFuZC1zY2hlZHVsaW5nfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJBdHRyaWJ1dGVzIHtcbiAgW2tleTogc3RyaW5nXTpcbiAgICB8IHVuZGVmaW5lZFxuICAgIHwgc3RyaW5nXG4gICAgfCBzdHJpbmdbXVxuICAgIHwgYm9vbGVhblxuICAgIHwgYm9vbGVhbltdXG4gICAgfCBudW1iZXJcbiAgICB8IG51bWJlcltdXG4gICAgfCBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAvKipcbiAgICogVVJMIHBhdGggb2YgdGhlIGN1cnJlbnQgdXNlci5cbiAgICovXG4gIHVybFBhdGg/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBxdWVyeVN0cmluZz86IHN0cmluZyB8IFBhcmFtc01hcDtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIGRldmljZT86ICdtb2JpbGUnIHwgJ3RhYmxldCcgfCAnZGVza3RvcCc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBsb2NhdGlvbj86IGFueTtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIHVzZXJBZ2VudD86IHN0cmluZztcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIHJlZmVycmVyPzogc3RyaW5nO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQGhpZGRlblxuICAgKi9cbiAgZW50cnlNZWRpdW0/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBsYW5ndWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIGJyb3dzZXI/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBjb29raWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBuZXdWaXNpdG9yPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIG9wZXJhdGluZ1N5c3RlbT86IHN0cmluZztcbn1cblxudHlwZSBBbGxvd0VucmljaCA9XG4gIHwgeyBhcGlWZXJzaW9uPzogRXh0cmFjdDxBcGlWZXJzaW9uLCAndjEnPiB9XG4gIHwgeyBhcGlWZXJzaW9uPzogRXh0cmFjdDxBcGlWZXJzaW9uLCAndjMnPjsgZW5yaWNoPzogYm9vbGVhbiB9XG4gIHwgeyBhcGlWZXJzaW9uPzogbmV2ZXI7IGVucmljaD86IGJvb2xlYW4gfTtcblxuZXhwb3J0IHR5cGUgR2V0Q29udGVudE9wdGlvbnMgPSBBbGxvd0VucmljaCAmIHtcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGZldGNoIG9wdGlvbnMgdG8gYmUgcGFzc2VkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gdGhlIGBmZXRjaGAgZnVuY3Rpb24uXG4gICAqL1xuICBmZXRjaE9wdGlvbnM/OiBvYmplY3Q7XG5cbiAgLyoqXG4gICAqIFVzZXIgYXR0cmlidXRlIGtleSB2YWx1ZSBwYWlycyB0byBiZSB1c2VkIGZvciB0YXJnZXRpbmdcbiAgICogaHR0cHM6Ly93d3cuYnVpbGRlci5pby9jL2RvY3MvY3VzdG9tLXRhcmdldGluZy1hdHRyaWJ1dGVzXG4gICAqXG4gICAqIGUuZy5cbiAgICogYGBganNcbiAgICogdXNlckF0dHJpYnV0ZXM6IHtcbiAgICogICB1cmxQYXRoOiAnLycsXG4gICAqICAgcmV0dXJuVmlzaXRvcjogdHJ1ZSxcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIHVzZXJBdHRyaWJ1dGVzPzogVXNlckF0dHJpYnV0ZXM7XG4gIC8qKlxuICAgKiBBbGlhcyBmb3IgdXNlckF0dHJpYnV0ZXMudXJsUGF0aCBleGNlcHQgaXQgY2FuIGhhbmRsZSBhIGZ1bGwgVVJMIChvcHRpb25hbGx5IHdpdGggaG9zdCxcbiAgICogcHJvdG9jb2wsIHF1ZXJ5LCBldGMpIGFuZCB3ZSB3aWxsIHBhcnNlIG91dCB0aGUgcGF0aC5cbiAgICovXG4gIHVybD86IHN0cmluZztcbiAgLyoqXG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICBpbmNsdWRlVXJsPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEluY2x1ZGUgY29udGVudCBvZiByZWZlcmVuY2VzIGluIHRoZSByZXNwb25zZS5cbiAgICogSWYgeW91IHVzZSB0aGUgYHJlZmVyZW5jZWAgZmllbGQgdG8gcHVsbCBpbiBvdGhlciBjb250ZW50IHdpdGhvdXQgdGhpc1xuICAgKiBlbmFibGVkIHdlIHdpbGwgbm90IGZldGNoIHRoYXQgY29udGVudCBmb3IgdGhlIGZpbmFsIHJlc3BvbnNlLlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYGVucmljaGAgaW5zdGVhZFxuICAgKi9cbiAgaW5jbHVkZVJlZnM/OiBib29sZWFuO1xuICAvKipcbiAgICogU2Vjb25kcyB0byBjYWNoZSBjb250ZW50LiBTZXRzIHRoZSBtYXgtYWdlIG9mIHRoZSBjYWNoZS1jb250cm9sIGhlYWRlclxuICAgKiByZXNwb25zZSBoZWFkZXIuXG4gICAqXG4gICAqIFVzZSBhIGhpZ2hlciB2YWx1ZSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLCBsb3dlciBmb3IgY29udGVudCB0aGF0IHdpbGwgY2hhbmdlIG1vcmUgZnJlcXVlbnRseVxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9xdWVyeS1hcGkjX19uZXh0On46dGV4dD0lMjZpbmNsdWRlUmVmcyUzRHRydWUtLGNhY2hlU2Vjb25kcywtTm99XG4gICAqL1xuICBjYWNoZVNlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBCdWlsZGVyLmlvIHVzZXMgc3RhbGUtd2hpbGUtcmV2YWxpZGF0ZSBjYWNoaW5nIGF0IHRoZSBDRE4gbGV2ZWwuIFRoaXMgbWVhbnMgd2UgYWx3YXlzIHNlcnZlXG4gICAqIGZyb20gZWRnZSBjYWNoZSBhbmQgdXBkYXRlIGNhY2hlcyBpbiB0aGUgYmFja2dyb3VuZCBmb3IgbWF4aW11bSBwb3NzaWJsZSBwZXJmb3JtYW5jZS4gVGhpcyBhbHNvXG4gICAqIG1lYW5zIHRoYXQgdGhlIG1vcmUgZnJlcXVlbnRseSBjb250ZW50IGlzIHJlcXVlc3RlZCwgdGhlIG1vcmUgZnJlc2ggaXQgd2lsbCBiZS4gVGhlIGxvbmdlc3Qgd2VcbiAgICogd2lsbCBldmVyIGhvbGQgc29tZXRoaW5nIGluIHN0YWxlIGNhY2hlIGlzIDEgZGF5IGJ5IGRlZmF1bHQsIGFuZCB5b3UgY2FuIHNldCB0aGlzIHRvIGJlIHNob3J0ZXJcbiAgICogeW91cnNlbGYgYXMgd2VsbC4gV2Ugc3VnZ2VzdCBrZWVwaW5nIHRoaXMgaGlnaCB1bmxlc3MgeW91IGhhdmUgY29udGVudCB0aGF0IG11c3QgY2hhbmdlIHJhcGlkbHlcbiAgICogYW5kIGdldHMgdmVyeSBsaXR0bGUgdHJhZmZpYy5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuZmFzdGx5LmNvbS9ibG9nL3ByZXZlbnQtYXBwbGljYXRpb24tbmV0d29yay1pbnN0YWJpbGl0eS1zZXJ2ZS1zdGFsZS1jb250ZW50fVxuICAgKi9cbiAgc3RhbGVDYWNoZVNlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBNYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVybi4gRGVmYXVsdHMgdG8gYDFgLlxuICAgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBVc2UgdG8gc3BlY2lmeSBhbiBvZmZzZXQgZm9yIHBhZ2luYXRpb24gb2YgcmVzdWx0cy4gVGhlIGRlZmF1bHQgaXMgMC5cbiAgICovXG4gIG9mZnNldD86IG51bWJlcjtcbiAgLyoqXG4gICAqIE1vbmdvZGIgc3R5bGUgcXVlcnkgb2YgeW91ciBkYXRhLiBFLmcuOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBxdWVyeToge1xuICAgKiAgaWQ6ICdhYmMxMjMnLFxuICAgKiAgZGF0YToge1xuICAgKiAgICBteUN1c3RvbUZpZWxkOiB7ICRndDogMjAgfSxcbiAgICogIH1cbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogU2VlIG1vcmUgaW5mbyBvbiBNb25nb0RCJ3MgcXVlcnkgb3BlcmF0b3JzIGFuZCBmb3JtYXQuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZG9jcy5tb25nb2RiLmNvbS9tYW51YWwvcmVmZXJlbmNlL29wZXJhdG9yL3F1ZXJ5L31cbiAgICovXG4gIHF1ZXJ5PzogYW55O1xuICAvKipcbiAgICogQnVzdCB0aHJvdWdoIGFsbCBjYWNoZXMuIE5vdCByZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbiAoZm9yIHBlcmZvcm1hbmNlKSxcbiAgICogYnV0IGNhbiBiZSB1c2VmdWwgZm9yIGRldmVsb3BtZW50IGFuZCBzdGF0aWMgYnVpbGRzIChzbyB0aGUgc3RhdGljIHNpdGUgaGFzXG4gICAqIGZ1bGx5IGZyZXNoIC8gdXAgdG8gZGF0ZSBjb250ZW50KVxuICAgKi9cbiAgY2FjaGVidXN0PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENvbnZlcnQgYW55IHZpc3VhbCBidWlsZGVyIGNvbnRlbnQgdG8gSFRNTC5cbiAgICpcbiAgICogVGhpcyB3aWxsIGJlIG9uIGRhdGEuaHRtbCBvZiB0aGUgcmVzcG9uc2UncyBjb250ZW50IGVudHJ5IG9iamVjdCBqc29uLlxuICAgKi9cbiAgcHJlcmVuZGVyPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEV4dHJhY3QgYW55IHN0eWxlcyB0byBhIHNlcGFyYXRlIGNzcyBwcm9wZXJ0eSB3aGVuIGdlbmVyYXRpbmcgSFRNTC5cbiAgICovXG4gIGV4dHJhY3RDc3M/OiBib29sZWFuO1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogYEJ1aWxkZXJDb250ZW50YCB0byByZW5kZXIgaW5zdGVhZCBvZiBmZXRjaGluZy5cbiAgICovXG4gIGluaXRpYWxDb250ZW50PzogYW55O1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIG1vZGVsIHRvIGZldGNoIGNvbnRlbnQgZm9yLlxuICAgKi9cbiAgbW9kZWw/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBTZXQgdG8gYGZhbHNlYCB0byBub3QgY2FjaGUgcmVzcG9uc2VzIHdoZW4gcnVubmluZyBvbiB0aGUgY2xpZW50LlxuICAgKi9cbiAgY2FjaGU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTZXQgdG8gdGhlIGN1cnJlbnQgbG9jYWxlIGluIHlvdXIgYXBwbGljYXRpb24gaWYgeW91IHdhbnQgbG9jYWxpemVkIGlucHV0cyB0byBiZSBhdXRvLXJlc29sdmVkLCBzaG91bGQgbWF0Y2ggb25lIG9mIHRoZSBsb2NhbGVzIGtleXMgaW4geW91ciBzcGFjZSBzZXR0aW5nc1xuICAgKiBMZWFybiBtb3JlIGFib3V0IGFkZGluZyBvciByZW1vdmluZyBsb2NhbGVzIFtoZXJlXShodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9hZGQtcmVtb3ZlLWxvY2FsZXMpXG4gICAqL1xuICBsb2NhbGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAcGFja2FnZVxuICAgKlxuICAgKiBJbmRpY2F0ZSB0aGF0IHRoZSBmZXRjaCByZXF1ZXN0IGlzIGZvciBwcmV2aWV3IHB1cnBvc2VzLlxuICAgKi9cbiAgcHJldmlldz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBTcGVjaWZpYyBjb250ZW50IGVudHJ5IElEIHRvIGZldGNoLlxuICAgKi9cbiAgZW50cnk/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAcGFja2FnZVxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBhbGlhcz86IHN0cmluZztcbiAgLyoqXG4gICAqIE9ubHkgaW5jbHVkZSB0aGVzZSBmaWVsZHMuXG4gICAqIE5vdGU6ICdvbWl0JyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgJ2ZpZWxkcydcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIGZpZWxkczogJ2lkLCBuYW1lLCBkYXRhLmN1c3RvbUZpZWxkJ1xuICAgKiBgYGBcbiAgICovXG4gIGZpZWxkcz86IHN0cmluZztcbiAgLyoqXG4gICAqIE9taXQgb25seSB0aGVzZSBmaWVsZHMuXG4gICAqIE5vdGU6ICdvbWl0JyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgJ2ZpZWxkcydcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIG9taXQ6ICdkYXRhLmJpZ0ZpZWxkLGRhdGEuYmxvY2tzJ1xuICAgKiBgYGBcbiAgICovXG4gIG9taXQ/OiBzdHJpbmc7XG4gIGtleT86IHN0cmluZztcbiAgLyoqXG4gICAqIEBwYWNrYWdlXG4gICAqXG4gICAqIEFmZmVjdHMgSFRNTCBnZW5lcmF0aW9uIGZvciBzcGVjaWZpYyB0YXJnZXRzLlxuICAgKi9cbiAgZm9ybWF0PzogJ2FtcCcgfCAnZW1haWwnIHwgJ2h0bWwnIHwgJ3JlYWN0JyB8ICdzb2xpZCc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBub1dyYXA/OiB0cnVlO1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogU3BlY2lmaWMgc3RyaW5nIHRvIHVzZSBmb3IgY2FjaGUgYnVzdGluZy4gZS5nLiBldmVyeSB0aW1lIHdlIGdlbmVyYXRlXG4gICAqIEhUTUwgd2UgZ2VuZXJhdGUgYSByZXYgKGEgcmV2aXNpb24gSUQpIGFuZCB3ZSBzZW5kIHRoYXQgd2l0aCBlYWNoIHJlcXVlc3RcbiAgICogb24gdGhlIGNsaWVudCwgc3VjaCB0aGF0IGlmIHdlIGdlbmVyYXRlIG5ldyBzZXJ2ZXIgSFRNTCB3ZSBnZXQgYSBuZXcgcmV2XG4gICAqIGFuZCB3ZSB1c2UgdGhhdCB0byBidXN0IHRoZSBjYWNoZSBiZWNhdXNlIGV2ZW4gdGhvdWdoIHRoZSBjb250ZW50IElEIG1heVxuICAgKiBiZSB0aGUgc2FtZSwgaXQgY291bGQgYmUgYW4gdXBkYXRlZCB2ZXJzaW9uIG9mIHRoaXMgY29udGVudCB0aGF0IG5lZWRzIHRvXG4gICAqIGJlIGZyZXNoLlxuICAgKi9cbiAgcmV2Pzogc3RyaW5nO1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogVGVsbCB0aGUgQVBJIHRoYXQgd2hlbiBnZW5lcmF0aW5nIEhUTUwgdG8gZ2VuZXJhdGUgaXQgaW4gc3RhdGljIG1vZGUgZm9yXG4gICAqIGEvYiB0ZXN0cyBpbnN0ZWFkIG9mIHRoZSBvbGRlciB3YXkgd2UgZGlkIHRoaXNcbiAgICovXG4gIHN0YXRpYz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIHF1ZXJ5IHBhcmFtcyBvZiB0aGUgQ29udGVudCBBUEkgdG8gc2VuZC5cbiAgICovXG4gIG9wdGlvbnM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogRG9uJ3QgbGlzdGVuIHRvIHVwZGF0ZXMgaW4gdGhlIGVkaXRvciAtIHRoaXMgaXMgdXNlZnVsIGZvciBlbWJlZGRlZFxuICAgKiBzeW1ib2xzIHNvIHRoZXkgZG9uJ3QgYWNjaWRlbnRhbGx5IGxpc3RlbiB0byBtZXNzYWdlcyBhcyB5b3UgYXJlIGVkaXRpbmdcbiAgICogY29udGVudCB0aGlua2luZyB0aGV5IHNob3VsZCB1cGRhdGVzIHdoZW4gdGhleSBhY3R1YWxseSBzaG91bGRuJ3QuXG4gICAqL1xuICBub0VkaXRvclVwZGF0ZXM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBpdCB3aWxsIGxhenkgbG9hZCBzeW1ib2xzL3JlZmVyZW5jZXMuXG4gICAqIElmIHNldCB0byBgZmFsc2VgLCBpdCB3aWxsIHJlbmRlciB0aGUgZW50aXJlIGNvbnRlbnQgdHJlZSBlYWdlcmx5LlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYGVucmljaGAgaW5zdGVhZFxuICAgKi9cbiAgbm9UcmF2ZXJzZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFByb3BlcnR5IHRvIG9yZGVyIHJlc3VsdHMgYnkuXG4gICAqIFVzZSAxIGZvciBhc2NlbmRpbmcgYW5kIC0xIGZvciBkZXNjZW5kaW5nLlxuICAgKlxuICAgKiBUaGUga2V5IGlzIHdoYXQgeW91J3JlIHNvcnRpbmcgb24sIHNvIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzb3J0cyBieSBjcmVhdGVkRGF0ZVxuICAgKiBhbmQgYmVjYXVzZSB0aGUgdmFsdWUgaXMgMSwgdGhlIHNvcnQgaXMgYXNjZW5kaW5nLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBcbiAgICogY3JlYXRlZERhdGU6IDFcbiAgICogYGBgXG4gICAqL1xuICBzb3J0PzogeyBba2V5OiBzdHJpbmddOiAxIHwgLTEgfTtcblxuICAvKipcbiAgICogSW5jbHVkZSBjb250ZW50IGVudHJpZXMgaW4gYSByZXNwb25zZSB0aGF0IGFyZSBzdGlsbCBpblxuICAgKiBkcmFmdCBtb2RlIGFuZCB1bi1hcmNoaXZlZC4gRGVmYXVsdCBpcyBmYWxzZS5cbiAgICovXG4gIGluY2x1ZGVVbnB1Ymxpc2hlZD86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBDbGFzcyA9IHtcbiAgbmFtZT86IHN0cmluZztcbiAgbmV3ICguLi5hcmdzOiBhbnlbXSk6IGFueTtcbn07XG5cbmludGVyZmFjZSBNYXA8SywgVj4ge1xuICBjbGVhcigpOiB2b2lkO1xuICBkZWxldGUoa2V5OiBLKTogYm9vbGVhbjtcbiAgZW50cmllcygpOiBJdGVyYWJsZUl0ZXJhdG9yPFtLLCBWXT47XG4gIGZvckVhY2goY2FsbGJhY2tmbjogKHZhbHVlOiBWLCBpbmRleDogSywgbWFwOiBNYXA8SywgVj4pID0+IHZvaWQsIHRoaXNBcmc/OiBhbnkpOiB2b2lkO1xuICBnZXQoa2V5OiBLKTogVjtcbiAgaGFzKGtleTogSyk6IGJvb2xlYW47XG4gIGtleXMoKTogSXRlcmFibGVJdGVyYXRvcjxLPjtcbiAgc2V0KGtleTogSywgdmFsdWU/OiBWKTogTWFwPEssIFY+O1xuICBzaXplOiBudW1iZXI7XG4gIHZhbHVlcygpOiBJdGVyYWJsZUl0ZXJhdG9yPFY+O1xuICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPFtLLCBWXT47XG59XG5cbi8qKlxuICogVGhpcyBpcyB0aGUgaW50ZXJmYWNlIGZvciBpbnB1dHMgaW4gYEJ1aWxkZXIucmVnaXN0ZXJDb21wb25lbnRgXG4gKlxuICogYGBganNcbiAqIEJ1aWxkZXIucmVnaXN0ZXJDb21wb25lbnQoTXlDb21wb25lbnQsIHtcbiAqICAgaW5wdXRzOiBbeyBuYW1lOiAndGl0bGUnLCB0eXBlOiAndGV4dCcgfV0gLy8gPC0gSW5wdXRbXVxuICogfSlcbiAqIGBgYFxuICpcbiAqIExlYXJuIG1vcmUgYWJvdXQgcmVnaXN0ZXJpbmcgY3VzdG9tIGNvbXBvbmVudHMgW2hlcmVdKGh0dHBzOi8vd3d3LmJ1aWxkZXIuaW8vYy9kb2NzL2N1c3RvbS1yZWFjdC1jb21wb25lbnRzKVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElucHV0IHtcbiAgLyoqIFRoaXMgaXMgdGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudCBwcm9wIHRoaXMgaW5wdXQgcmVwcmVzZW50cyAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBBIGZyaWVuZGxpZXIgbmFtZSB0byBzaG93IGluIHRoZSBVSSBpZiB0aGUgY29tcG9uZW50IHByb3AgbmFtZSBpcyBub3QgaWRlYWwgZm9yIGVuZCB1c2VycyAqL1xuICBmcmllbmRseU5hbWU/OiBzdHJpbmc7XG4gIC8qKiBAaGlkZGVuIEBkZXByZWNhdGVkICovXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAvKiogQSBkZWZhdWx0IHZhbHVlIHRvIHVzZSAqL1xuICBkZWZhdWx0VmFsdWU/OiBhbnk7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBpbnB1dCB0byB1c2UsIHN1Y2ggYXMgJ3RleHQnXG4gICAqXG4gICAqIFNlZSBhbGwgYXZhaWxhYmxlIGlucHV0cyBbaGVyZV0oaHR0cHM6Ly93d3cuYnVpbGRlci5pby9jL2RvY3MvY3VzdG9tLWNvbXBvbmVudHMtaW5wdXQtdHlwZXMpXG4gICAqIGFuZCB5b3UgY2FuIGNyZWF0ZSB5b3VyIG93biBjdXN0b20gaW5wdXQgdHlwZXMgYW5kIGFzc29jaWF0ZWQgZWRpdG9yIFVJcyB3aXRoIFtwbHVnaW5zXShodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9leHRlbmRpbmcvcGx1Z2lucylcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqIElzIHRoaXMgaW5wdXQgbWFuZGF0b3J5IG9yIG5vdCAqL1xuICByZXF1aXJlZD86IGJvb2xlYW47XG4gIC8qKiBAaGlkZGVuICovXG4gIGF1dG9Gb2N1cz86IGJvb2xlYW47XG4gIHN1YkZpZWxkcz86IHJlYWRvbmx5IElucHV0W107XG4gIC8qKlxuICAgKiBXaGVuIGlucHV0IGlzIG9mIGB0eXBlYCBgb2JqZWN0YCwgdXNlIHRoaXMgZmllbGQgdG8gY29sbGFwc2UgbXVsdGlwbGUgaW5wdXRzXG4gICAqIGluIHRoZSBWaXN1YWwgRWRpdG9yIGJ5IGRlZmF1bHQgYW5kIHByZXNlcnZlIHNjcmVlbiBzcGFjZS5cbiAgICovXG4gIGZvbGRlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBXaGVuIGlucHV0IGlzIG9mIGB0eXBlYCBgb2JqZWN0YCwgcHJvdmlkZSBndWlkYW5jZSBpbiB0aGUgVmlzdWFsIEVkaXRvclxuICAgKiBvbiBob3cgdG8gZWRpdCB0aGlzIG9iamVjdCdzIGNvbnRlbnRzLlxuICAgKi9cbiAga2V5c0hlbHBlclRleHQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgdGV4dCB0byByZW5kZXIgaW4gdGhlIFVJIHRvIGdpdmUgZ3VpZGFuY2Ugb24gaG93IHRvIHVzZSB0aGlzXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIGhlbHBlclRleHQ6ICdCZSBzdXJlIHRvIHVzZSBhIHByb3BlciBVUkwsIHN0YXJ0aW5nIHdpdGggXCJodHRwczovL1wiJ1xuICAgKiAxMTFcbiAgICovXG4gIGhlbHBlclRleHQ/OiBzdHJpbmc7XG4gIC8qKiBAaGlkZGVuICovXG4gIGFsbG93ZWRGaWxlVHlwZXM/OiByZWFkb25seSBzdHJpbmdbXTtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgaW1hZ2VIZWlnaHQ/OiBudW1iZXI7XG4gIC8qKiBAaGlkZGVuICovXG4gIGJlaGF2aW9yPzogc3RyaW5nO1xuICAvKiogQGhpZGRlbiAqL1xuICBpbWFnZVdpZHRoPzogbnVtYmVyO1xuICAvKiogQGhpZGRlbiAqL1xuICBtZWRpYUhlaWdodD86IG51bWJlcjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgbWVkaWFXaWR0aD86IG51bWJlcjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgaGlkZUZyb21VST86IGJvb2xlYW47XG4gIC8qKiBAaGlkZGVuICovXG4gIG1vZGVsSWQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBOdW1iZXIgZmllbGQgdHlwZSB2YWxpZGF0aW9uIG1heGltdW0gYWNjZXB0ZWQgaW5wdXRcbiAgICovXG4gIG1heD86IG51bWJlcjtcbiAgLyoqXG4gICAqIE51bWJlciBmaWVsZCB0eXBlIHZhbGlkYXRpb24gbWluaW11bSBhY2NlcHRlZCBpbnB1dFxuICAgKi9cbiAgbWluPzogbnVtYmVyO1xuICAvKipcbiAgICogTnVtYmVyIGZpZWxkIHR5cGUgc3RlcCBzaXplIHdoZW4gdXNpbmcgYXJyb3dzXG4gICAqL1xuICBzdGVwPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0byBgdHJ1ZWAgdG8gc2hvdyB0aGUgZWRpdG9yIGZvciB0aGlzIGlucHV0IHdoZW5cbiAgICogY2hpbGRyZW4gb2YgdGhpcyBjb21wb25lbnQgYXJlIHNlbGVjdGVkLiBUaGlzIGlzIHVzZWZ1bCBmb3IgdGhpbmdzXG4gICAqIGxpa2UgVGFicywgc3VjaCB0aGF0IHVzZXJzIG1heSBub3QgYWx3YXlzIHNlbGVjdCB0aGUgVGFicyBjb21wb25lbnRcbiAgICogZGlyZWN0bHkgYnV0IHdpbGwgc3RpbGwgYmUgbG9va2luZyBmb3IgaG93IHRvIGFkZCBhZGRpdGlvbmFsIHRhYnNcbiAgICovXG4gIGJyb2FkY2FzdD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0byBgdHJ1ZWAgdG8gc2hvdyB0aGUgZWRpdG9yIGZvciB0aGlzIGlucHV0IHdoZW5cbiAgICogZ3JvdXAgbG9ja2VkIHBhcmVudHMgb2YgdGhpcyBjb21wb25lbnQgYXJlIHNlbGVjdGVkLiBUaGlzIGlzIHVzZWZ1bFxuICAgKiB0byBidWJibGUgdXAgaW1wb3J0YW50IGlucHV0cyBmb3IgbG9ja2VkIGdyb3VwcywgbGlrZSB0ZXh0IGFuZCBpbWFnZXNcbiAgICovXG4gIGJ1YmJsZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0byBgdHJ1ZWAgaWYgeW91IHdhbnQgdGhpcyBjb21wb25lbnQgdG8gYmUgdHJhbnNsYXRhYmxlXG4gICAqL1xuICBsb2NhbGl6ZWQ/OiBib29sZWFuO1xuICAvKiogQGhpZGRlbiAqL1xuICBvcHRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIEZvciBcInRleHRcIiBpbnB1dCB0eXBlLCBzcGVjaWZ5aW5nIGFuIGVudW0gd2lsbCBzaG93IGEgZHJvcGRvd24gb2Ygb3B0aW9ucyBpbnN0ZWFkXG4gICAqL1xuICBlbnVtPzpcbiAgICB8IHJlYWRvbmx5IHN0cmluZ1tdXG4gICAgfCByZWFkb25seSB7IGxhYmVsOiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuOyBoZWxwZXJUZXh0Pzogc3RyaW5nIH1bXTtcbiAgLyoqIFJlZ2V4IGZpZWxkIHZhbGlkYXRpb24gZm9yIGFsbCBzdHJpbmcgdHlwZXMgKHRleHQsIGxvbmdUZXh0LCBodG1sLCB1cmwsIGV0YykgKi9cbiAgcmVnZXg/OiB7XG4gICAgLyoqIHBhdHRlcm4gdG8gdGVzdCwgbGlrZSBcIl5cXC9bYS16XSRcIiAqL1xuICAgIHBhdHRlcm46IHN0cmluZztcbiAgICAvKiogZmxhZ3MgZm9yIHRoZSBSZWdFeHAgY29uc3RydWN0b3IsIGUuZy4gXCJnaVwiICAqL1xuICAgIG9wdGlvbnM/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogRnJpZW5kbHkgbWVzc2FnZSB0byBkaXNwbGF5IHRvIGVuZC11c2VycyBpZiB0aGUgcmVnZXggZmFpbHMsIGUuZy5cbiAgICAgKiBcIllvdSBtdXN0IHVzZSBhIHJlbGF0aXZlIHVybCBzdGFydGluZyB3aXRoICcvLi4uJyBcIlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgfTtcbiAgLyoqXG4gICAqIFNldCB0aGlzIHRvIGB0cnVlYCB0byBwdXQgdGhpcyB1bmRlciB0aGUgXCJzaG93IG1vcmVcIiBzZWN0aW9uIG9mXG4gICAqIHRoZSBvcHRpb25zIGVkaXRvci4gVXNlZnVsIGZvciB0aGluZ3MgdGhhdCBhcmUgbW9yZSBhZHZhbmNlZFxuICAgKiBvciBtb3JlIHJhcmVseSB1c2VkIGFuZCBkb24ndCBuZWVkIHRvIGJlIHRvbyBwcm9taW5lbnRcbiAgICovXG4gIGFkdmFuY2VkPzogYm9vbGVhbjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgb25DaGFuZ2U/OiAoXG4gICAgb3B0aW9uczogYW55LFxuICAgIHByZXZpb3VzT3B0aW9ucz86IGFueVxuICApID0+IFByb21pc2U8dm9pZD4gfCAoKG9wdGlvbnM6IGFueSwgcHJldmlvdXNPcHRpb25zPzogYW55KSA9PiB2b2lkKSB8IHN0cmluZyB8IHZvaWQgfCB1bmRlZmluZWQ7XG4gIC8qKiBAaGlkZGVuICovXG4gIGNvZGU/OiBib29sZWFuO1xuICAvKiogQGhpZGRlbiAqL1xuICByaWNoVGV4dD86IGJvb2xlYW47XG4gIC8qKiBAaGlkZGVuICovXG4gIHNob3dJZj86ICgob3B0aW9uczogTWFwPHN0cmluZywgYW55PikgPT4gYm9vbGVhbikgfCBzdHJpbmc7XG4gIC8qKiBAaGlkZGVuICovXG4gIGNvcHlPbkFkZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBVc2Ugb3B0aW9uYWxseSB3aXRoIGlucHV0cyBvZiB0eXBlIGByZWZlcmVuY2VgLiBSZXN0cmljdHMgdGhlIGNvbnRlbnQgZW50cnkgcGlja2VyIHRvIGEgc3BlY2lmaWMgbW9kZWwgYnkgbmFtZS5cbiAgICovXG4gIG1vZGVsPzogc3RyaW5nO1xuXG4gIG1ldGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xufVxuXG4vKipcbiAqIFRoaXMgaXMgdGhlIGludGVyZmFjZSBmb3IgdGhlIG9wdGlvbnMgZm9yIGBCdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50YFxuICpcbiAqIGBgYGpzXG4gKiBCdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50KFlvdXJDb21wb25lbnQsIHtcbiAqICAvLyA8LSBDb21wb25lbnQgb3B0aW9uc1xuICogfSlcbiAqIGBgYFxuICpcbiAqIExlYXJuIG1vcmUgYWJvdXQgcmVnaXN0ZXJpbmcgY3VzdG9tIGNvbXBvbmVudHMgW2hlcmVdKGh0dHBzOi8vd3d3LmJ1aWxkZXIuaW8vYy9kb2NzL2N1c3RvbS1yZWFjdC1jb21wb25lbnRzKVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvbmVudCB7XG4gIC8qKlxuICAgKiBOYW1lIHlvdXIgY29tcG9uZW50IHNvbWV0aGluZyB1bmlxdWUsIGUuZy4gJ015QnV0dG9uJy4gWW91IGNhbiBvdmVycmlkZSBidWlsdC1pbiBjb21wb25lbnRzXG4gICAqIGJ5IHJlZ2lzdGVyaW5nIGEgY29tcG9uZW50IHdpdGggdGhlIHNhbWUgbmFtZSwgZS5nLiAnVGV4dCcsIHRvIHJlcGxhY2UgdGhlIGJ1aWx0LWluIHRleHQgY29tcG9uZW50XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBAaGlkZGVuIEBkZXByZWNhdGVkICovXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAvKipcbiAgICogTGluayB0byBhIGRvY3VtZW50YXRpb24gcGFnZSBmb3IgdGhpcyBjb21wb25lbnRcbiAgICovXG4gIGRvY3NMaW5rPzogc3RyaW5nO1xuICAvKipcbiAgICogTGluayB0byBhbiBpbWFnZSB0byBiZSB1c2VkIGFzIGFuIGljb24gZm9yIHRoaXMgY29tcG9uZW50IGluIEJ1aWxkZXIncyBlZGl0b3JcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogaW1hZ2U6ICdodHRwczovL3NvbWUtY2RuLmNvbS9teS1pY29uLWZvci10aGlzLWNvbXBvbmVudC5wbmcnXG4gICAqIGBgYFxuICAgKi9cbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBMaW5rIHRvIGEgc2NyZWVuc2hvdCBzaG93biB3aGVuIHVzZXIgaG92ZXJzIG92ZXIgdGhlIGNvbXBvbmVudCBpbiBCdWlsZGVyJ3MgZWRpdG9yXG4gICAqIHVzZSBodHRwczovL2J1aWxkZXIuaW8vdXBsb2FkIHRvIHVwbG9hZCB5b3VyIHNjcmVlc2hvdCwgZm9yIGVhc2llciByZXNpemluZyBieSBCdWlsZGVyLlxuICAgKi9cbiAgc2NyZWVuc2hvdD86IHN0cmluZztcblxuICAvKipcbiAgICogV2hlbiBvdmVycmlkaW5nIGJ1aWx0LWluIGNvbXBvbmVudHMsIGlmIHlvdSBkb24ndCB3YW50IGFueSBzcGVjaWFsIGJlaGF2aW9yIHRoYXRcbiAgICogdGhlIG9yaWdpbmFsIGhhcywgc2V0IHRoaXMgdG8gYHRydWVgIHRvIHNraXAgdGhlIGRlZmF1bHQgYmVoYXZpb3JcbiAgICpcbiAgICogRGVmYXVsdCBiZWhhdmlvcnMgaW5jbHVkZSBzcGVjaWFsIFwidmlydHVhbCBvcHRpb25zXCIsIHN1Y2ggYXMgYSBjdXN0b21cbiAgICogYXNwZWN0IHJhdGlvIGVkaXRvciBmb3IgSW1hZ2VzLCBvciBhIHNwZWNpYWwgY29sdW1uIGVkaXRvciBmb3IgQ29sdW1uc1xuICAgKlxuICAgKiBMZWFybiBtb3JlIGFib3V0IG92ZXJyaWRpbmcgYnVpbHQtaW4gY29tcG9uZW50cyBoZXJlOiBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9jdXN0b20tY29tcG9uZW50cy1vdmVycmlkaW5nXG4gICAqL1xuICBvdmVycmlkZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIElucHV0IHNjaGVtYSBmb3IgeW91ciBjb21wb25lbnQgZm9yIHVzZXJzIHRvIGZpbGwgaW4gdGhlIG9wdGlvbnMgdmlhIGEgVUlcbiAgICogdGhhdCB0cmFuc2xhdGUgdG8gdGhpcyBjb21wb25lbnRzIHByb3BzXG4gICAqL1xuICBpbnB1dHM/OiByZWFkb25seSBJbnB1dFtdO1xuICAvKiogQGhpZGRlbiBAZGVwcmVjYXRlZCAqL1xuICBjbGFzcz86IGFueTtcbiAgLyoqIEBoaWRkZW4gQGRlcHJlY2F0ZWQgKi9cbiAgdHlwZT86ICdhbmd1bGFyJyB8ICd3ZWJjb21wb25lbnQnIHwgJ3JlYWN0JyB8ICd2dWUnO1xuICAvKipcbiAgICogRGVmYXVsdCBzdHlsZXMgdG8gYXBwbHkgd2hlbiBkcm9wcGdlZCBpbnRvIHRoZSBCdWlsZGVyLmlvIGVkaXRvclxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBkZWZhdWx0U3R5bGVzOiB7XG4gICAqICBhcHBlYXJhbmNlOiAnbm9uZScsXG4gICAqICBwYWRkaW5nVG9wOiAnMTVweCcsXG4gICAqICBwYWRkaW5nQm90dG9tOiAnMTVweCcsXG4gICAqICBwYWRkaW5nTGVmdDogJzI1cHgnLFxuICAgKiAgcGFkZGluZ1JpZ2h0OiAnMjVweCcsXG4gICAqICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyxcbiAgICogIGNvbG9yOiAnd2hpdGUnLFxuICAgKiAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIGRlZmF1bHRTdHlsZXM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAvKipcbiAgICogVHVybiBvbiBpZiB5b3VyIGNvbXBvbmVudCBjYW4gYWNjZXB0IGNoaWxkcmVuLiBCZSBzdXJlIHRvIHVzZSBpbiBjb21iaW5hdGlvbiB3aXRoXG4gICAqIHdpdGhDaGlsZHJlbihZb3VyQ29tcG9uZW50KSBsaWtlIGhlcmVcbiAgICogZ2l0aHViLmNvbS9CdWlsZGVySU8vYnVpbGRlci9ibG9iL21hc3Rlci9leGFtcGxlcy9yZWFjdC1kZXNpZ24tc3lzdGVtL3NyYy9jb21wb25lbnRzL0hlcm9XaXRoQ2hpbGRyZW4vSGVyb1dpdGhDaGlsZHJlbi5idWlsZGVyLmpzI0w1XG4gICAqL1xuICBjYW5IYXZlQ2hpbGRyZW4/OiBib29sZWFuO1xuICAvKiogQGhpZGRlbiAqL1xuICBmcmFnbWVudD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBEbyBub3Qgd3JhcCBhIGNvbXBvbmVudCBpbiBhIGRvbSBlbGVtZW50LiBCZSBzdXJlIHRvIHVzZSB7Li4ucHJvcHMuYXR0cmlidXRlc30gd2l0aCB0aGlzIG9wdGlvblxuICAgKiBsaWtlIGhlcmUgZ2l0aHViLmNvbS9CdWlsZGVySU8vYnVpbGRlci9ibG9iL21hc3Rlci9wYWNrYWdlcy9yZWFjdC9zcmMvYmxvY2tzL2Zvcm1zL0lucHV0LnRzeCNMMzRcbiAgICovXG4gIG5vV3JhcD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBEZWZhdWx0IGNoaWxkcmVuXG4gICAqL1xuICBkZWZhdWx0Q2hpbGRyZW4/OiByZWFkb25seSBCdWlsZGVyRWxlbWVudFtdO1xuICAvKipcbiAgICogRGVmYXVsdCBvcHRpb25zIHRvIG1lcmdlIGluIHdoZW4gY3JlYXRpbmcgdGhpcyBibG9ja1xuICAgKi9cbiAgZGVmYXVsdHM/OiBQYXJ0aWFsPEJ1aWxkZXJFbGVtZW50PjtcbiAgLyoqIEBoaWRkZW4gQGRlcHJlY2F0ZWQgKi9cbiAgaG9va3M/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB8IEZ1bmN0aW9uIH07XG4gIC8qKlxuICAgKiBIaWRlIHlvdXIgY29tcG9uZW50IGluIGVkaXRvciwgdXNlZnVsIGZvciBncmFkdWFsbHkgZGVwcmVjYXRpbmcgY29tcG9uZW50c1xuICAgKi9cbiAgaGlkZUZyb21JbnNlcnRNZW51PzogYm9vbGVhbjtcbiAgLyoqIEN1c3RvbSB0YWcgbmFtZSAoZm9yIGN1c3RvbSB3ZWJjb21wb25lbnRzIG9ubHkpICovXG4gIHRhZz86IHN0cmluZztcbiAgLyoqIEBoaWRkZW4gQGRlcHJlY2F0ZWQgKi9cbiAgc3RhdGljPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFBhc3NpbmcgYSBsaXN0IG9mIG1vZGVsIG5hbWVzIHdpbGwgcmVzdHJpY3QgdXNpbmcgdGhlIGNvbXBvbmVudCB0byBvbmx5IHRoZSBtb2RlbHMgbGlzdGVkIGhlcmUsIG90aGVyd2lzZSBpdCdsbCBiZSBhdmFpbGFibGUgZm9yIGFsbCBtb2RlbHNcbiAgICovXG4gIG1vZGVscz86IHJlYWRvbmx5IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBjb21wb25lbnQgaXMgYSBSZWFjdCBTZXJ2ZXIgQ29tcG9uZW50XG4gICAqL1xuICBpc1JTQz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNwZWNpZnkgcmVzdHJpY3Rpb25zIGRpcmVjdCBjaGlsZHJlbiBtdXN0IG1hdGNoXG4gICAqL1xuICBjaGlsZFJlcXVpcmVtZW50cz86IHtcbiAgICAvKiogTWVzc2FnZSB0byBzaG93IHdoZW4gdGhpcyBkb2Vzbid0IG1hdGNoLCBlLmcuIFwiQ2hpbGRyZW4gb2YgJ0NvbHVtbnMnIG11c3QgYmUgYSAnQ29sdW1uJ1wiICovXG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIC8qKiBTaW1wbGUgd2F5IHRvIHNheSBjaGlsZHJlbiBtdXN0IGJlIGEgc3BlY2lmaWMgY29tcG9uZW50IG5hbWUgKi9cbiAgICBjb21wb25lbnQ/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogTW9yZSBhZHZhbmNlZCAtIHNwZWNpZnkgYSBNb25nb0RCLXN0eWxlIHF1ZXJ5ICh1c2luZyBzaWZ0LmpzIGdpdGh1Yi5jb20vY3Jjbi9zaWZ0LmpzKVxuICAgICAqIG9mIHdoYXQgdGhlIGNoaWxkcmVuIG9iamVjdHMgc2hvdWxkIG1hdGNoLCBlLmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICBxdWVyeToge1xuICAgICAqICAgIC8vIENoaWxkIG9mIHRoaXMgZWxlbWVudCBtdXN0IGJlIGEgJ0J1dHRvbicgb3IgJ1RleHQnIGNvbXBvbmVudFxuICAgICAqICAgICdjb21wb25lbnQubmFtZSc6IHsgJGluOiBbJ0J1dHRvbicsICdUZXh0J10gfVxuICAgICAqICB9XG4gICAgICovXG4gICAgcXVlcnk/OiBhbnk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZnkgcmVzdHJpY3Rpb25zIGFueSBwYXJlbnQgbXVzdCBtYXRjaFxuICAgKi9cbiAgcmVxdWlyZXNQYXJlbnQ/OiB7XG4gICAgLyoqIE1lc3NhZ2UgdG8gc2hvdyB3aGVuIHRoaXMgZG9lc24ndCBtYXRjaCwgZS5nLiBcIidBZGQgdG8gY2FydCcgYnV0dG9ucyBtdXN0IGJlIHdpdGhpbiBhICdQcm9kdWN0IGJveCdcIiAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICAvKiogU2ltcGxlIHdheSB0byBzYXkgYSBwYXJlbnQgbXVzdCBiZSBhIHNwZWNpZmljIGNvbXBvbmVudCBuYW1lLCBlLmcuICdQcm9kdWN0IGJveCcgKi9cbiAgICBjb21wb25lbnQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBNb3JlIGFkdmFuY2VkIC0gc3BlY2lmeSBhIE1vbmdvREItc3R5bGUgcXVlcnkgKHVzaW5nIHNpZnQuanMgZ2l0aHViLmNvbS9jcmNuL3NpZnQuanMpXG4gICAgICogb2Ygd2hhdCBhdCBsZWFzdCBvbmUgcGFyZW50IGluIHRoZSBwYXJlbnRzIGhpZXJhcmNoeSBzaG91bGQgbWF0Y2gsIGUuZy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogIHF1ZXJ5OiB7XG4gICAgICogICAgLy8gVGhpbHMgZWxlbWVudCBtdXN0IGJlIHNvbWV3aGVyZSBpbnNpZGUgZWl0aGVyIGEgJ1Byb2R1Y3QgYm94JyBvciAnQ29sbGVjdGlvbicgY29tcG9uZW50XG4gICAgICogICAgJ2NvbXBvbmVudC5uYW1lJzogeyAkaW46IFsnUHJvZHVjdCBCb3gnLCAnQ29sbGVjdGlvbiddIH1cbiAgICAgKiAgfVxuICAgICAqL1xuICAgIHF1ZXJ5PzogYW55O1xuICB9O1xuXG4gIGZyaWVuZGx5TmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogVXNlIHRvIHJlc3RyaWN0IGFjY2VzcyB0byB5b3VyIGNvbXBvbmVudCBiYXNlZCBvbiBhIHRoZSBjdXJyZW50IHVzZXIgcGVybWlzc2lvbnNcbiAgICogQnkgZGVmYXVsdCBjb21wb25lbnRzIHdpbGwgc2hvdyB0byBhbGwgdXNlcnNcbiAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcGVybWlzc2lvbnMgaW4gYnVpbGRlciBjaGVjayBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9ndWlkZXMvcm9sZXMtYW5kLXBlcm1pc3Npb25zXG4gICAqL1xuICByZXF1aXJlZFBlcm1pc3Npb25zPzogQXJyYXk8UGVybWlzc2lvbj47XG5cbiAgbWV0YT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG59XG5cbnR5cGUgUGVybWlzc2lvbiA9ICdyZWFkJyB8ICdwdWJsaXNoJyB8ICdlZGl0Q29kZScgfCAnZWRpdERlc2lnbnMnIHwgJ2FkbWluJyB8ICdjcmVhdGUnO1xuXG50eXBlIERlZXBQYXJ0aWFsPFQ+ID0ge1xuICBbUCBpbiBrZXlvZiBUXT86IFRbUF0gZXh0ZW5kcyBBcnJheTxpbmZlciBVPlxuICAgID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gICAgOiBUW1BdIGV4dGVuZHMgUmVhZG9ubHlBcnJheTxpbmZlciBVPlxuICAgICAgPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICAgICAgOiBEZWVwUGFydGlhbDxUW1BdPjtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5zZXJ0TWVudUl0ZW0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIGljb24/OiBzdHJpbmc7XG4gIGl0ZW06IERlZXBQYXJ0aWFsPEJ1aWxkZXJFbGVtZW50Pjtcbn1cblxuLyoqXG4gKiBVc2UgdGhpcyB0byByZWdpc3RlciBjdXN0b20gc2VjdGlvbnMgaW4gdGhlIEluc2VydCBtZW51LCBmb3IgaW5zdGFuY2VcbiAqIHRvIG1ha2UgbmV3IHNlY3Rpb25zIHRvIG9yZ2FuaXplIHlvdXIgY3VzdG9tIGNvbXBvbmVudHNcbiAqXG4gKiAhW0V4YW1wbGUgb2Ygd2hhdCBhIGN1c3RvbSBzZWN0aW9uIGxvb2tzIGxpa2VdKGh0dHBzOi8vY2RuLmJ1aWxkZXIuaW8vYXBpL3YxL2ltYWdlL2Fzc2V0cyUyRjdmN2JiY2Y3MmExYTRkNzJiYWM1ZGFhMzU5ZTdiZWZkJTJGZTVmMjc5MmU5YzBmNDRlZDg5YTlkY2I3N2I5NDU4NTgpXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBCdWlsZGVyLnJlZ2lzdGVyKCdpbnNlcnRNZW51Jywge1xuICogICBuYW1lOiAnT3VyIGNvbXBvbmVudHMnLFxuICogICBpdGVtczogW1xuICogICAgIHsgbmFtZTogJ0hlcm8nIH0sXG4gKiAgICAgeyBuYW1lOiAnRG91YmxlIENvbHVtbnMnIH0sXG4gKiAgICAgeyBuYW1lOiAnVHJpcGxlIENvbHVtbnMnIH0sXG4gKiAgICAgeyBuYW1lOiAnRHluYW1pYyBDb2x1bW5zJyB9LFxuICogICBdLFxuICogfSlcbiAqIGBgYFxuICpcbiAqIFlvdSBjYW4gbWFrZSBhcyBtYW55IGN1c3RvbSBzZWN0aW9ucyBhcyB5b3UgbGlrZVxuICpcbiAqIFNlZSBhIGNvbXBsZXRlIHVzYWdlIGV4YW1wbGUgW2hlcmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9idWlsZGVyaW8vYnVpbGRlci9ibG9iL21haW4vZXhhbXBsZXMvcmVhY3QtZGVzaWduLXN5c3RlbS9zcmMvYnVpbGRlci1zZXR0aW5ncy5qcylcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnNlcnRNZW51Q29uZmlnIHtcbiAgbmFtZTogc3RyaW5nO1xuICBwcmlvcml0eT86IG51bWJlcjtcbiAgcGVyc2lzdD86IGJvb2xlYW47XG4gIGFkdmFuY2VkPzogYm9vbGVhbjtcbiAgaXRlbXM6IHJlYWRvbmx5IEluc2VydE1lbnVJdGVtW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCdWlsZGVyQ29tcG9uZW50KGluZm86IFBhcnRpYWw8Q29tcG9uZW50PiA9IHt9KSB7XG4gIHJldHVybiBCdWlsZGVyLkNvbXBvbmVudChpbmZvKTtcbn1cblxuLy8gVE9ET1xudHlwZSBTZXR0aW5ncyA9IGFueTtcblxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb24ge1xuICBuYW1lOiBzdHJpbmc7XG4gIGlucHV0cz86IHJlYWRvbmx5IElucHV0W107XG4gIHJldHVyblR5cGU/OiBJbnB1dDtcbiAgYWN0aW9uOiAob3B0aW9uczogUmVjb3JkPHN0cmluZywgYW55PikgPT4gc3RyaW5nO1xuICAvKipcbiAgICogSXMgYW4gYWN0aW9uIGZvciBleHByZXNzaW9uIChlLmcuIGNhbGN1bGF0aW5nIGEgYmluZGluZyBsaWtlIGEgZm9ybXVsYVxuICAgKiB0byBmaWxsIGEgdmFsdWUgYmFzZWQgb24gbG9jYWxlKSBvciBhIGZ1bmN0aW9uIChlLmcuIHNvbWV0aGluZyB0byB0cmlnZ2VyXG4gICAqIG9uIGFuIGV2ZW50IGxpa2UgYWRkIHRvIGNhcnQpIG9yIGVpdGhlciAoZS5nLiBhIGN1c3RvbSBjb2RlIGJsb2NrKVxuICAgKi9cbiAga2luZDogJ2V4cHJlc3Npb24nIHwgJ2Z1bmN0aW9uJyB8ICdhbnknO1xuICAvKipcbiAgICogR2xvYmFsbHkgdW5pcXVlIElEIGZvciBhbiBhY3Rpb24sIGUuZy4gXCJAYnVpbGRlci5pbzpzZXRTdGF0ZVwiXG4gICAqL1xuICBpZDogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgQnVpbGRlciB7XG4gIHN0YXRpYyBWRVJTSU9OID0gU0RLX1ZFUlNJT047XG5cbiAgc3RhdGljIGNvbXBvbmVudHM6IENvbXBvbmVudFtdID0gW107XG4gIHN0YXRpYyBzaW5nbGV0b25JbnN0YW5jZTogQnVpbGRlcjtcbiAgLyoqXG4gICAqIE1ha2VzIGl0IHNvIHRoYXQgYS9iIHRlc3RzIGdlbmVyYXRlIGNvZGUgbGlrZSB7QGxpbmtcbiAgICogaHR0cHM6Ly93d3cuYnVpbGRlci5pby9ibG9nL2hpZ2gtcGVyZm9ybWFuY2Utbm8tY29kZSNfX25leHQ6fjp0ZXh0PVN0YXRpYyUyMGdlbmVyYXRlZCUyMEElMkZCJTIwdGVzdGluZ31cbiAgICogaW5zdGVhZCBvZiB0aGUgb2xkIHdheSB3aGVyZSB3ZSByZW5kZXIgb25seSBvbmUgdGVzdCBncm91cCBhdCBhIHRpbWUgb24gdGhlXG4gICAqIHNlcnZlci4gVGhpcyBpcyB0aGUgcHJlZmVycmVkL2JldHRlciB3YXkgbm90IGFuZCB3ZSBzaG91bGQgdWx0aW1hdGVseSBtYWtlIGl0XG4gICAqIHRoZSBkZWZhdWx0XG4gICAqL1xuICBzdGF0aWMgaXNTdGF0aWMgPSB0cnVlO1xuICBzdGF0aWMgYW5pbWF0b3IgPSBuZXcgQW5pbWF0b3IoKTtcblxuICBzdGF0aWMgbmV4dFRpY2sgPSBuZXh0VGljaztcbiAgc3RhdGljIHRocm90dGxlID0gdGhyb3R0bGU7XG5cbiAgc3RhdGljIGVkaXRvcnM6IGFueVtdID0gW107XG4gIHN0YXRpYyB0cnVzdGVkSG9zdHM6IHN0cmluZ1tdID0gW1xuICAgICcqLmJldGEuYnVpbGRlci5pbycsXG4gICAgJ2JldGEuYnVpbGRlci5pbycsXG4gICAgJ2J1aWxkZXIuaW8nLFxuICAgICdsb2NhbGhvc3QnLFxuICAgICdxYS5idWlsZGVyLmlvJyxcbiAgXTtcbiAgc3RhdGljIHNlcnZlckNvbnRleHQ6IGFueTtcbiAgc3RhdGljIHBsdWdpbnM6IGFueVtdID0gW107XG5cbiAgc3RhdGljIGFjdGlvbnM6IEFjdGlvbltdID0gW107XG4gIHN0YXRpYyByZWdpc3RyeTogeyBba2V5OiBzdHJpbmddOiBhbnlbXSB9ID0ge307XG4gIHN0YXRpYyBvdmVycmlkZUhvc3Q6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc3RhdGljIGF0dHJpYnV0ZXNDb29raWVOYW1lID0gJ2J1aWxkZXIudXNlckF0dHJpYnV0ZXMnO1xuXG4gIC8qKlxuICAgKiBAdG9kbyBga2V5YCBwcm9wZXJ0eSBvbiBhbnkgaW5mbyB3aGVyZSBpZiBhIGtleSBtYXRjaGVzIGEgY3VycmVudFxuICAgKiBrZXkgaXQgZ2V0cyByZW1vdmVkXG4gICAqL1xuICBzdGF0aWMgcmVnaXN0ZXIodHlwZTogJ2luc2VydE1lbnUnLCBpbmZvOiBJbnNlcnRNZW51Q29uZmlnKTogdm9pZDtcbiAgc3RhdGljIHJlZ2lzdGVyKHR5cGU6IHN0cmluZywgaW5mbzogYW55KTogdm9pZDtcbiAgc3RhdGljIHJlZ2lzdGVyKHR5cGU6IHN0cmluZywgaW5mbzogYW55KSB7XG4gICAgaWYgKHR5cGUgPT09ICdwbHVnaW4nKSB7XG4gICAgICBpbmZvID0gdGhpcy5zZXJpYWxpemVJbmNsdWRpbmdGdW5jdGlvbnMoaW5mbywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogYWxsIG11c3QgaGF2ZSBuYW1lIGFuZCBjYW4ndCBjb25mbGljdD9cbiAgICBsZXQgdHlwZUxpc3QgPSB0aGlzLnJlZ2lzdHJ5W3R5cGVdO1xuICAgIGlmICghdHlwZUxpc3QpIHtcbiAgICAgIHR5cGVMaXN0ID0gdGhpcy5yZWdpc3RyeVt0eXBlXSA9IFtdO1xuICAgIH1cbiAgICB0eXBlTGlzdC5wdXNoKGluZm8pO1xuICAgIGlmIChCdWlsZGVyLmlzQnJvd3Nlcikge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgICAgdHlwZTogJ2J1aWxkZXIucmVnaXN0ZXInLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBpbmZvLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBhcmVudC5wb3N0TWVzc2FnZShtZXNzYWdlLCAnKicpO1xuICAgICAgICBpZiAocGFyZW50ICE9PSB3aW5kb3cpIHtcbiAgICAgICAgICB3aW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZSwgJyonKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ0NvdWxkIG5vdCBwb3N0bWVzc2FnZScsIGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVnaXN0cnlDaGFuZ2UubmV4dCh0aGlzLnJlZ2lzdHJ5KTtcbiAgfVxuXG4gIHN0YXRpYyByZWdpc3RyeUNoYW5nZSA9IG5ldyBCZWhhdmlvclN1YmplY3Qoe30gYXMgdHlwZW9mIEJ1aWxkZXIucmVnaXN0cnkpO1xuXG4gIHN0YXRpYyByZWdpc3RlckVkaXRvcihpbmZvOiBhbnkpIHtcbiAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZShcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdidWlsZGVyLnJlZ2lzdGVyRWRpdG9yJyxcbiAgICAgICAgICBkYXRhOiBvbWl0KGluZm8sICdjb21wb25lbnQnKSxcbiAgICAgICAgfSxcbiAgICAgICAgJyonXG4gICAgICApO1xuICAgICAgY29uc3QgeyBob3N0bmFtZSB9ID0gbG9jYXRpb247XG5cbiAgICAgIGlmICghQnVpbGRlci5pc1RydXN0ZWRIb3N0KGhvc3RuYW1lKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdCdWlsZGVyLnJlZ2lzdGVyRWRpdG9yKCkgY2FsbGVkIGluIHRoZSB3cm9uZyBlbnZpcm9ubWVudCEgWW91IGNhbm5vdCBsb2FkIGN1c3RvbSBlZGl0b3JzIGZyb20geW91ciBhcHAsIHRoZXkgbXVzdCBiZSBsb2FkZWQgdGhyb3VnaCB0aGUgQnVpbGRlci5pbyBhcHAgaXRzZWxmLiBGb2xsb3cgdGhlIHJlYWRtZSBoZXJlIGZvciBtb3JlIGRldGFpbHM6IGh0dHBzOi8vZ2l0aHViLmNvbS9idWlsZGVyaW8vYnVpbGRlci90cmVlL21hc3Rlci9wbHVnaW5zL2Nsb3VkaW5hcnkgb3IgY29udGFjdCBjaGF0IHVzIGluIG91ciBTcGVjdHJ1bSBjb21tdW5pdHkgZm9yIGhlbHA6IGh0dHBzOi8vc3BlY3RydW0uY2hhdC9idWlsZGVyJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmVkaXRvcnMucHVzaChpbmZvKTtcbiAgfVxuXG4gIHN0YXRpYyByZWdpc3RlclBsdWdpbihpbmZvOiBhbnkpIHtcbiAgICB0aGlzLnBsdWdpbnMucHVzaChpbmZvKTtcbiAgfVxuXG4gIHN0YXRpYyByZWdpc3RlckFjdGlvbihhY3Rpb246IEFjdGlvbikge1xuICAgIHRoaXMuYWN0aW9ucy5wdXNoKGFjdGlvbik7XG5cbiAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIGNvbnN0IGFjdGlvbkNsb25lID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhY3Rpb24pKTtcbiAgICAgIGlmIChhY3Rpb24uYWN0aW9uKSB7XG4gICAgICAgIGFjdGlvbkNsb25lLmFjdGlvbiA9IGFjdGlvbi5hY3Rpb24udG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5wYXJlbnQ/LnBvc3RNZXNzYWdlKFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2J1aWxkZXIucmVnaXN0ZXJBY3Rpb24nLFxuICAgICAgICAgIGRhdGE6IGFjdGlvbkNsb25lLFxuICAgICAgICB9LFxuICAgICAgICAnKidcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHJlZ2lzdGVyVHJ1c3RlZEhvc3QoaG9zdDogc3RyaW5nKSB7XG4gICAgdGhpcy50cnVzdGVkSG9zdHMucHVzaChob3N0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gY29udGV4dCBAdHlwZSB7aW1wb3J0KCdpc29sYXRlZC12bScpLkNvbnRleHR9XG4gICAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIGNvbnRyb2wgdGhlIGV4ZWN1dGlvbiBjb250ZXh0IG9mIGN1c3RvbSBjb2RlIG9uIHRoZSBzZXJ2ZXIuXG4gICAqIGNvbnN0IGl2bSA9IHJlcXVpcmUoJ2lzb2xhdGVkLXZtJyk7XG4gICAqIGNvbnN0IGlzb2xhdGUgPSBuZXcgaXZtLklzb2xhdGUoeyBtZW1vcnlMaW1pdDogMTI4IH0pO1xuICAgKiBjb25zdCBjb250ZXh0ID0gaXNvbGF0ZS5jcmVhdGVDb250ZXh0U3luYygpO1xuICAgKiBCdWlsZGVyLnNldFNlcnZlckNvbnRleHQoY29udGV4dCk7XG4gICAqL1xuICBzdGF0aWMgc2V0U2VydmVyQ29udGV4dChjb250ZXh0OiBhbnkpIHtcbiAgICB0aGlzLnNlcnZlckNvbnRleHQgPSBjb250ZXh0O1xuICB9XG5cbiAgc3RhdGljIGlzVHJ1c3RlZEhvc3QoaG9zdG5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IGlzVHJ1c3RlZCA9XG4gICAgICB0aGlzLnRydXN0ZWRIb3N0cy5maW5kSW5kZXgodHJ1c3RlZEhvc3QgPT5cbiAgICAgICAgdHJ1c3RlZEhvc3Quc3RhcnRzV2l0aCgnKi4nKVxuICAgICAgICAgID8gaG9zdG5hbWUuZW5kc1dpdGgodHJ1c3RlZEhvc3Quc2xpY2UoMSkpXG4gICAgICAgICAgOiB0cnVzdGVkSG9zdCA9PT0gaG9zdG5hbWVcbiAgICAgICkgPiAtMTtcblxuICAgIHJldHVybiBpc1RydXN0ZWQ7XG4gIH1cblxuICBzdGF0aWMgaXNUcnVzdGVkSG9zdEZvckV2ZW50KGV2ZW50OiBNZXNzYWdlRXZlbnQpIHtcbiAgICBpZiAoZXZlbnQub3JpZ2luID09PSAnbnVsbCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdXJsID0gcGFyc2UoZXZlbnQub3JpZ2luKTtcbiAgICByZXR1cm4gdXJsLmhvc3RuYW1lICYmIEJ1aWxkZXIuaXNUcnVzdGVkSG9zdCh1cmwuaG9zdG5hbWUpO1xuICB9XG5cbiAgc3RhdGljIHJ1bkFjdGlvbihhY3Rpb246IEFjdGlvbiB8IHN0cmluZykge1xuICAgIC8vIFRPRE9cbiAgICBjb25zdCBhY3Rpb25PYmplY3QgPVxuICAgICAgdHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycgPyBmaW5kKHRoaXMuYWN0aW9ucywgaXRlbSA9PiBpdGVtLm5hbWUgPT09IGFjdGlvbikgOiBhY3Rpb247XG5cbiAgICBpZiAoIWFjdGlvbk9iamVjdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY3Rpb24gbm90IGZvdW5kOiAke2FjdGlvbn1gKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZmllbGRzKG5hbWU6IHN0cmluZywgZmllbGRzOiByZWFkb25seSBJbnB1dFtdKSB7XG4gICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdidWlsZGVyLmZpZWxkcycsXG4gICAgICAgIGRhdGE6IHsgbmFtZSwgZmllbGRzIH0sXG4gICAgICB9LFxuICAgICAgJyonXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9lZGl0aW5nUGFnZSA9IGZhbHNlO1xuXG4gIHN0YXRpYyBpc0lmcmFtZSA9IGlzSWZyYW1lO1xuICBzdGF0aWMgaXNCcm93c2VyID0gaXNCcm93c2VyO1xuICBzdGF0aWMgaXNSZWFjdE5hdGl2ZSA9IGlzUmVhY3ROYXRpdmU7XG4gIHN0YXRpYyBpc1NlcnZlciA9ICFpc0Jyb3dzZXIgJiYgIWlzUmVhY3ROYXRpdmU7XG4gIHN0YXRpYyBwcmV2aWV3aW5nTW9kZWwgPSBCdWlsZGVyLmlzQnJvd3NlciAmJiBnZXRRdWVyeVBhcmFtKGxvY2F0aW9uLmhyZWYsICdidWlsZGVyLnByZXZpZXcnKTtcblxuICBzdGF0aWMgc2V0dGluZ3M6IFNldHRpbmdzID0ge307XG4gIHN0YXRpYyBzZXR0aW5nc0NoYW5nZSA9IG5ldyBCZWhhdmlvclN1YmplY3Q8U2V0dGluZ3M+KHt9KTtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQGhpZGRlblxuICAgKlxuICAgKiBVc2UgQnVpbGRlci5yZWdpc3RlcignZWRpdG9yLnNldHRpbmdzJywge30pIGluc3RlYWQuXG4gICAqL1xuICBzdGF0aWMgc2V0KHNldHRpbmdzOiBTZXR0aW5ncyk6IHZvaWQge1xuICAgIEJ1aWxkZXIucmVnaXN0ZXIoJ2VkaXRvci5zZXR0aW5ncycsIHNldHRpbmdzKTtcbiAgfVxuXG4gIHN0YXRpYyBpbXBvcnQocGFja2FnZU5hbWU6IHN0cmluZykge1xuICAgIGlmICghQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIC8vIFRPRE86IHNlcnZlciBzaWRlIHN1cHBvcnQgKm1heWJlKlxuICAgICAgY29uc29sZS53YXJuKCdCdWlsZGVyLmltcG9ydCB1c2VkIG9uIHRoZSBzZXJ2ZXIgLSB0aGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gdGhlIGJyb3dzZXInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBTeXN0ZW0gfSA9IHdpbmRvdyBhcyBhbnk7XG5cbiAgICBpZiAoIVN5c3RlbSkge1xuICAgICAgY29uc29sZS53YXJuKCdTeXN0ZW0uanMgbm90IGF2YWlsYWJsZS4gUGxlYXNlIGluY2x1ZGUgU3lzdGVtLmpzIHdoZW4gdXNpbmcgQnVpbGRlci5pbXBvcnQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIFN5c3RlbS5pbXBvcnQoYGh0dHBzOi8vY2RuLmJ1aWxkZXIuaW8vc3lzdGVtanMvJHtwYWNrYWdlTmFtZX1gKTtcbiAgfVxuXG4gIC8vIFRPRE86IHRoaXMgaXMgcXVpY2sgYW5kIGRpcnR5LCBkbyBiZXR0ZXIgaW1wbGVtZW50YXRpb24gbGF0ZXIuIEFsc28gY2FuIGJlIHVucmVsaWFibGVcbiAgLy8gaWYgcGFnZSAzMDFzIGV0Yy4gVXNlIGEgcXVlcnkgcGFyYW0gaW5zdGVhZD8gYWxzbyBjb3VsZCBoYXZlIGlzc3VlcyB3aXRoIHJlZGlyZWN0cy4gSW5qZWN0aW5nIHZhciBjb3VsZFxuICAvLyB3b3JrIGJ1dCBpcyBhc3luYy4uLlxuICBzdGF0aWMgaXNFZGl0aW5nID0gQm9vbGVhbihcbiAgICBpc0lmcmFtZSAmJlxuICAgICAgKChkb2N1bWVudC5yZWZlcnJlciAmJiBkb2N1bWVudC5yZWZlcnJlci5tYXRjaCgvYnVpbGRlclxcLmlvfGxvY2FsaG9zdDoxMjM0LykpIHx8XG4gICAgICAgIGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdidWlsZGVyLmZyYW1lRWRpdGluZz0nKSAhPT0gLTEpXG4gICk7XG5cbiAgc3RhdGljIGlzUHJldmlld2luZyA9IEJvb2xlYW4oXG4gICAgaXNCcm93c2VyICYmXG4gICAgICAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ2J1aWxkZXIucHJldmlldz0nKSAhPT0gLTEgfHxcbiAgICAgICAgbG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ2J1aWxkZXIuZnJhbWVFZGl0aW5nPScpICE9PSAtMSlcbiAgKTtcblxuICAvLyB1c2VDZG5BcGkgPSBmYWxzZTtcblxuICBzdGF0aWMgZ2V0IGVkaXRpbmdQYWdlKCkge1xuICAgIHJldHVybiB0aGlzLl9lZGl0aW5nUGFnZTtcbiAgfVxuXG4gIHN0YXRpYyBzZXQgZWRpdGluZ1BhZ2UoZWRpdGluZ1BhZ2UpIHtcbiAgICB0aGlzLl9lZGl0aW5nUGFnZSA9IGVkaXRpbmdQYWdlO1xuICAgIGlmIChpc0Jyb3dzZXIgJiYgaXNJZnJhbWUpIHtcbiAgICAgIGlmIChlZGl0aW5nUGFnZSkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2J1aWxkZXItZWRpdGluZy1wYWdlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2J1aWxkZXItZWRpdGluZy1wYWdlJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgc2VyaWFsaXplSW5jbHVkaW5nRnVuY3Rpb25zKGluZm86IGFueSwgaXNGb3JQbHVnaW4/OiBib29sZWFuKSB7XG4gICAgY29uc3Qgc2VyaWFsaXplRm4gPSAoZm5WYWx1ZTogRnVuY3Rpb24pID0+IHtcbiAgICAgIGNvbnN0IGZuU3RyID0gZm5WYWx1ZS50b1N0cmluZygpLnRyaW0oKTtcblxuICAgICAgLy8gd2UgbmVlZCB0byBhY2NvdW50IGZvciBhIGZldyBkaWZmZXJlbnQgZm4gc3ludGF4ZXM6XG4gICAgICAvLyAxLiBgZnVuY3Rpb24gbmFtZShhcmdzKSA9PiB7Y29kZX1gXG4gICAgICAvLyAyLiBgbmFtZShhcmdzKSA9PiB7Y29kZX1gXG4gICAgICAvLyAzLiBgKGFyZ3MpID0+IHt9YFxuICAgICAgLy8gNC4gYGFyZ3MgPT4ge31gXG4gICAgICAvLyA1LiBgYXN5bmMgZnVuY3Rpb24oYXJncykge2NvZGV9YFxuICAgICAgLy8gNi4gYGFzeW5jIChhcmdzKSA9PiB7fWBcbiAgICAgIC8vIDcuIGBhc3luYyBhcmdzID0+IHt9YFxuICAgICAgY29uc3QgaXNBcnJvd1dpdGhvdXRQYXJlbnMgPSAvXlthLXpBLVowLTlfXStcXHMqPT4vaS50ZXN0KGZuU3RyKTtcbiAgICAgIGNvbnN0IGFwcGVuZEZ1bmN0aW9uID1cbiAgICAgICAgIWZuU3RyLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uJykgJiZcbiAgICAgICAgIWZuU3RyLnN0YXJ0c1dpdGgoJ2FzeW5jJykgJiZcbiAgICAgICAgIWZuU3RyLnN0YXJ0c1dpdGgoJygnKSAmJlxuICAgICAgICAhaXNBcnJvd1dpdGhvdXRQYXJlbnM7XG5cbiAgICAgIHJldHVybiBgcmV0dXJuICgke2FwcGVuZEZ1bmN0aW9uID8gJ2Z1bmN0aW9uICcgOiAnJ30ke2ZuU3RyfSkuYXBwbHkodGhpcywgYXJndW1lbnRzKWA7XG4gICAgfTtcblxuICAgIGNvbnN0IG9ialRvUmV0dXJuID0gSlNPTi5wYXJzZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KGluZm8sIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHNob3VsZE5vdFNlcmlhbGl6ZUZuID0gaXNGb3JQbHVnaW4gJiYga2V5ID09PSAnb25TYXZlJztcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhc2hvdWxkTm90U2VyaWFsaXplRm4pIHtcbiAgICAgICAgICByZXR1cm4gc2VyaWFsaXplRm4odmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIGlmIChpc0ZvclBsdWdpbikge1xuICAgICAgb2JqVG9SZXR1cm4ub25TYXZlID0gaW5mby5vblNhdmU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9ialRvUmV0dXJuO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgcHJlcGFyZUNvbXBvbmVudFNwZWNUb1NlbmQoc3BlYzogQ29tcG9uZW50KTogQ29tcG9uZW50IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udGhpcy5zZXJpYWxpemVJbmNsdWRpbmdGdW5jdGlvbnMoc3BlYyksXG4gICAgICBjbGFzczogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgcmVnaXN0ZXJCbG9jayhjb21wb25lbnQ6IGFueSwgb3B0aW9uczogQ29tcG9uZW50KSB7XG4gICAgdGhpcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnQsIG9wdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIHJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudDogYW55LCBvcHRpb25zOiBDb21wb25lbnQpIHtcbiAgICBjb25zdCBzcGVjID0ge1xuICAgICAgY2xhc3M6IGNvbXBvbmVudCxcbiAgICAgIC4uLmNvbXBvbmVudC5idWlsZGVyT3B0aW9ucyxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfTtcbiAgICB0aGlzLmFkZENvbXBvbmVudChzcGVjKTtcbiAgICBjb25zdCBlZGl0YWJsZSA9XG4gICAgICBvcHRpb25zLm1vZGVscyAmJiB0aGlzLnNpbmdsZXRvbkluc3RhbmNlLmVkaXRpbmdNb2RlbFxuICAgICAgICA/IGlzQnJvd3NlciAmJiBvcHRpb25zLm1vZGVscy5pbmNsdWRlcyh0aGlzLnNpbmdsZXRvbkluc3RhbmNlLmVkaXRpbmdNb2RlbClcbiAgICAgICAgOiBpc0Jyb3dzZXI7XG4gICAgaWYgKGVkaXRhYmxlKSB7XG4gICAgICBjb25zdCBzZW5kU3BlYyA9IHRoaXMucHJlcGFyZUNvbXBvbmVudFNwZWNUb1NlbmQoc3BlYyk7XG4gICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdidWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50JyxcbiAgICAgICAgICBkYXRhOiBzZW5kU3BlYyxcbiAgICAgICAgfSxcbiAgICAgICAgJyonXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGFkZENvbXBvbmVudChjb21wb25lbnQ6IENvbXBvbmVudCkge1xuICAgIGNvbnN0IGN1cnJlbnQgPSBmaW5kKHRoaXMuY29tcG9uZW50cywgaXRlbSA9PiBpdGVtLm5hbWUgPT09IGNvbXBvbmVudC5uYW1lKTtcbiAgICBpZiAoY3VycmVudCkge1xuICAgICAgLy8gRklYTUU6IHdoeSBkb2VzIHNvbWV0aW1lcyB3ZSBnZXQgYW4gZXh0cmEgcG9zdCB3aXRob3V0IGNsYXNzIC0gcHJvYmFibHlcbiAgICAgIC8vIGZyb20gcG9zdE1lc3NhZ2UgaGFuZGxlciB3cm9uZyBpbiBzb21lIHBsYWNlXG4gICAgICBpZiAoY3VycmVudC5jbGFzcyAmJiAhY29tcG9uZW50LmNsYXNzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29tcG9uZW50cy5zcGxpY2UodGhpcy5jb21wb25lbnRzLmluZGV4T2YoY3VycmVudCksIDEsIGNvbXBvbmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogc3R5bGUgZ3VpZGUsIGV0YyBvZmYgdGhpcyBzeXN0ZW0gYXMgd2VsbD9cbiAgc3RhdGljIGNvbXBvbmVudChpbmZvOiBQYXJ0aWFsPENvbXBvbmVudD4gPSB7fSkge1xuICAgIHJldHVybiAoY29tcG9uZW50OiBDbGFzcykgPT4ge1xuICAgICAgY29uc3Qgc3BlYyA9IHsgLi4uaW5mbywgY2xhc3M6IGNvbXBvbmVudCB9O1xuICAgICAgaWYgKCFzcGVjLm5hbWUpIHtcbiAgICAgICAgc3BlYy5uYW1lID0gY29tcG9uZW50Lm5hbWU7XG4gICAgICB9XG4gICAgICB0aGlzLmFkZENvbXBvbmVudChzcGVjIGFzIENvbXBvbmVudCk7XG5cbiAgICAgIGNvbnN0IHNlbmRTcGVjID0gdGhpcy5wcmVwYXJlQ29tcG9uZW50U3BlY1RvU2VuZChzcGVjIGFzIENvbXBvbmVudCk7XG4gICAgICAvLyBUT0RPOiBzZXJpYWxpemUgY29tcG9uZW50IG5hbWUgYW5kIGlucHV0c1xuICAgICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiAnYnVpbGRlci5yZWdpc3RlckNvbXBvbmVudCcsXG4gICAgICAgICAgICBkYXRhOiBzZW5kU3BlYyxcbiAgICAgICAgICB9LFxuICAgICAgICAgICcqJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGlzUmVhY3QgPSBmYWxzZTtcbiAgc3RhdGljIHNka0luZm8gPSB1bmRlZmluZWQgYXNcbiAgICB8IHtcbiAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICB2ZXJzaW9uOiBzdHJpbmc7XG4gICAgICB9XG4gICAgfCB1bmRlZmluZWQ7XG5cbiAgc3RhdGljIGdldCBDb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50O1xuICB9XG5cbiAgcHJpdmF0ZSBldmVudHNRdWV1ZTogRXZlbnRbXSA9IFtdO1xuXG4gIHByaXZhdGUgdGhyb3R0bGVkQ2xlYXJFdmVudHNRdWV1ZSA9IHRocm90dGxlKCgpID0+IHtcbiAgICB0aGlzLnByb2Nlc3NFdmVudHNRdWV1ZSgpO1xuICAgIC8vIEV4dGVuZCB0aGUgc2Vzc2lvbiBjb29raWVcbiAgICB0aGlzLnNldENvb2tpZShzZXNzaW9uU3RvcmFnZUtleSwgdGhpcy5zZXNzaW9uSWQsIGRhdGVQbHVzTWludXRlcygzMCkpO1xuICB9LCA1KTtcblxuICBwcml2YXRlIHByb2Nlc3NFdmVudHNRdWV1ZSgpIHtcbiAgICBpZiAoIXRoaXMuZXZlbnRzUXVldWUubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuZXZlbnRzUXVldWU7XG4gICAgdGhpcy5ldmVudHNRdWV1ZSA9IFtdO1xuXG4gICAgY29uc3QgZnVsbFVzZXJBdHRyaWJ1dGVzID0ge1xuICAgICAgLi4uQnVpbGRlci5vdmVycmlkZVVzZXJBdHRyaWJ1dGVzLFxuICAgICAgLi4udGhpcy50cmFja2luZ1VzZXJBdHRyaWJ1dGVzLFxuICAgIH07XG4gICAgZm9yIChjb25zdCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgIGlmICghZXZlbnQuZGF0YS5tZXRhZGF0YSkge1xuICAgICAgICBldmVudC5kYXRhLm1ldGFkYXRhID0ge307XG4gICAgICB9XG4gICAgICBpZiAoIWV2ZW50LmRhdGEubWV0YWRhdGEudXNlcikge1xuICAgICAgICBldmVudC5kYXRhLm1ldGFkYXRhLnVzZXIgPSB7fTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5hc3NpZ24oZXZlbnQuZGF0YS5tZXRhZGF0YS51c2VyLCBmdWxsVXNlckF0dHJpYnV0ZXMsIGV2ZW50LmRhdGEubWV0YWRhdGEudXNlcik7XG4gICAgfVxuXG4gICAgY29uc3QgaG9zdCA9IHRoaXMuaG9zdDtcblxuICAgIGdldEZldGNoKCkoYCR7aG9zdH0vYXBpL3YxL3RyYWNrYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGV2ZW50cyB9KSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgLi4udGhpcy5nZXRTZGtIZWFkZXJzKCksXG4gICAgICB9LFxuICAgICAgbW9kZTogJ2NvcnMnLFxuICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgIC8vIE5vdCB0aGUgZW5kIG9mIHRoZSB3b3JsZFxuICAgIH0pO1xuICB9XG5cbiAgZW52OiBzdHJpbmcgPSAncHJvZHVjdGlvbic7XG5cbiAgc2Vzc2lvbklkID0gdGhpcy5nZXRTZXNzaW9uSWQoKTtcblxuICB0YXJnZXRDb250ZW50ID0gdHJ1ZTtcblxuICBjb250ZW50UGVyUmVxdWVzdCA9IDE7XG5cbiAgLy8gVE9ETzogbWFrZSBhcnJheSBvciBmdW5jdGlvblxuICBhbGxvd0N1c3RvbUZvbnRzID0gdHJ1ZTtcblxuICBwcml2YXRlIGNvb2tpZXM6IENvb2tpZXMgfCBudWxsID0gbnVsbDtcblxuICAvLyBUT0RPOiBhcGkgb3B0aW9ucyBvYmplY3RcbiAgcHJpdmF0ZSBjYWNoZWJ1c3QgPSBmYWxzZTtcbiAgcHJpdmF0ZSBvdmVycmlkZVBhcmFtcyA9ICcnO1xuICBwcml2YXRlIG5vQ2FjaGUgPSBmYWxzZTtcbiAgcHJpdmF0ZSBwcmV2aWV3ID0gZmFsc2U7XG5cbiAgZ2V0IGJyb3dzZXJUcmFja2luZ0Rpc2FibGVkKCkge1xuICAgIHJldHVybiBCdWlsZGVyLmlzQnJvd3NlciAmJiBCb29sZWFuKCh3aW5kb3cgYXMgYW55KS5idWlsZGVyTm9UcmFjayB8fCAhbmF2aWdhdG9yLmNvb2tpZUVuYWJsZWQpO1xuICB9XG5cbiAgZ2V0IGNhblRyYWNrKCkge1xuICAgIHJldHVybiB0aGlzLmNhblRyYWNrJC52YWx1ZTtcbiAgfVxuXG4gIHNldCBjYW5UcmFjayhjYW5UcmFjaykge1xuICAgIHRoaXMuaGFzT3ZlcnJpZGRlbkNhblRyYWNrID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5jYW5UcmFjayAhPT0gY2FuVHJhY2spIHtcbiAgICAgIHRoaXMuY2FuVHJhY2skLm5leHQoY2FuVHJhY2spO1xuICAgIH1cbiAgfVxuXG4gIGdldCBhcGlWZXJzaW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFwaVZlcnNpb24kLnZhbHVlO1xuICB9XG5cbiAgc2V0IGFwaVZlcnNpb24oYXBpVmVyc2lvbjogQXBpVmVyc2lvbiB8IHVuZGVmaW5lZCkge1xuICAgIGlmICh0aGlzLmFwaVZlcnNpb24gIT09IGFwaVZlcnNpb24pIHtcbiAgICAgIHRoaXMuYXBpVmVyc2lvbiQubmV4dChhcGlWZXJzaW9uKTtcbiAgICB9XG4gIH1cblxuICBnZXQgYXBpRW5kcG9pbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXBpRW5kcG9pbnQkLnZhbHVlO1xuICB9XG5cbiAgc2V0IGFwaUVuZHBvaW50KGFwaUVuZHBvaW50OiAnY29udGVudCcgfCAncXVlcnknKSB7XG4gICAgaWYgKHRoaXMuYXBpRW5kcG9pbnQgIT09IGFwaUVuZHBvaW50KSB7XG4gICAgICB0aGlzLmFwaUVuZHBvaW50JC5uZXh0KGFwaUVuZHBvaW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGljdGF0ZXMgd2hpY2ggQVBJIGVuZHBvaW50IGlzIHVzZWQgd2hlbiBmZXRjaGluZyBjb250ZW50LiBBbGxvd3MgYCdjb250ZW50J2AgYW5kIGAncXVlcnknYC5cbiAgICogRGVmYXVsdHMgdG8gYCdxdWVyeSdgLlxuICAgKi9cbiAgcHJpdmF0ZSBhcGlFbmRwb2ludCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PCdjb250ZW50JyB8ICdxdWVyeSc+KCdxdWVyeScpO1xuICBwcml2YXRlIGFwaVZlcnNpb24kID0gbmV3IEJlaGF2aW9yU3ViamVjdDxBcGlWZXJzaW9uIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBwcml2YXRlIGNhblRyYWNrJCA9IG5ldyBCZWhhdmlvclN1YmplY3QoIXRoaXMuYnJvd3NlclRyYWNraW5nRGlzYWJsZWQpO1xuICBwcml2YXRlIGhhc092ZXJyaWRkZW5DYW5UcmFjayA9IGZhbHNlO1xuICBwcml2YXRlIGFwaUtleSQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBwcml2YXRlIGF1dGhUb2tlbiQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIHVzZXJBdHRyaWJ1dGVzQ2hhbmdlZCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8YW55PihudWxsKTtcblxuICBnZXQgZWRpdGluZ01vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWRpdGluZ01vZGUkLnZhbHVlO1xuICB9XG5cbiAgc2V0IGVkaXRpbmdNb2RlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSB0aGlzLmVkaXRpbmdNb2RlKSB7XG4gICAgICB0aGlzLmVkaXRpbmdNb2RlJC5uZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBlZGl0aW5nTW9kZSQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KGlzSWZyYW1lKTtcblxuICBnZXQgZWRpdGluZ01vZGVsKCkge1xuICAgIHJldHVybiB0aGlzLmVkaXRpbmdNb2RlbCQudmFsdWU7XG4gIH1cblxuICBzZXQgZWRpdGluZ01vZGVsKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSB0aGlzLmVkaXRpbmdNb2RlbCkge1xuICAgICAgdGhpcy5lZGl0aW5nTW9kZWwkLm5leHQodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZmluZFBhcmVudEVsZW1lbnQoXG4gICAgdGFyZ2V0OiBIVE1MRWxlbWVudCxcbiAgICBjYWxsYmFjazogKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiBib29sZWFuLFxuICAgIGNoZWNrRWxlbWVudCA9IHRydWVcbiAgKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbiAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgcGFyZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBjaGVja0VsZW1lbnQgPyB0YXJnZXQgOiB0YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICBkbyB7XG4gICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbWF0Y2hlcyA9IGNhbGxiYWNrKHBhcmVudCk7XG4gICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgfVxuICAgIH0gd2hpbGUgKChwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudCkpO1xuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwcml2YXRlIGZpbmRCdWlsZGVyUGFyZW50KHRhcmdldDogSFRNTEVsZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kUGFyZW50RWxlbWVudCh0YXJnZXQsIGVsID0+IHtcbiAgICAgIGNvbnN0IGlkID0gZWwuZ2V0QXR0cmlidXRlKCdidWlsZGVyLWlkJykgfHwgZWwuaWQ7XG4gICAgICByZXR1cm4gQm9vbGVhbihpZCAmJiBpZC5pbmRleE9mKCdidWlsZGVyLScpID09PSAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFRPRE86IGRlY29yYXRvciB0byBkbyB0aGlzIHN0dWZmIHdpdGggdGhlIGdldC9zZXQgKGhvdyBkbyB3aXRoIHR5cGluZyB0b28/IGNvbXBpbGVyPylcbiAgZWRpdGluZ01vZGVsJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8bnVsbCB8IHN0cmluZz4obnVsbCk7XG5cbiAgc2V0VXNlckFnZW50KHVzZXJBZ2VudDogc3RyaW5nKSB7XG4gICAgdGhpcy51c2VyQWdlbnQgPSB1c2VyQWdlbnQgfHwgJyc7XG4gIH1cbiAgdXNlckFnZW50OiBzdHJpbmcgPSAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgJyc7XG5cbiAgdHJhY2tpbmdIb29rczogVHJhY2tpbmdIb29rW10gPSBbXTtcblxuICAvKipcbiAgICogU2V0IGEgaG9vayB0byBtb2RpZnkgZXZlbnRzIGJlaW5nIHRyYWNrZWQgZnJvbSBidWlsZGVyLCBzdWNoIGFzIGltcHJlc3Npb25zIGFuZCBjbGlja3NcbiAgICpcbiAgICogRm9yIGV4YW1wbGUsIHRvIHRyYWNrIHRoZSBtb2RlbCBJRCBvZiBlYWNoIGV2ZW50IGFzc29jaWF0ZWQgd2l0aCBjb250ZW50IGZvciBxdWVyeWluZ1xuICAgKiBieSBtb2RlLCB5b3UgY2FuIGRvXG4gICAqXG4gICAqICAgIGJ1aWxkZXIuc2V0VHJhY2tpbmdIb29rKChldmVudCwgY29udGV4dCkgPT4ge1xuICAgKiAgICAgIGlmIChjb250ZXh0LmNvbnRlbnQpIHtcbiAgICogICAgICAgIGV2ZW50LmRhdGEubWV0YWRhdGEubW9kZWxJZCA9IGNvbnRleHQuY29udGVudC5tb2RlbElkXG4gICAqICAgICAgfVxuICAgKiAgICB9KVxuICAgKi9cbiAgc2V0VHJhY2tpbmdIb29rKGhvb2s6IFRyYWNraW5nSG9vaykge1xuICAgIHRoaXMudHJhY2tpbmdIb29rcy5wdXNoKGhvb2spO1xuICB9XG5cbiAgdHJhY2soZXZlbnROYW1lOiBzdHJpbmcsIHByb3BlcnRpZXM6IFBhcnRpYWw8RXZlbnREYXRhPiA9IHt9LCBjb250ZXh0PzogYW55KSB7XG4gICAgLy8gVE9ETzogcXVldWUgdXAgdHJhY2sgcmVxdWVzdHMgYW5kIGZpcmUgdGhlbSBvZmYgd2hlbiBjYW5UcmFjayBzZXQgdG8gdHJ1ZSAtIG90aGVyd2lzZSBtYXkgZ2V0IGxvdHMgb2YgY2xpY2tzIHdpdGggbm8gaW1wcmVzc2lvbnNcbiAgICBpZiAoaXNJZnJhbWUgfHwgIWlzQnJvd3NlciB8fCBCdWlsZGVyLmlzUHJldmlld2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFwaUtleSA9IHRoaXMuYXBpS2V5O1xuICAgIGlmICghYXBpS2V5KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAnQnVpbGRlciBpbnRlZ3JhdGlvbiBlcnJvcjogTG9va3MgbGlrZSB0aGUgQnVpbGRlciBTREsgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHByb3Blcmx5ICh5b3VyIEFQSSBrZXkgaGFzIG5vdCBiZWVuIHNldCkuIE1ha2Ugc3VyZSB5b3UgYXJlIGNhbGxpbmcgYGJ1aWxkZXIuaW5pdChcIsKrWU9VUi1BUEktS0VZwrtcIik7YCBhcyBlYXJseSBhcyBwb3NzaWJsZSBpbiB5b3VyIGFwcGxpY2F0aW9uXFwncyBjb2RlLidcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGV2ZW50RGF0YTogRXZlbnQgPSBKU09OLnBhcnNlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0eXBlOiBldmVudE5hbWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAuLi5vbWl0KHByb3BlcnRpZXMsICdtZXRhJyksXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIHNka1ZlcnNpb246IEJ1aWxkZXIuVkVSU0lPTixcbiAgICAgICAgICAgIHVybDogbG9jYXRpb24uaHJlZixcbiAgICAgICAgICAgIC4uLnByb3BlcnRpZXMubWV0YSxcbiAgICAgICAgICAgIC4uLnByb3BlcnRpZXMubWV0YWRhdGEsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvd25lcklkOiBhcGlLZXksXG4gICAgICAgICAgdXNlckF0dHJpYnV0ZXM6IHRoaXMuZ2V0VXNlckF0dHJpYnV0ZXMoKSxcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgICAgIHZpc2l0b3JJZDogdGhpcy52aXNpdG9ySWQsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG5cbiAgICBmb3IgKGNvbnN0IGhvb2sgb2YgdGhpcy50cmFja2luZ0hvb2tzKSB7XG4gICAgICBjb25zdCByZXR1cm5WYWx1ZSA9IGhvb2soZXZlbnREYXRhLCBjb250ZXh0IHx8IHt9KTtcbiAgICAgIGlmIChyZXR1cm5WYWx1ZSkge1xuICAgICAgICBldmVudERhdGEgPSByZXR1cm5WYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBiYXRjaCBldmVudHNcbiAgICB0aGlzLmV2ZW50c1F1ZXVlLnB1c2goZXZlbnREYXRhKTtcblxuICAgIGlmICh0aGlzLmNhblRyYWNrKSB7XG4gICAgICB0aGlzLnRocm90dGxlZENsZWFyRXZlbnRzUXVldWUoKTtcbiAgICB9XG4gIH1cblxuICBnZXRTZXNzaW9uSWQoKSB7XG4gICAgbGV0IHNlc3Npb25JZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChCdWlsZGVyLmlzQnJvd3NlciAmJiB0eXBlb2Ygc2Vzc2lvblN0b3JhZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlc3Npb25JZCA9IHRoaXMuZ2V0Q29va2llKHNlc3Npb25TdG9yYWdlS2V5KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ1Nlc3Npb24gc3RvcmFnZSBlcnJvcicsIGVycik7XG4gICAgICAvLyBJdCdzIG9rXG4gICAgfVxuXG4gICAgaWYgKCFzZXNzaW9uSWQpIHtcbiAgICAgIHNlc3Npb25JZCA9IHV1aWQoKTtcbiAgICB9XG5cbiAgICAvLyBHaXZlIHRoZSBhcHAgYSBzZWNvbmQgdG8gc3RhcnQgdXAgYW5kIHNldCBjYW5UcmFjayB0byBmYWxzZSBpZiBuZWVkZWRcbiAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0aGlzLmNhblRyYWNrKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvb2tpZShzZXNzaW9uU3RvcmFnZUtleSwgc2Vzc2lvbklkLCBkYXRlUGx1c01pbnV0ZXMoMzApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0Nvb2tpZSBzZXR0aW5nIGVycm9yJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZXNzaW9uSWQ7XG4gIH1cblxuICAvLyBTZXQgdGhpcyB0byBjb250cm9sIHRoZSB1c2VySWRcbiAgLy8gVE9ETzogYWxsb3cgY2hhbmdpbmcgaXQgbWlkIHNlc3Npb24gYW5kIHVwZGF0aW5nIGV4aXN0aW5nIGRhdGEgdG8gYmUgYXNzb2NpYXRlZFxuICAvLyBlLmcuIGZvciB3aGVuIGEgdXNlciBuYXZpZ2F0ZXMgYW5kIHRoZW4gbG9ncyBpblxuICB2aXNpdG9ySWQ6IHN0cmluZyA9IHRoaXMuZ2V0VmlzaXRvcklkKCk7XG5cbiAgZ2V0VmlzaXRvcklkKCkge1xuICAgIGlmICh0aGlzLnZpc2l0b3JJZCkge1xuICAgICAgcmV0dXJuIHRoaXMudmlzaXRvcklkO1xuICAgIH1cbiAgICBsZXQgdmlzaXRvcklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgaWYgKEJ1aWxkZXIuaXNCcm93c2VyICYmIHR5cGVvZiBsb2NhbFN0b3JhZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIFRPRE86IGNvb2tpZSBpbnN0ZWFkP1xuICAgICAgICB2aXNpdG9ySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShsb2NhbFN0b3JhZ2VLZXkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5kZWJ1ZygnTG9jYWwgc3RvcmFnZSBlcnJvcicsIGVycik7XG4gICAgICAvLyBJdCdzIG9rXG4gICAgfVxuXG4gICAgaWYgKCF2aXNpdG9ySWQpIHtcbiAgICAgIHZpc2l0b3JJZCA9IHV1aWQoKTtcbiAgICB9XG5cbiAgICB0aGlzLnZpc2l0b3JJZCA9IHZpc2l0b3JJZDtcblxuICAgIC8vIEdpdmUgdGhlIGFwcCBhIHNlY29uZCB0byBzdGFydCB1cCBhbmQgc2V0IGNhblRyYWNrIHRvIGZhbHNlIGlmIG5lZWRlZFxuICAgIGlmIChCdWlsZGVyLmlzQnJvd3Nlcikge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHRoaXMuY2FuVHJhY2sgJiYgdHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdmlzaXRvcklkKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2NhbFN0b3JhZ2VLZXksIHZpc2l0b3JJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTZXNzaW9uIHN0b3JhZ2UgZXJyb3InLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHZpc2l0b3JJZDtcbiAgfVxuXG4gIHRyYWNrSW1wcmVzc2lvbihjb250ZW50SWQ6IHN0cmluZywgdmFyaWF0aW9uSWQ/OiBzdHJpbmcsIHByb3BlcnRpZXM/OiBhbnksIGNvbnRleHQ/OiBhbnkpIHtcbiAgICBpZiAoaXNJZnJhbWUgfHwgIWlzQnJvd3NlciB8fCBCdWlsZGVyLmlzUHJldmlld2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBUT0RPOiB1c2UgdGhpcy50cmFjayBtZXRob2RcbiAgICB0aGlzLnRyYWNrKFxuICAgICAgJ2ltcHJlc3Npb24nLFxuICAgICAge1xuICAgICAgICBjb250ZW50SWQsXG4gICAgICAgIHZhcmlhdGlvbklkOiB2YXJpYXRpb25JZCAhPT0gY29udGVudElkID8gdmFyaWF0aW9uSWQgOiB1bmRlZmluZWQsXG4gICAgICAgIG1ldGFkYXRhOiBwcm9wZXJ0aWVzLFxuICAgICAgfSxcbiAgICAgIGNvbnRleHRcbiAgICApO1xuICB9XG5cbiAgdHJhY2tDb252ZXJzaW9uKGFtb3VudD86IG51bWJlciwgY3VzdG9tUHJvcGVydGllcz86IGFueSk6IHZvaWQ7XG4gIHRyYWNrQ29udmVyc2lvbihcbiAgICBhbW91bnQ/OiBudW1iZXIsXG4gICAgY29udGVudElkPzogc3RyaW5nIHwgYW55LFxuICAgIHZhcmlhdGlvbklkPzogc3RyaW5nLFxuICAgIGN1c3RvbVByb3BlcnRpZXM/OiBhbnksXG4gICAgY29udGV4dD86IGFueVxuICApIHtcbiAgICBpZiAoaXNJZnJhbWUgfHwgIWlzQnJvd3NlciB8fCBCdWlsZGVyLmlzUHJldmlld2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtZXRhID0gdHlwZW9mIGNvbnRlbnRJZCA9PT0gJ29iamVjdCcgPyBjb250ZW50SWQgOiBjdXN0b21Qcm9wZXJ0aWVzO1xuICAgIGNvbnN0IHVzZUNvbnRlbnRJZCA9IHR5cGVvZiBjb250ZW50SWQgPT09ICdzdHJpbmcnID8gY29udGVudElkIDogdW5kZWZpbmVkO1xuXG4gICAgdGhpcy50cmFjaygnY29udmVyc2lvbicsIHsgYW1vdW50LCB2YXJpYXRpb25JZCwgbWV0YSwgY29udGVudElkOiB1c2VDb250ZW50SWQgfSwgY29udGV4dCk7XG4gIH1cblxuICBhdXRvVHJhY2sgPSAhQnVpbGRlci5pc0Jyb3dzZXJcbiAgICA/IGZhbHNlXG4gICAgOiAhdGhpcy5pc0RldmVsb3BtZW50RW52ICYmXG4gICAgICAhKEJ1aWxkZXIuaXNCcm93c2VyICYmIGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdidWlsZGVyLnByZXZpZXc9JykgIT09IC0xKTtcblxuICAvLyBUT0RPOiBzZXQgdGhpcyBmb3IgUUFcbiAgcHJpdmF0ZSBnZXQgaXNEZXZlbG9wbWVudEVudigpIHtcbiAgICAvLyBBdXRvbWF0aWMgZGV0ZXJtaW5pbmcgb2YgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRcbiAgICByZXR1cm4gKFxuICAgICAgQnVpbGRlci5pc0lmcmFtZSB8fFxuICAgICAgKEJ1aWxkZXIuaXNCcm93c2VyICYmIChsb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHwgbG9jYXRpb24ucG9ydCAhPT0gJycpKSB8fFxuICAgICAgdGhpcy5lbnYgIT09ICdwcm9kdWN0aW9uJ1xuICAgICk7XG4gIH1cblxuICB0cmFja0ludGVyYWN0aW9uKFxuICAgIGNvbnRlbnRJZDogc3RyaW5nLFxuICAgIHZhcmlhdGlvbklkPzogc3RyaW5nLFxuICAgIGFscmVhZHlUcmFja2VkT25lID0gZmFsc2UsXG4gICAgZXZlbnQ/OiBNb3VzZUV2ZW50LFxuICAgIGNvbnRleHQ/OiBhbnlcbiAgKSB7XG4gICAgaWYgKGlzSWZyYW1lIHx8ICFpc0Jyb3dzZXIgfHwgQnVpbGRlci5pc1ByZXZpZXdpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQgJiYgKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCk7XG4gICAgY29uc3QgdGFyZ2V0QnVpbGRlckVsZW1lbnQgPSB0YXJnZXQgJiYgdGhpcy5maW5kQnVpbGRlclBhcmVudCh0YXJnZXQpO1xuXG4gICAgZnVuY3Rpb24gcm91bmQobnVtOiBudW1iZXIpIHtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bSAqIDEwMDApIC8gMTAwMDtcbiAgICB9XG5cbiAgICBjb25zdCBtZXRhZGF0YTogYW55ID0ge307XG4gICAgaWYgKGV2ZW50KSB7XG4gICAgICBjb25zdCB7IGNsaWVudFgsIGNsaWVudFkgfSA9IGV2ZW50O1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBjb25zdCB0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB4T2Zmc2V0ID0gY2xpZW50WCAtIHRhcmdldFJlY3QubGVmdDtcbiAgICAgICAgY29uc3QgeU9mZnNldCA9IGNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcDtcblxuICAgICAgICBjb25zdCB4UmF0aW8gPSByb3VuZCh4T2Zmc2V0IC8gdGFyZ2V0UmVjdC53aWR0aCk7XG4gICAgICAgIGNvbnN0IHlSYXRpbyA9IHJvdW5kKHlPZmZzZXQgLyB0YXJnZXRSZWN0LmhlaWdodCk7XG5cbiAgICAgICAgbWV0YWRhdGEudGFyZ2V0T2Zmc2V0ID0ge1xuICAgICAgICAgIHg6IHhSYXRpbyxcbiAgICAgICAgICB5OiB5UmF0aW8sXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0QnVpbGRlckVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0UmVjdCA9IHRhcmdldEJ1aWxkZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB4T2Zmc2V0ID0gY2xpZW50WCAtIHRhcmdldFJlY3QubGVmdDtcbiAgICAgICAgY29uc3QgeU9mZnNldCA9IGNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcDtcblxuICAgICAgICBjb25zdCB4UmF0aW8gPSByb3VuZCh4T2Zmc2V0IC8gdGFyZ2V0UmVjdC53aWR0aCk7XG4gICAgICAgIGNvbnN0IHlSYXRpbyA9IHJvdW5kKHlPZmZzZXQgLyB0YXJnZXRSZWN0LmhlaWdodCk7XG5cbiAgICAgICAgbWV0YWRhdGEuYnVpbGRlclRhcmdldE9mZnNldCA9IHtcbiAgICAgICAgICB4OiB4UmF0aW8sXG4gICAgICAgICAgeTogeVJhdGlvLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGJ1aWxkZXJJZCA9XG4gICAgICB0YXJnZXRCdWlsZGVyRWxlbWVudCAmJlxuICAgICAgKHRhcmdldEJ1aWxkZXJFbGVtZW50LmdldEF0dHJpYnV0ZSgnYnVpbGRlci1pZCcpIHx8IHRhcmdldEJ1aWxkZXJFbGVtZW50LmlkKTtcblxuICAgIGlmIChidWlsZGVySWQgJiYgdGFyZ2V0QnVpbGRlckVsZW1lbnQpIHtcbiAgICAgIG1ldGFkYXRhLmJ1aWxkZXJFbGVtZW50SW5kZXggPSAoW10gYXMgRWxlbWVudFtdKS5zbGljZVxuICAgICAgICAuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJ1aWxkZXJJZCkpXG4gICAgICAgIC5pbmRleE9mKHRhcmdldEJ1aWxkZXJFbGVtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLnRyYWNrKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgIHtcbiAgICAgICAgY29udGVudElkLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgdmFyaWF0aW9uSWQ6IHZhcmlhdGlvbklkICE9PSBjb250ZW50SWQgPyB2YXJpYXRpb25JZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgdW5pcXVlOiAhYWxyZWFkeVRyYWNrZWRPbmUsXG4gICAgICAgIHRhcmdldEJ1aWxkZXJFbGVtZW50OiBidWlsZGVySWQgfHwgdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIGNvbnRleHRcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIG92ZXJyaWRlVXNlckF0dHJpYnV0ZXM6IFBhcnRpYWw8VXNlckF0dHJpYnV0ZXM+ID0ge307XG5cbiAgdHJhY2tpbmdVc2VyQXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuXG4gIGNvbXBvbmVudChpbmZvOiBQYXJ0aWFsPENvbXBvbmVudD4gPSB7fSkge1xuICAgIHJldHVybiBCdWlsZGVyLmNvbXBvbmVudChpbmZvKTtcbiAgfVxuXG4gIGdldCBhcGlLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXBpS2V5JC52YWx1ZTtcbiAgfVxuXG4gIHNldCBhcGlLZXkoa2V5OiBzdHJpbmcgfCBudWxsKSB7XG4gICAgdGhpcy5hcGlLZXkkLm5leHQoa2V5KTtcbiAgfVxuXG4gIGdldCBhdXRoVG9rZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXV0aFRva2VuJC52YWx1ZTtcbiAgfVxuXG4gIHNldCBhdXRoVG9rZW4odG9rZW46IHN0cmluZyB8IG51bGwpIHtcbiAgICB0aGlzLmF1dGhUb2tlbiQubmV4dCh0b2tlbik7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihcbiAgICBhcGlLZXk6IHN0cmluZyB8IG51bGwgPSBudWxsLFxuICAgIHByb3RlY3RlZCByZXF1ZXN0PzogSW5jb21pbmdNZXNzYWdlLFxuICAgIHByb3RlY3RlZCByZXNwb25zZT86IFNlcnZlclJlc3BvbnNlLFxuICAgIGZvcmNlTmV3SW5zdGFuY2UgPSBmYWxzZSxcbiAgICBhdXRoVG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsLFxuICAgIGFwaVZlcnNpb24/OiBBcGlWZXJzaW9uXG4gICkge1xuICAgIC8vIFRPRE86IHVzZSBhIHdpbmRvdyB2YXJpYWJsZSBmb3IgdGhpcyBwZXJoYXBzLCBlLmcuIGJjIHdlYmNvbXBvbmVudHMgbWF5IGJlIGxvYWRpbmcgYnVpbGRlciB0d2ljZVxuICAgIC8vIHdpdGggaXQncyBhbmQgcmVhY3QgKHVzZSByb2xsdXAgYnVpbGQgdG8gZml4KVxuICAgIGlmIChCdWlsZGVyLmlzQnJvd3NlciAmJiAhZm9yY2VOZXdJbnN0YW5jZSAmJiBCdWlsZGVyLnNpbmdsZXRvbkluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gQnVpbGRlci5zaW5nbGV0b25JbnN0YW5jZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yZXF1ZXN0ICYmIHRoaXMucmVzcG9uc2UpIHtcbiAgICAgIHRoaXMuc2V0VXNlckFnZW50KCh0aGlzLnJlcXVlc3QuaGVhZGVyc1sndXNlci1hZ2VudCddIGFzIHN0cmluZykgfHwgJycpO1xuICAgICAgdGhpcy5jb29raWVzID0gbmV3IENvb2tpZXModGhpcy5yZXF1ZXN0LCB0aGlzLnJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICBpZiAoYXBpS2V5KSB7XG4gICAgICB0aGlzLmFwaUtleSA9IGFwaUtleTtcbiAgICB9XG4gICAgaWYgKGFwaVZlcnNpb24pIHtcbiAgICAgIHRoaXMuYXBpVmVyc2lvbiA9IGFwaVZlcnNpb247XG4gICAgfVxuICAgIGlmIChhdXRoVG9rZW4pIHtcbiAgICAgIHRoaXMuYXV0aFRva2VuID0gYXV0aFRva2VuO1xuICAgIH1cbiAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICBpZiAoQnVpbGRlci5pc0VkaXRpbmcpIHtcbiAgICAgICAgdGhpcy5iaW5kTWVzc2FnZUxpc3RlbmVycygpO1xuXG4gICAgICAgIHBhcmVudC5wb3N0TWVzc2FnZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiAnYnVpbGRlci5hbmltYXRvck9wdGlvbnMnLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbjogMixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICAnKidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIC8vIFRPRE86IHBvc3RtZXNzYWdlIHRvIHBhcmVudCB0aGUgYnVpbGRlciBpbmZvIGZvciBldmVyeSBwYWNrYWdlXG4gICAgICAvLyB0eXBlOiAnYnVpbGRlci5zZGsnLCBkYXRhOiB7IG5hbWU6ICdAYnVpbGRlci5pby9yZWFjdCcsIHZlcnNpb246ICcwLjEuMjMnIH1cbiAgICAgIC8vICh3aW5kb3cgYXMgYW55KS5CVUlMREVSX1ZFUlNJT04gPSBCdWlsZGVyLlZFUlNJT047XG4gICAgICAvLyBFbnN1cmUgYWx3YXlzIG9uZSBCdWlsZGVyIGdsb2JhbCBzaW5nbGV0b25cbiAgICAgIC8vIFRPRE86IHNvbWUgcGVvcGxlIHdvbid0IHdhbnQgdGhpcywgZS5nLiByYWt1dGVuXG4gICAgICAvLyBNYXliZSBoaWRlIHRoaXMgYmVoaW5kIHN5bWJvbCBvciBvbiBkb2N1bWVudCwgZXRjXG4gICAgICAvLyBpZiAoKHdpbmRvdyBhcyBhbnkpLkJ1aWxkZXIpIHtcbiAgICAgIC8vICAgQnVpbGRlci5jb21wb25lbnRzID0gKHdpbmRvdyBhcyBhbnkpLkJ1aWxkZXIuY29tcG9uZW50cztcbiAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAvLyAgICh3aW5kb3cgYXMgYW55KS5CdWlsZGVyID0gQnVpbGRlcjtcbiAgICAgIC8vIH1cbiAgICB9XG5cbiAgICBpZiAoaXNJZnJhbWUpIHtcbiAgICAgIHRoaXMubWVzc2FnZUZyYW1lTG9hZGVkKCk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogb24gZGVzdHJveSBjbGVhciBzdWJzY3JpcHRpb25cbiAgICB0aGlzLmNhblRyYWNrJC5zdWJzY3JpYmUoKHZhbHVlOiBhbnkpID0+IHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHNlc3Npb25TdG9yYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXNlc3Npb25TdG9yYWdlLmdldEl0ZW0oc2Vzc2lvblN0b3JhZ2VLZXkpKSB7XG4gICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oc2Vzc2lvblN0b3JhZ2VLZXksIHRoaXMuc2Vzc2lvbklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1Nlc3Npb24gc3RvcmFnZSBlcnJvcicsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmV2ZW50c1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMudGhyb3R0bGVkQ2xlYXJFdmVudHNRdWV1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvb2tpZVF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuY29va2llUXVldWUuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29va2llKGl0ZW1bMF0sIGl0ZW1bMV0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuY29va2llUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgLy8gVE9ETzogZGVmZXIgc28gc3ViY2xhc3MgY29uc3RydWN0b3IgcnVucyBhbmQgaW5qZWN0cyBsb2NhdGlvbiBzZXJ2aWNlXG4gICAgICB0aGlzLnNldFRlc3RzRnJvbVVybCgpO1xuICAgICAgLy8gVE9ETzogZG8gdGhpcyBvbiBldmVyeSByZXF1ZXN0IHNlbmQ/XG4gICAgICB0aGlzLmdldE92ZXJyaWRlc0Zyb21RdWVyeVN0cmluZygpO1xuXG4gICAgICAvLyBjb29raWVzIHVzZWQgaW4gcGVyc29uYWxpemF0aW9uIGNvbnRhaW5lciBzY3JpcHQsIHNvIG5lZWQgdG8gc2V0IGJlZm9yZSBoeWRyYXRpb24gdG8gbWF0Y2ggc2NyaXB0IHJlc3VsdFxuICAgICAgY29uc3QgdXNlckF0dHJDb29raWUgPSB0aGlzLmdldENvb2tpZShCdWlsZGVyLmF0dHJpYnV0ZXNDb29raWVOYW1lKTtcbiAgICAgIGlmICh1c2VyQXR0ckNvb2tpZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBKU09OLnBhcnNlKHVzZXJBdHRyQ29va2llKTtcbiAgICAgICAgICB0aGlzLnNldFVzZXJBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKCdFcnJvciBwYXJzaW5nIHVzZXIgYXR0cmlidXRlcyBjb29raWUnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBtb2RpZnlTZWFyY2goc2VhcmNoOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gc2VhcmNoLnJlcGxhY2UoXG4gICAgICAvKF58JnxcXD8pKGJ1aWxkZXJfLio/KT0vZ2ksXG4gICAgICAoX21hdGNoLCBncm91cDEsIGdyb3VwMikgPT4gZ3JvdXAxICsgZ3JvdXAyLnJlcGxhY2UoL18vZywgJy4nKSArICc9J1xuICAgICk7XG4gIH1cblxuICBzZXRUZXN0c0Zyb21VcmwoKSB7XG4gICAgY29uc3Qgc2VhcmNoID0gdGhpcy5nZXRMb2NhdGlvbigpLnNlYXJjaDtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyYW1zID0gUXVlcnlTdHJpbmcucGFyc2VEZWVwKHRoaXMubW9kaWZ5U2VhcmNoKHNlYXJjaCB8fCAnJykuc3Vic3RyKDEpKTtcbiAgICAgIGNvbnN0IHRlc3RzID0gcGFyYW1zLmJ1aWxkZXIgJiYgcGFyYW1zLmJ1aWxkZXIudGVzdHM7XG4gICAgICBpZiAodGVzdHMgJiYgdHlwZW9mIHRlc3RzID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0ZXN0cykge1xuICAgICAgICAgIGlmICh0ZXN0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLnNldFRlc3RDb29raWUoa2V5LCB0ZXN0c1trZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdFcnJvciBwYXJzaW5nIHRlc3RzIGZyb20gVVJMJywgZSk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRPdmVycmlkZXMoKSB7XG4gICAgLy8gVWdseSAtIHBhc3MgZG93biBpbnN0YW5jZXMgcGVyIHJlcXVlc3QgaW5zdGVhZCB1c2luZyByZWFjdCBjb250ZXh0XG4gICAgLy8gb3IgdXNlIGJ1aWxkZXIuZ2V0KCdmb28nLCB7IHJlcSwgcmVzIH0pIGluIHJlYWN0Li4uLi4uLi4uLi5cbiAgICBCdWlsZGVyLm92ZXJyaWRlVXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICB0aGlzLmNhY2hlYnVzdCA9IGZhbHNlO1xuICAgIHRoaXMubm9DYWNoZSA9IGZhbHNlO1xuICAgIHRoaXMucHJldmlldyA9IGZhbHNlO1xuICAgIHRoaXMuZWRpdGluZ01vZGVsID0gbnVsbDtcbiAgICB0aGlzLm92ZXJyaWRlcyA9IHt9O1xuICAgIHRoaXMuZW52ID0gJ3Byb2R1Y3Rpb24nO1xuICAgIHRoaXMudXNlckFnZW50ID0gJyc7XG4gICAgdGhpcy5yZXF1ZXN0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucmVzcG9uc2UgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXRPdmVycmlkZXNGcm9tUXVlcnlTdHJpbmcoKSB7XG4gICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLmdldExvY2F0aW9uKCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFF1ZXJ5U3RyaW5nLnBhcnNlRGVlcCh0aGlzLm1vZGlmeVNlYXJjaChsb2NhdGlvbi5zZWFyY2ggfHwgJycpLnN1YnN0cigxKSk7XG4gICAgICBjb25zdCB7IGJ1aWxkZXIgfSA9IHBhcmFtcztcbiAgICAgIGlmIChidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICB1c2VyQXR0cmlidXRlcyxcbiAgICAgICAgICBvdmVycmlkZXMsXG4gICAgICAgICAgZW52LFxuICAgICAgICAgIGhvc3QsXG4gICAgICAgICAgYXBpLFxuICAgICAgICAgIGNhY2hlYnVzdCxcbiAgICAgICAgICBub0NhY2hlLFxuICAgICAgICAgIHByZXZpZXcsXG4gICAgICAgICAgZWRpdGluZyxcbiAgICAgICAgICBmcmFtZUVkaXRpbmcsXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICBwYXJhbXM6IG92ZXJyaWRlUGFyYW1zLFxuICAgICAgICB9ID0gYnVpbGRlcjtcblxuICAgICAgICBpZiAodXNlckF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICB0aGlzLnNldFVzZXJBdHRyaWJ1dGVzKHVzZXJBdHRyaWJ1dGVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgLy8gcGlja2luZyBvbmx5IGxvY2FsZSwgaW5jbHVkZVJlZnMsIGFuZCBlbnJpY2ggZm9yIG5vd1xuICAgICAgICAgIHRoaXMucXVlcnlPcHRpb25zID0ge1xuICAgICAgICAgICAgLi4uKG9wdGlvbnMubG9jYWxlICYmIHsgbG9jYWxlOiBvcHRpb25zLmxvY2FsZSB9KSxcbiAgICAgICAgICAgIC4uLihvcHRpb25zLmluY2x1ZGVSZWZzICYmIHsgaW5jbHVkZVJlZnM6IG9wdGlvbnMuaW5jbHVkZVJlZnMgfSksXG4gICAgICAgICAgICAuLi4ob3B0aW9ucy5lbnJpY2ggJiYgeyBlbnJpY2g6IG9wdGlvbnMuZW5yaWNoIH0pLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3ZlcnJpZGVzKSB7XG4gICAgICAgICAgdGhpcy5vdmVycmlkZXMgPSBvdmVycmlkZXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsaWRFbnZMaXN0LmluZGV4T2YoZW52IHx8IGFwaSkgPiAtMSkge1xuICAgICAgICAgIHRoaXMuZW52ID0gZW52IHx8IGFwaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChCdWlsZGVyLmlzRWRpdGluZykge1xuICAgICAgICAgIGNvbnN0IGVkaXRpbmdNb2RlbCA9IGZyYW1lRWRpdGluZyB8fCBlZGl0aW5nIHx8IHByZXZpZXc7XG4gICAgICAgICAgaWYgKGVkaXRpbmdNb2RlbCAmJiBlZGl0aW5nTW9kZWwgIT09ICd0cnVlJykge1xuICAgICAgICAgICAgdGhpcy5lZGl0aW5nTW9kZWwgPSBlZGl0aW5nTW9kZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhY2hlYnVzdCkge1xuICAgICAgICAgIHRoaXMuY2FjaGVidXN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub0NhY2hlKSB7XG4gICAgICAgICAgdGhpcy5ub0NhY2hlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcmV2aWV3KSB7XG4gICAgICAgICAgdGhpcy5wcmV2aWV3ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJhbXMpIHtcbiAgICAgICAgICB0aGlzLm92ZXJyaWRlUGFyYW1zID0gb3ZlcnJpZGVQYXJhbXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdFcnJvciBwYXJzaW5nIG92ZXJyaWRlcyBmcm9tIFVSTCcsIGUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgbWVzc2FnZUZyYW1lTG9hZGVkKCkge1xuICAgIHdpbmRvdy5wYXJlbnQ/LnBvc3RNZXNzYWdlKFxuICAgICAge1xuICAgICAgICB0eXBlOiAnYnVpbGRlci5sb2FkZWQnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgJyonXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgYmxvY2tDb250ZW50TG9hZGluZyA9ICcnO1xuXG4gIHByaXZhdGUgYmluZE1lc3NhZ2VMaXN0ZW5lcnMoKSB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IGlzVHJ1c3RlZCA9IEJ1aWxkZXIuaXNUcnVzdGVkSG9zdEZvckV2ZW50KGV2ZW50KTtcbiAgICAgIGlmICghaXNUcnVzdGVkKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gZXZlbnQ7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIucGluZyc6IHtcbiAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQ/LnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2J1aWxkZXIucG9uZycsXG4gICAgICAgICAgICAgICAgZGF0YToge30sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICcqJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdidWlsZGVyLnJlZ2lzdGVyJzoge1xuICAgICAgICAgICAgLy8gVE9ETzogcG9zc2libHkgZG8gdGhpcyBmb3IgYWxsLi4uXG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gZGF0YS5kYXRhO1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB0eXBlLCBpbmZvIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgLy8gVE9ETzogYWxsIG11c3QgaGF2ZSBuYW1lIGFuZCBjYW4ndCBjb25mbGljdD9cbiAgICAgICAgICAgIGxldCB0eXBlTGlzdCA9IEJ1aWxkZXIucmVnaXN0cnlbdHlwZV07XG4gICAgICAgICAgICBpZiAoIXR5cGVMaXN0KSB7XG4gICAgICAgICAgICAgIHR5cGVMaXN0ID0gQnVpbGRlci5yZWdpc3RyeVt0eXBlXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHlwZUxpc3QucHVzaChpbmZvKTtcbiAgICAgICAgICAgIEJ1aWxkZXIucmVnaXN0cnlDaGFuZ2UubmV4dChCdWlsZGVyLnJlZ2lzdHJ5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdidWlsZGVyLnNldHRpbmdzQ2hhbmdlJzoge1xuICAgICAgICAgICAgLy8gVE9ETzogcG9zc2libHkgZG8gdGhpcyBmb3IgYWxsLi4uXG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIGlmICghc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKEJ1aWxkZXIuc2V0dGluZ3MsIHNldHRpbmdzKTtcbiAgICAgICAgICAgIEJ1aWxkZXIuc2V0dGluZ3NDaGFuZ2UubmV4dChCdWlsZGVyLnNldHRpbmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdidWlsZGVyLnJlZ2lzdGVyRWRpdG9yJzoge1xuICAgICAgICAgICAgLy8gVE9ETzogcG9zc2libHkgZG8gdGhpcyBmb3IgYWxsLi4uXG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbmZvID0gZGF0YS5kYXRhO1xuICAgICAgICAgICAgaWYgKCFpbmZvKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGFzQ29tcG9uZW50ID0gISFpbmZvLmNvbXBvbmVudDtcbiAgICAgICAgICAgIEJ1aWxkZXIuZWRpdG9ycy5ldmVyeSgodGhpc0luZm8sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpbmZvLm5hbWUgPT09IHRoaXNJbmZvLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpc0luZm8uY29tcG9uZW50ICYmICFoYXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgQnVpbGRlci5lZGl0b3JzW2luZGV4XSA9IHRoaXNJbmZvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdidWlsZGVyLnRyaWdnZXJBbmltYXRpb24nOiB7XG4gICAgICAgICAgICBCdWlsZGVyLmFuaW1hdG9yLnRyaWdnZXJBbmltYXRpb24oZGF0YS5kYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdidWlsZGVyLmNvbnRlbnRVcGRhdGUnOlxuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGF0YS5kYXRhLmtleSB8fCBkYXRhLmRhdGEuYWxpYXMgfHwgZGF0YS5kYXRhLmVudHJ5IHx8IGRhdGEuZGF0YS5tb2RlbE5hbWU7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50RGF0YSA9IGRhdGEuZGF0YS5kYXRhOyAvLyBobW1tLi4uXG4gICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXJzQnlLZXlba2V5XTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlciAmJiAhdGhpcy5ub0VkaXRvclVwZGF0ZXNba2V5XSkge1xuICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KFtjb250ZW50RGF0YV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdidWlsZGVyLmdldENvbXBvbmVudHMnOlxuICAgICAgICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnYnVpbGRlci5jb21wb25lbnRzJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBCdWlsZGVyLmNvbXBvbmVudHMubWFwKGl0ZW0gPT4gQnVpbGRlci5wcmVwYXJlQ29tcG9uZW50U3BlY1RvU2VuZChpdGVtKSksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICcqJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5lZGl0aW5nTW9kZWwnOlxuICAgICAgICAgICAgdGhpcy5lZGl0aW5nTW9kZWwgPSBkYXRhLmRhdGEubW9kZWw7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIucmVnaXN0ZXJDb21wb25lbnQnOlxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50RGF0YSA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIEJ1aWxkZXIuYWRkQ29tcG9uZW50KGNvbXBvbmVudERhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdidWlsZGVyLmJsb2NrQ29udGVudExvYWRpbmcnOlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmRhdGEubW9kZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHRoaXMuYmxvY2tDb250ZW50TG9hZGluZyA9IGRhdGEuZGF0YS5tb2RlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5lZGl0aW5nTW9kZSc6XG4gICAgICAgICAgICBjb25zdCBlZGl0aW5nTW9kZSA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIGlmIChlZGl0aW5nTW9kZSkge1xuICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdidWlsZGVyLWVkaXRpbmcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZWRpdGluZ01vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdidWlsZGVyLWVkaXRpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5lZGl0aW5nUGFnZU1vZGUnOlxuICAgICAgICAgICAgY29uc3QgZWRpdGluZ1BhZ2VNb2RlID0gZGF0YS5kYXRhO1xuICAgICAgICAgICAgQnVpbGRlci5lZGl0aW5nUGFnZSA9IGVkaXRpbmdQYWdlTW9kZTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5vdmVycmlkZVVzZXJBdHRyaWJ1dGVzJzpcbiAgICAgICAgICAgIGNvbnN0IHVzZXJBdHRyaWJ1dGVzID0gZGF0YS5kYXRhO1xuICAgICAgICAgICAgYXNzaWduKEJ1aWxkZXIub3ZlcnJpZGVVc2VyQXR0cmlidXRlcywgdXNlckF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgdGhpcy5mbHVzaEdldENvbnRlbnRRdWV1ZSh0cnVlKTtcbiAgICAgICAgICAgIC8vIFRPRE86IHJlZmV0Y2ggdG9vXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIub3ZlcnJpZGVUZXN0R3JvdXAnOlxuICAgICAgICAgICAgY29uc3QgeyB2YXJpYXRpb25JZCwgY29udGVudElkIH0gPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICBpZiAodmFyaWF0aW9uSWQgJiYgY29udGVudElkKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0VGVzdENvb2tpZShjb250ZW50SWQsIHZhcmlhdGlvbklkKTtcbiAgICAgICAgICAgICAgdGhpcy5mbHVzaEdldENvbnRlbnRRdWV1ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIuZXZhbHVhdGUnOiB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS5kYXRhLnRleHQ7XG4gICAgICAgICAgICBjb25zdCBhcmdzID0gZGF0YS5kYXRhLmFyZ3VtZW50cyB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZGF0YS5kYXRhLmlkO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWZ1bmN0aW9uLWNvbnN0cnVjdG9yLXdpdGgtc3RyaW5nLWFyZ3NcbiAgICAgICAgICAgIGNvbnN0IGZuID0gbmV3IEZ1bmN0aW9uKHRleHQpO1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogYW55O1xuICAgICAgICAgICAgbGV0IGVycm9yOiBFcnJvciB8IG51bGwgPSBudWxsO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgZXJyb3IgPSB0b0Vycm9yKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnYnVpbGRlci5ldmFsdWF0ZUVycm9yJyxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHsgaWQsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnKidcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgKHJlc3VsdCBhcyBQcm9taXNlPGFueT4pXG4gICAgICAgICAgICAgICAgICAudGhlbihmaW5hbFJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQ/LnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdidWlsZGVyLmV2YWx1YXRlUmVzdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgaWQsIHJlc3VsdDogZmluYWxSZXN1bHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICcqJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2J1aWxkZXIuZXZhbHVhdGVSZXN1bHQnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IHJlc3VsdCwgaWQgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAnKidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9ic2VydmVyc0J5S2V5OiB7IFtrZXk6IHN0cmluZ106IEJlaGF2aW9yU3ViamVjdDxCdWlsZGVyQ29udGVudFtdPiB8IHVuZGVmaW5lZCB9ID0ge307XG4gIG5vRWRpdG9yVXBkYXRlczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcblxuICBnZXQgZGVmYXVsdENhblRyYWNrKCkge1xuICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgQnVpbGRlci5pc0Jyb3dzZXIgJiZcbiAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC50cmltKCkgJiZcbiAgICAgICAgIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goXG4gICAgICAgICAgL2JvdHxjcmF3bGVyfHNwaWRlcnxyb2JvdHxjcmF3bGluZ3xwcmVyZW5kZXJ8Z29vZ2xlfGJhaWR1fGJpbmd8bXNufGR1Y2tkdWNrYm90fHRlb21hfHNsdXJwfHlhbmRleHxwaGFudG9tfGhlYWRsZXNzfHNlbGVuaXVtfHB1cHBldGVlci9pXG4gICAgICAgICkgJiZcbiAgICAgICAgIXRoaXMuYnJvd3NlclRyYWNraW5nRGlzYWJsZWRcbiAgICApO1xuICB9XG5cbiAgaW5pdChcbiAgICBhcGlLZXk6IHN0cmluZyxcbiAgICBjYW5UcmFjayA9IHRoaXMuZGVmYXVsdENhblRyYWNrLFxuICAgIHJlcT86IEluY29taW5nTWVzc2FnZSxcbiAgICByZXM/OiBTZXJ2ZXJSZXNwb25zZSxcbiAgICBhdXRoVG9rZW4/OiBzdHJpbmcgfCBudWxsLFxuICAgIGFwaVZlcnNpb24/OiBBcGlWZXJzaW9uXG4gICkge1xuICAgIGlmIChyZXEpIHtcbiAgICAgIHRoaXMucmVxdWVzdCA9IHJlcTtcbiAgICB9XG4gICAgaWYgKHJlcykge1xuICAgICAgdGhpcy5yZXNwb25zZSA9IHJlcztcbiAgICB9XG4gICAgaWYgKCF0aGlzLmhhc092ZXJyaWRkZW5DYW5UcmFjaykge1xuICAgICAgdGhpcy5jYW5UcmFjayA9IGNhblRyYWNrO1xuICAgIH1cbiAgICB0aGlzLmFwaUtleSA9IGFwaUtleTtcbiAgICBpZiAoYXV0aFRva2VuKSB7XG4gICAgICB0aGlzLmF1dGhUb2tlbiA9IGF1dGhUb2tlbjtcbiAgICB9XG4gICAgaWYgKGFwaVZlcnNpb24pIHtcbiAgICAgIHRoaXMuYXBpVmVyc2lvbiA9IGFwaVZlcnNpb247XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0IHByZXZpZXdpbmdNb2RlbCgpIHtcbiAgICBjb25zdCBzZWFyY2ggPSB0aGlzLmdldExvY2F0aW9uKCkuc2VhcmNoO1xuICAgIGNvbnN0IHBhcmFtcyA9IFF1ZXJ5U3RyaW5nLnBhcnNlKChzZWFyY2ggfHwgJycpLnN1YnN0cigxKSk7XG4gICAgcmV0dXJuIHBhcmFtc1snYnVpbGRlci5wcmV2aWV3J107XG4gIH1cblxuICAvLyBUT0RPOiBhbGxvdyBhZGRpbmcgbG9jYXRpb24gb2JqZWN0IGFzIHByb3BlcnR5IGFuZC9vciBpbiBjb25zdHJ1Y3RvclxuICBnZXRMb2NhdGlvbigpOiBVcmwge1xuICAgIGxldCBwYXJzZWRMb2NhdGlvbjogYW55ID0ge307XG5cbiAgICAvLyBpbiBzc3IgbW9kZVxuICAgIGlmICh0aGlzLnJlcXVlc3QpIHtcbiAgICAgIHBhcnNlZExvY2F0aW9uID0gcGFyc2UodGhpcy5yZXF1ZXN0LnVybCA/PyAnJyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBpbiB0aGUgYnJvd3NlclxuICAgICAgcGFyc2VkTG9jYXRpb24gPSBwYXJzZShsb2NhdGlvbi5ocmVmKTtcbiAgICB9XG5cbiAgICAvLyBJRTExIGJ1ZyB3aXRoIHBhcnNlZCBwYXRoIGJlaW5nIGVtcHR5IHN0cmluZ1xuICAgIC8vIGNhdXNlcyBpc3N1ZXMgd2l0aCBvdXIgdXNlciB0YXJnZXRpbmdcbiAgICBpZiAocGFyc2VkTG9jYXRpb24ucGF0aG5hbWUgPT09ICcnKSB7XG4gICAgICBwYXJzZWRMb2NhdGlvbi5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VkTG9jYXRpb247XG4gIH1cblxuICBnZXRVc2VyQXR0cmlidXRlcyh1c2VyQWdlbnQgPSB0aGlzLnVzZXJBZ2VudCB8fCAnJykge1xuICAgIGNvbnN0IGlzTW9iaWxlID0ge1xuICAgICAgQW5kcm9pZCgpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC9pKTtcbiAgICAgIH0sXG4gICAgICBCbGFja0JlcnJ5KCkge1xuICAgICAgICByZXR1cm4gdXNlckFnZW50Lm1hdGNoKC9CbGFja0JlcnJ5L2kpO1xuICAgICAgfSxcbiAgICAgIGlPUygpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJBZ2VudC5tYXRjaCgvaVBob25lfGlQb2QvaSk7XG4gICAgICB9LFxuICAgICAgT3BlcmEoKSB7XG4gICAgICAgIHJldHVybiB1c2VyQWdlbnQubWF0Y2goL09wZXJhIE1pbmkvaSk7XG4gICAgICB9LFxuICAgICAgV2luZG93cygpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJBZ2VudC5tYXRjaCgvSUVNb2JpbGUvaSkgfHwgdXNlckFnZW50Lm1hdGNoKC9XUERlc2t0b3AvaSk7XG4gICAgICB9LFxuICAgICAgYW55KCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGlzTW9iaWxlLkFuZHJvaWQoKSB8fFxuICAgICAgICAgIGlzTW9iaWxlLkJsYWNrQmVycnkoKSB8fFxuICAgICAgICAgIGlzTW9iaWxlLmlPUygpIHx8XG4gICAgICAgICAgaXNNb2JpbGUuT3BlcmEoKSB8fFxuICAgICAgICAgIGlzTW9iaWxlLldpbmRvd3MoKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3QgaXNUYWJsZXQgPSB1c2VyQWdlbnQubWF0Y2goL1RhYmxldHxpUGFkL2kpO1xuXG4gICAgY29uc3QgdXJsID0gdGhpcy5nZXRMb2NhdGlvbigpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVybFBhdGg6IHVybC5wYXRobmFtZSxcbiAgICAgIGhvc3Q6IHVybC5ob3N0IHx8IHVybC5ob3N0bmFtZSxcbiAgICAgIC8vIFRPRE86IG1heWJlIGFuIG9wdGlvbiB0byBjaG9vc2UgdG8gdGFyZ2V0IG9mZiBvZiBtb2JpbGUvdGFibGV0L2Rlc2t0b3Agb3IganVzdCBtb2JpbGUvZGVza3RvcFxuICAgICAgZGV2aWNlOiBpc1RhYmxldCA/ICd0YWJsZXQnIDogaXNNb2JpbGUuYW55KCkgPyAnbW9iaWxlJyA6ICdkZXNrdG9wJyxcbiAgICAgIC4uLkJ1aWxkZXIub3ZlcnJpZGVVc2VyQXR0cmlidXRlcyxcbiAgICB9IGFzIFVzZXJBdHRyaWJ1dGVzO1xuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICBwcm90ZWN0ZWQgcXVlcnlPcHRpb25zOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG5cbiAgcHJpdmF0ZSBnZXRDb250ZW50UXVldWU6IG51bGwgfCBHZXRDb250ZW50T3B0aW9uc1tdID0gbnVsbDtcbiAgcHJpdmF0ZSBwcmlvckNvbnRlbnRRdWV1ZTogbnVsbCB8IEdldENvbnRlbnRPcHRpb25zW10gPSBudWxsO1xuXG4gIHNldFVzZXJBdHRyaWJ1dGVzKG9wdGlvbnM6IG9iamVjdCkge1xuICAgIGFzc2lnbihCdWlsZGVyLm92ZXJyaWRlVXNlckF0dHJpYnV0ZXMsIG9wdGlvbnMpO1xuICAgIGlmICh0aGlzLmNhblRyYWNrKSB7XG4gICAgICB0aGlzLnNldENvb2tpZShCdWlsZGVyLmF0dHJpYnV0ZXNDb29raWVOYW1lLCBKU09OLnN0cmluZ2lmeSh0aGlzLmdldFVzZXJBdHRyaWJ1dGVzKCkpKTtcbiAgICB9XG5cbiAgICB0aGlzLnVzZXJBdHRyaWJ1dGVzQ2hhbmdlZC5uZXh0KG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB1c2VyIGF0dHJpYnV0ZXMganVzdCBmb3IgdHJhY2tpbmcgcHVycG9zZXMuXG4gICAqXG4gICAqIERvIHRoaXMgc28gcHJvcGVydGllcyBleGlzdCBvbiBldmVudCBvYmplY3RzIGZvciBxdWVyeWluZyBpbnNpZ2h0cywgYnV0XG4gICAqIHdvbid0IGFmZmVjdCB0YXJnZXRpbmdcbiAgICpcbiAgICogVXNlIHRoaXMgd2hlbiB5b3Ugd2FudCB0byB0cmFjayBwcm9wZXJ0aWVzIGJ1dCBkb24ndCBuZWVkIHRvIHRhcmdldCBvZmZcbiAgICogb2YgdGhlbSB0byBvcHRpbWl6ZSBjYWNoZSBlZmZpY2llbmN5XG4gICAqL1xuICBzZXRUcmFja2luZ1VzZXJBdHRyaWJ1dGVzKGF0dHJpYnV0ZXM6IG9iamVjdCkge1xuICAgIGFzc2lnbih0aGlzLnRyYWNraW5nVXNlckF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMpO1xuICB9XG5cbiAgZ2V0KFxuICAgIG1vZGVsTmFtZTogc3RyaW5nLFxuICAgIG9wdGlvbnM6IEdldENvbnRlbnRPcHRpb25zICYge1xuICAgICAgcmVxPzogSW5jb21pbmdNZXNzYWdlO1xuICAgICAgcmVzPzogU2VydmVyUmVzcG9uc2U7XG4gICAgICBhcGlLZXk/OiBzdHJpbmc7XG4gICAgICBhdXRoVG9rZW4/OiBzdHJpbmc7XG4gICAgfSA9IHt9XG4gICkge1xuICAgIGxldCBpbnN0YW5jZTogQnVpbGRlciA9IHRoaXM7XG4gICAgbGV0IGZpbmFsTG9jYWxlID1cbiAgICAgIG9wdGlvbnMubG9jYWxlIHx8IG9wdGlvbnMudXNlckF0dHJpYnV0ZXM/LmxvY2FsZSB8fCB0aGlzLmdldFVzZXJBdHRyaWJ1dGVzKCkubG9jYWxlO1xuXG4gICAgaWYgKCEoJ25vVHJhdmVyc2UnIGluIG9wdGlvbnMpKSB7XG4gICAgICBvcHRpb25zLm5vVHJhdmVyc2UgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgZmluYWxPcHRpb25zID0ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIC4uLihmaW5hbExvY2FsZSAmJiB7XG4gICAgICAgIGxvY2FsZTogU3RyaW5nKGZpbmFsTG9jYWxlKSxcbiAgICAgICAgdXNlckF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICBsb2NhbGU6IFN0cmluZyhmaW5hbExvY2FsZSksXG4gICAgICAgICAgLi4ub3B0aW9ucy51c2VyQXR0cmlidXRlcyxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH07XG4gICAgaWYgKCFCdWlsZGVyLmlzQnJvd3Nlcikge1xuICAgICAgaW5zdGFuY2UgPSBuZXcgQnVpbGRlcihcbiAgICAgICAgb3B0aW9ucy5hcGlLZXkgfHwgdGhpcy5hcGlLZXksXG4gICAgICAgIG9wdGlvbnMucmVxLFxuICAgICAgICBvcHRpb25zLnJlcyxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBvcHRpb25zLmF1dGhUb2tlbiB8fCB0aGlzLmF1dGhUb2tlbixcbiAgICAgICAgb3B0aW9ucy5hcGlWZXJzaW9uIHx8IHRoaXMuYXBpVmVyc2lvblxuICAgICAgKTtcbiAgICAgIGluc3RhbmNlLmFwaUVuZHBvaW50ID0gdGhpcy5hcGlFbmRwb2ludDtcbiAgICAgIGluc3RhbmNlLnNldFVzZXJBdHRyaWJ1dGVzKHRoaXMuZ2V0VXNlckF0dHJpYnV0ZXMoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5PVEU6IEFsbCB0aGVzZSBhcmUgd2hlbiAuaW5pdCBpcyBub3QgY2FsbGVkIGFuZCB0aGUgY3VzdG9tZXJcbiAgICAgIC8vIGRpcmVjdGx5IGNhbGxzIC5nZXQgb24gdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiBCdWlsZGVyXG4gICAgICBpZiAob3B0aW9ucy5hcGlLZXkgJiYgIXRoaXMuYXBpS2V5KSB7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gb3B0aW9ucy5hcGlLZXk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5hdXRoVG9rZW4gJiYgIXRoaXMuYXV0aFRva2VuKSB7XG4gICAgICAgIHRoaXMuYXV0aFRva2VuID0gb3B0aW9ucy5hdXRoVG9rZW47XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5hcGlWZXJzaW9uICYmICF0aGlzLmFwaVZlcnNpb24pIHtcbiAgICAgICAgdGhpcy5hcGlWZXJzaW9uID0gb3B0aW9ucy5hcGlWZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2UucXVldWVHZXRDb250ZW50KG1vZGVsTmFtZSwgZmluYWxPcHRpb25zKS5tYXAoXG4gICAgICAvKiBtYXAoICovIChtYXRjaGVzOiBhbnlbXSB8IG51bGwpID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBtYXRjaGVzICYmIG1hdGNoZXNbMF07XG4gICAgICAgIGlmIChCdWlsZGVyLmlzU3RhdGljKSB7XG4gICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWF0Y2hEYXRhID0gbWF0Y2ggJiYgbWF0Y2guZGF0YTtcbiAgICAgICAgaWYgKCFtYXRjaERhdGEpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgbWF0Y2hEYXRhLmJsb2Nrc1N0cmluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBtYXRjaERhdGEuYmxvY2tzID0gSlNPTi5wYXJzZShtYXRjaERhdGEuYmxvY2tzU3RyaW5nKTtcbiAgICAgICAgICBkZWxldGUgbWF0Y2hEYXRhLmJsb2Nrc1N0cmluZztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLy8gVE9ETzogYWRkIGFiIHRlc3QgaW5mbyBoZXJlIGFuZCBvdGhlciBoaWdoIGxldmVsIHN0dWZmXG4gICAgICAgICAgZGF0YTogbWF0Y2hEYXRhLFxuICAgICAgICAgIGlkOiBtYXRjaC5pZCxcbiAgICAgICAgICB2YXJpYXRpb25JZDogbWF0Y2gudGVzdFZhcmlhdGlvbklkIHx8IG1hdGNoLnZhcmlhdGlvbklkIHx8IG51bGwsXG4gICAgICAgICAgdGVzdFZhcmlhdGlvbklkOiBtYXRjaC50ZXN0VmFyaWF0aW9uSWQgfHwgbWF0Y2gudmFyaWF0aW9uSWQgfHwgbnVsbCxcbiAgICAgICAgICB0ZXN0VmFyaWF0aW9uTmFtZTogbWF0Y2gudGVzdFZhcmlhdGlvbk5hbWUgfHwgbnVsbCxcbiAgICAgICAgICBsYXN0VXBkYXRlZDogbWF0Y2gubGFzdFVwZGF0ZWQgfHwgbnVsbCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICApO1xuICAgIC8vICk7XG4gIH1cblxuICAvLyBUT0RPOiBlbnRyeSBpZCBpbiBvcHRpb25zXG4gIHF1ZXVlR2V0Q29udGVudChtb2RlbE5hbWU6IHN0cmluZywgb3B0aW9uczogR2V0Q29udGVudE9wdGlvbnMgPSB7fSkge1xuICAgIC8vIFRPRE86IGlmIHF1ZXJ5IGRvIG1vZGVsTmFtZSArIHF1ZXJ5XG4gICAgY29uc3Qga2V5ID1cbiAgICAgIG9wdGlvbnMua2V5IHx8XG4gICAgICBvcHRpb25zLmFsaWFzIHx8XG4gICAgICAvLyBUT0RPOiBTREtzIG9ubHkgcGFzcyBlbnRyeSBrZXkgd2hlbiBnaXZlbiB0byB0aGVtLCBhbmQgbmV2ZXIgd2hlbiBlZGl0aW5nLi4uXG4gICAgICAvLyBvcHRpb25zLmVudHJ5IHx8XG5cbiAgICAgIC8vIFRPRE86IHRoaXMgaXMgdWdseSAtIGluc3RlYWQgb2YgbXVsdGlwbGUgb2Ygc2FtZSBtb2RlbCB3aXRoIGRpZmZlcmVudCBvcHRpb25zIGFyZSBzZW50XG4gICAgICAvLyBzYXkgcmVxdWlyZXMga2V5L2FsaWFzLiBPciBpZiBub3QgcGVyaGFwcyBtYWtlIGEgcmVsaWFibGUgaGFzaCBvZiB0aGUgb3B0aW9ucyBhbmQgdXNlIHRoYXQuXG4gICAgICAvLyBUT0RPOiBzdG9yZSBsYXN0IHVzZXIgc3RhdGUgb24gbGFzdCByZXF1ZXN0IGFuZCBpZiB1c2VyIGF0dHJpYnV0ZXMgZGlmZmVyZW50IG5vd1xuICAgICAgLy8gZ2l2ZSBhIHdhcm5pbmcgdGhhdCBuZWVkIHRvIHVzZSBrZXlzIHRvIHJlcXVlc3QgbmV3IGNvbnRlbnRlXG4gICAgICAvLyAob3B0aW9ucyAmJlxuICAgICAgLy8gICBPYmplY3Qua2V5cyhvcHRpb25zKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ21vZGVsJykubGVuZ3RoICYmXG4gICAgICAvLyAgIEpTT04uc3RyaW5naWZ5KHsgbW9kZWw6IG1vZGVsTmFtZSwgLi4ub3B0aW9ucywgaW5pdGlhbENvbnRlbnQ6IHVuZGVmaW5lZCB9KSkgfHxcbiAgICAgIG1vZGVsTmFtZTtcblxuICAgIGNvbnN0IGlzRWRpdGluZ1RoaXNNb2RlbCA9IHRoaXMuZWRpdGluZ01vZGVsID09PSBtb2RlbE5hbWU7XG4gICAgLy8gVE9ETzogaW5jbHVkZSBwYXJhbXMgaW4gdGhpcyBrZXkuLi4uLi4uLlxuICAgIGNvbnN0IGN1cnJlbnRPYnNlcnZhYmxlID0gdGhpcy5vYnNlcnZlcnNCeUtleVtrZXldIGFzIEJlaGF2aW9yU3ViamVjdDxCdWlsZGVyQ29udGVudFtdPiB8IG51bGw7XG5cbiAgICAvLyBpZiAob3B0aW9ucy5xdWVyeSAmJiBvcHRpb25zLnF1ZXJ5Ll9pZCkge1xuICAgIC8vICAgdGhpcy5mbHVzaEdldENvbnRlbnRRdWV1ZShbb3B0aW9uc10pXG4gICAgLy8gfVxuXG4gICAgaWYgKHRoaXMuYXBpS2V5ID09PSAnREVNTycgJiYgIXRoaXMub3ZlcnJpZGVzW2tleV0gJiYgIW9wdGlvbnMuaW5pdGlhbENvbnRlbnQpIHtcbiAgICAgIG9wdGlvbnMuaW5pdGlhbENvbnRlbnQgPSBbXTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluaXRpYWxDb250ZW50IH0gPSBvcHRpb25zO1xuXG4gICAgLy8gVE9ETzogcmVmcmVzaCBvcHRpb24gaW4gb3B0aW9uc1xuICAgIGlmIChjdXJyZW50T2JzZXJ2YWJsZSAmJiAoIWN1cnJlbnRPYnNlcnZhYmxlLnZhbHVlIHx8IG9wdGlvbnMuY2FjaGUpKSB7XG4gICAgICAvLyBUT0RPOiB0ZXN0IGlmIHRoaXMgcmFuLCBvdGhlcndpc2Ugb24gNDA0IHNvbWUgb2JzZXJ2ZXJzIG1heSBuZXZlciBiZSBjYWxsZWQuLi5cbiAgICAgIGlmIChjdXJyZW50T2JzZXJ2YWJsZS52YWx1ZSkge1xuICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgLy8gVE9ETzogcmV0dXJuIGEgbmV3IG9ic2VydmFibGUgYW5kIG9ubHkgdGhhdCBvbmUgZmlyZXMgc3Vic2NyaWJlcnMsIGRvbid0IHJlZmlyZSBmb3IgZXhpc3Rpbmcgb25lc1xuICAgICAgICAgIGN1cnJlbnRPYnNlcnZhYmxlLm5leHQoY3VycmVudE9ic2VydmFibGUudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyZW50T2JzZXJ2YWJsZTtcbiAgICB9XG4gICAgaWYgKGlzRWRpdGluZ1RoaXNNb2RlbCkge1xuICAgICAgaWYgKEJ1aWxkZXIuaXNCcm93c2VyKSB7XG4gICAgICAgIHBhcmVudC5wb3N0TWVzc2FnZSh7IHR5cGU6ICdidWlsZGVyLnVwZGF0ZUNvbnRlbnQnLCBkYXRhOiB7IG9wdGlvbnMgfSB9LCAnKicpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWluaXRpYWxDb250ZW50IC8qIHx8IGlzRWRpdGluZ1RoaXNNb2RlbCAqLykge1xuICAgICAgaWYgKCF0aGlzLmdldENvbnRlbnRRdWV1ZSkge1xuICAgICAgICB0aGlzLmdldENvbnRlbnRRdWV1ZSA9IFtdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmdldENvbnRlbnRRdWV1ZS5wdXNoKHsgLi4ub3B0aW9ucywgbW9kZWw6IG1vZGVsTmFtZSwga2V5IH0pO1xuICAgICAgaWYgKHRoaXMuZ2V0Q29udGVudFF1ZXVlICYmIHRoaXMuZ2V0Q29udGVudFF1ZXVlLmxlbmd0aCA+PSB0aGlzLmNvbnRlbnRQZXJSZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5nZXRDb250ZW50UXVldWUuc2xpY2UoKTtcbiAgICAgICAgdGhpcy5nZXRDb250ZW50UXVldWUgPSBbXTtcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZmx1c2hHZXRDb250ZW50UXVldWUoZmFsc2UsIHF1ZXVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgdGhpcy5mbHVzaEdldENvbnRlbnRRdWV1ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBvYnNlcnZhYmxlID0gbmV3IEJlaGF2aW9yU3ViamVjdDxCdWlsZGVyQ29udGVudFtdPihudWxsIGFzIGFueSk7XG4gICAgdGhpcy5vYnNlcnZlcnNCeUtleVtrZXldID0gb2JzZXJ2YWJsZTtcbiAgICBpZiAob3B0aW9ucy5ub0VkaXRvclVwZGF0ZXMpIHtcbiAgICAgIHRoaXMubm9FZGl0b3JVcGRhdGVzW2tleV0gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoaW5pdGlhbENvbnRlbnQpIHtcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgLy8gVE9ETzogbmVlZCB0byB0ZXN0TW9kaWZ5IHRoaXMgSSB0aGluay4uLj9cbiAgICAgICAgb2JzZXJ2YWJsZS5uZXh0KGluaXRpYWxDb250ZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgfVxuXG4gIC8vIHRoaXMgaXMgbmVlZGVkIHRvIHNhdGlzZnkgdGhlIEFuZ3VsYXIgU0RLLCB3aGljaCB1c2VkIHRvIHJlbHkgb24gdGhlIG1vcmUgY29tcGxleCB2ZXJzaW9uIG9mIGByZXF1ZXN0VXJsYC5cbiAgLy8gZXZlbiB0aG91Z2ggd2Ugb25seSB1c2UgYGZldGNoKClgIG5vdywgd2UgcHJlZmVyIHRvIGtlZXAgdGhlIG9sZCBiZWhhdmlvciBhbmQgdXNlIHRoZSBgZmV0Y2hgIHRoYXQgY29tZXMgZnJvbVxuICAvLyB0aGUgY29yZSBTREsgZm9yIGNvbnNpc3RlbmN5XG4gIHJlcXVlc3RVcmwoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IHsgaGVhZGVyczogeyBbaGVhZGVyOiBzdHJpbmddOiBudW1iZXIgfCBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZCB9OyBuZXh0PzogYW55IH1cbiAgKSB7XG4gICAgcmV0dXJuIGdldEZldGNoKCkodXJsLCB0aGlzLmFkZFNka0hlYWRlcnMob3B0aW9ucykpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpO1xuICB9XG5cbiAgZ2V0IGhvc3QoKSB7XG4gICAgc3dpdGNoICh0aGlzLmVudikge1xuICAgICAgY2FzZSAncWEnOlxuICAgICAgICByZXR1cm4gJ2h0dHBzOi8vcWEuYnVpbGRlci5pbyc7XG4gICAgICBjYXNlICd0ZXN0JzpcbiAgICAgICAgcmV0dXJuICdodHRwczovL2J1aWxkZXItaW8tdGVzdC53ZWIuYXBwJztcbiAgICAgIGNhc2UgJ2Zhc3QnOlxuICAgICAgICByZXR1cm4gJ2h0dHBzOi8vZmFzdC5idWlsZGVyLmlvJztcbiAgICAgIGNhc2UgJ2Nsb3VkJzpcbiAgICAgICAgcmV0dXJuICdodHRwczovL2Nsb3VkLmJ1aWxkZXIuaW8nO1xuICAgICAgY2FzZSAnY2RuMic6XG4gICAgICAgIHJldHVybiAnaHR0cHM6Ly9jZG4yLmJ1aWxkZXIuaW8nO1xuICAgICAgY2FzZSAnY2RuLXFhJzpcbiAgICAgICAgcmV0dXJuICdodHRwczovL2Nkbi1xYS5idWlsZGVyLmlvJztcbiAgICAgIGNhc2UgJ2RldmVsb3BtZW50JzpcbiAgICAgIGNhc2UgJ2Rldic6XG4gICAgICAgIHJldHVybiAnaHR0cDovL2xvY2FsaG9zdDo1MDAwJztcbiAgICAgIGNhc2UgJ2Nkbi1wcm9kJzpcbiAgICAgICAgcmV0dXJuICdodHRwczovL2Nkbi5idWlsZGVyLmlvJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBCdWlsZGVyLm92ZXJyaWRlSG9zdCB8fCAnaHR0cHM6Ly9jZG4uYnVpbGRlci5pbyc7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRTZGtIZWFkZXJzKCk6XG4gICAgfCB7XG4gICAgICAgICdYLUJ1aWxkZXItU0RLJzogc3RyaW5nO1xuICAgICAgICAnWC1CdWlsZGVyLVNESy1HRU4nOiAnMSc7XG4gICAgICAgICdYLUJ1aWxkZXItU0RLLVZlcnNpb24nOiBzdHJpbmc7XG4gICAgICB9XG4gICAgfCB7fSB7XG4gICAgaWYgKCFCdWlsZGVyLnNka0luZm8pIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgJ1gtQnVpbGRlci1TREsnOiBCdWlsZGVyLnNka0luZm8ubmFtZSxcbiAgICAgICdYLUJ1aWxkZXItU0RLLUdFTic6ICcxJyxcbiAgICAgICdYLUJ1aWxkZXItU0RLLVZlcnNpb24nOiBCdWlsZGVyLnNka0luZm8udmVyc2lvbixcbiAgICB9IGFzIGNvbnN0O1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRTZGtIZWFkZXJzKGZldGNoT3B0aW9uczogYW55KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmZldGNoT3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgLi4uZmV0Y2hPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgIC4uLnRoaXMuZ2V0U2RrSGVhZGVycygpLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBtYWtlRmV0Y2hBcGlDYWxsKHVybDogc3RyaW5nLCByZXF1ZXN0T3B0aW9uczogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gZ2V0RmV0Y2goKSh1cmwsIHRoaXMuYWRkU2RrSGVhZGVycyhyZXF1ZXN0T3B0aW9ucykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZsYXR0ZW4gYSBuZXN0ZWQgTW9uZ29EQiBxdWVyeSBvYmplY3QgaW50byBhIGZsYXQgb2JqZWN0IHdpdGggZG90LXNlcGFyYXRlZCBrZXlzLlxuICAgKiAkIGtleXMgYXJlIG5vdCBmbGF0dGVuZWQgYW5kIGFyZSBsZWZ0IGFzIGlzLlxuICAgKlxuICAgKiB7IGZvbzogeyBiYXI6IHsgJGd0OiA1IH19fSAtPiB7ICdmb28uYmFyJzogeyAnJGd0JzogNSB9fVxuICAgKiB7IGZvbzogeydiYXIuaWQnOiB7ICRlbGVtTWF0Y2g6IHsgJ2Jhei5pZCc6IHsgJGluOiBbJ2FiYycsICdiY2QnXSB9fX19fSAtPiB7ICdmb28uYmFyLmlkJzogeyAnJGVsZW1NYXRjaCc6IHsgJ2Jhei5pZCc6IHsgJyRpbic6IFsnYWJjJywgJ2JjZCddIH19fX1cbiAgICovXG4gIHByaXZhdGUgZmxhdHRlbk1vbmdvUXVlcnkob2JqOiBhbnksIF9jdXJyZW50PzogYW55LCBfcmVzOiBhbnkgPSB7fSk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0ge1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgIGNvbnN0IG5ld0tleSA9IF9jdXJyZW50ID8gX2N1cnJlbnQgKyAnLicgKyBrZXkgOiBrZXk7XG4gICAgICBpZiAoXG4gICAgICAgIHZhbHVlICYmXG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmXG4gICAgICAgICFPYmplY3Qua2V5cyh2YWx1ZSkuZmluZChpdGVtID0+IGl0ZW0uc3RhcnRzV2l0aCgnJCcpKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZmxhdHRlbk1vbmdvUXVlcnkodmFsdWUsIG5ld0tleSwgX3Jlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfcmVzW25ld0tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9yZXM7XG4gIH1cblxuICBwcml2YXRlIGZsdXNoR2V0Q29udGVudFF1ZXVlKHVzZVBhc3RRdWV1ZSA9IGZhbHNlLCB1c2VRdWV1ZT86IEdldENvbnRlbnRPcHRpb25zW10pIHtcbiAgICBpZiAoIXRoaXMuYXBpS2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBGZXRjaGluZyBjb250ZW50IGZhaWxlZCwgZXhwZWN0ZWQgYXBpS2V5IHRvIGJlIGRlZmluZWQgaW5zdGVhZCBnb3Q6ICR7dGhpcy5hcGlLZXl9YFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hcGlWZXJzaW9uKSB7XG4gICAgICBpZiAoIVsndjEnLCAndjMnXS5pbmNsdWRlcyh0aGlzLmFwaVZlcnNpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhcGlWZXJzaW9uOiBleHBlY3RlZCAndjEnIG9yICd2MycsIHJlY2VpdmVkICcke3RoaXMuYXBpVmVyc2lvbn0nYCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXBpVmVyc2lvbiA9IERFRkFVTFRfQVBJX1ZFUlNJT047XG4gICAgfVxuXG4gICAgaWYgKCF1c2VQYXN0UXVldWUgJiYgIXRoaXMuZ2V0Q29udGVudFF1ZXVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcXVldWUgPSB1c2VRdWV1ZSB8fCAodXNlUGFzdFF1ZXVlID8gdGhpcy5wcmlvckNvbnRlbnRRdWV1ZSA6IHRoaXMuZ2V0Q29udGVudFF1ZXVlKSB8fCBbXTtcblxuICAgIC8vIFRPRE86IGRvIHRoaXMgb24gZXZlcnkgcmVxdWVzdCBzZW5kP1xuICAgIHRoaXMuZ2V0T3ZlcnJpZGVzRnJvbVF1ZXJ5U3RyaW5nKCk7XG5cbiAgICBjb25zdCBxdWVyeVBhcmFtczogUGFyYW1zTWFwID0ge1xuICAgICAgLy8gVE9ETzogd2F5IHRvIGZvcmNlIGEgcmVxdWVzdCB0byBiZSBpbiBhIHNlcGFyYXRlIHF1ZXVlLiBvciBqdXN0IGxvd2VyIHF1ZXVlIGxpbWl0IHRvIGJlIDEgYnkgZGVmYXVsdFxuICAgICAgb21pdDogcXVldWVbMF0ub21pdCA/PyAnbWV0YS5jb21wb25lbnRzVXNlZCcsXG4gICAgICBhcGlLZXk6IHRoaXMuYXBpS2V5LFxuICAgICAgLi4ucXVldWVbMF0ub3B0aW9ucyxcbiAgICAgIC4uLnRoaXMucXVlcnlPcHRpb25zLFxuICAgIH07XG5cbiAgICBpZiAocXVldWVbMF0ubG9jYWxlKSB7XG4gICAgICBxdWVyeVBhcmFtcy5sb2NhbGUgPSBxdWV1ZVswXS5sb2NhbGU7XG4gICAgfVxuICAgIGlmIChxdWV1ZVswXS5maWVsZHMpIHtcbiAgICAgIHF1ZXJ5UGFyYW1zLmZpZWxkcyA9IHF1ZXVlWzBdLmZpZWxkcztcbiAgICB9XG4gICAgaWYgKHF1ZXVlWzBdLmZvcm1hdCkge1xuICAgICAgcXVlcnlQYXJhbXMuZm9ybWF0ID0gcXVldWVbMF0uZm9ybWF0O1xuICAgIH1cbiAgICBpZiAoJ25vVHJhdmVyc2UnIGluIHF1ZXVlWzBdKSB7XG4gICAgICBxdWVyeVBhcmFtcy5ub1RyYXZlcnNlID0gcXVldWVbMF0ubm9UcmF2ZXJzZTtcbiAgICB9XG4gICAgaWYgKCdpbmNsdWRlVW5wdWJsaXNoZWQnIGluIHF1ZXVlWzBdKSB7XG4gICAgICBxdWVyeVBhcmFtcy5pbmNsdWRlVW5wdWJsaXNoZWQgPSBxdWV1ZVswXS5pbmNsdWRlVW5wdWJsaXNoZWQ7XG4gICAgfVxuICAgIGlmIChxdWV1ZVswXS5zb3J0KSB7XG4gICAgICBxdWVyeVBhcmFtcy5zb3J0ID0gcXVldWVbMF0uc29ydDtcbiAgICB9XG5cbiAgICBjb25zdCBwYWdlUXVlcnlQYXJhbXM6IFBhcmFtc01hcCA9XG4gICAgICAodHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IFF1ZXJ5U3RyaW5nLnBhcnNlRGVlcChsb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpKVxuICAgICAgICA6IHVuZGVmaW5lZCkgfHwge307IC8vIFRPRE86IFdIQVQgYWJvdXQgU1NSICh0aGlzLnJlcXVlc3QpID9cblxuICAgIGNvbnN0IHVzZXJBdHRyaWJ1dGVzID1cbiAgICAgIC8vIEZJWE1FOiBIQUNLOiBvbmx5IGNoZWNrcyBmaXJzdCBpbiBxdWV1ZSBmb3IgdXNlciBhdHRyaWJ1dGVzIG92ZXJyaWRlcywgc2hvdWxkIGNoZWNrIGFsbFxuICAgICAgLy8gVE9ETzogbWVyZ2UgdXNlciBhdHRyaWJ1dGVzIHByb3ZpZGVkIGhlcmUgd2l0aCBkZWZhdWx0cyBhbmQgY3VycmVudCB1c2VyIGF0dGlyaWJ1dGVzICg/KVxuICAgICAgcXVldWUgJiYgcXVldWVbMF0udXNlckF0dHJpYnV0ZXNcbiAgICAgICAgPyBxdWV1ZVswXS51c2VyQXR0cmlidXRlc1xuICAgICAgICA6IHRoaXMudGFyZ2V0Q29udGVudFxuICAgICAgICAgID8gdGhpcy5nZXRVc2VyQXR0cmlidXRlcygpXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIHVybFBhdGg6IHRoaXMuZ2V0TG9jYXRpb24oKS5wYXRobmFtZSxcbiAgICAgICAgICAgIH07XG5cbiAgICBjb25zdCBmdWxsVXJsUXVldWVJdGVtID0gcXVldWUuZmluZChpdGVtID0+ICEhaXRlbS5pbmNsdWRlVXJsKTtcbiAgICBpZiAoZnVsbFVybFF1ZXVlSXRlbSkge1xuICAgICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLmdldExvY2F0aW9uKCk7XG4gICAgICBpZiAobG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLnVybCA9IGAke2xvY2F0aW9uLm9yaWdpbn0ke2xvY2F0aW9uLnBhdGhuYW1lfSR7bG9jYXRpb24uc2VhcmNofWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdXJsUXVldWVJdGVtID0gdXNlUXVldWU/LmZpbmQoaXRlbSA9PiBpdGVtLnVybCk7XG4gICAgaWYgKHVybFF1ZXVlSXRlbT8udXJsKSB7XG4gICAgICB1c2VyQXR0cmlidXRlcy51cmxQYXRoID0gdXJsUXVldWVJdGVtLnVybC5zcGxpdCgnPycpWzBdO1xuICAgIH1cbiAgICAvLyBUT0RPOiBtZXJnZSBpbiB0aGUgYXR0cmlidXRlIGZyb20gcXVlcnkgc3RyaW5nIG9uZXNcbiAgICAvLyBUT0RPOiBtYWtlIHRoaXMgYW4gb3B0aW9uIHBlciBjb21wb25lbnQvcmVxdWVzdFxuICAgIHF1ZXJ5UGFyYW1zLnVzZXJBdHRyaWJ1dGVzID0gSlNPTi5zdHJpbmdpZnkodXNlckF0dHJpYnV0ZXMpO1xuXG4gICAgaWYgKCF1c2VQYXN0UXVldWUgJiYgIXVzZVF1ZXVlKSB7XG4gICAgICB0aGlzLnByaW9yQ29udGVudFF1ZXVlID0gcXVldWU7XG4gICAgICB0aGlzLmdldENvbnRlbnRRdWV1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgY2FjaGVidXN0ID1cbiAgICAgIHRoaXMuY2FjaGVidXN0IHx8XG4gICAgICBpc0lmcmFtZSB8fFxuICAgICAgcGFnZVF1ZXJ5UGFyYW1zLmNhY2hlYnVzdCB8fFxuICAgICAgcGFnZVF1ZXJ5UGFyYW1zWydidWlsZGVyLmNhY2hlYnVzdCddO1xuXG4gICAgaWYgKGNhY2hlYnVzdCB8fCB0aGlzLmVudiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBxdWVyeVBhcmFtcy5jYWNoZWJ1c3QgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChCdWlsZGVyLmlzRWRpdGluZykge1xuICAgICAgcXVlcnlQYXJhbXMuaXNFZGl0aW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ub0NhY2hlIHx8IHRoaXMuZW52ICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHF1ZXJ5UGFyYW1zLm5vQ2FjaGUgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChzaXplKHRoaXMub3ZlcnJpZGVzKSkge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5vdmVycmlkZXMpIHtcbiAgICAgICAgaWYgKHRoaXMub3ZlcnJpZGVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtc1tgb3ZlcnJpZGVzLiR7a2V5fWBdID0gdGhpcy5vdmVycmlkZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3Qgb3B0aW9ucyBvZiBxdWV1ZSkge1xuICAgICAgY29uc3QgZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQ7XG5cbiAgICAgIGlmIChmb3JtYXQpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuZm9ybWF0ID0gZm9ybWF0O1xuICAgICAgfVxuICAgICAgLy8gVE9ETzogcmVtb3ZlIG1lIGFuZCBtYWtlIHBlcm1vZGVsXG4gICAgICBpZiAob3B0aW9ucy5zdGF0aWMpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuc3RhdGljID0gb3B0aW9ucy5zdGF0aWM7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmNhY2hlYnVzdCkge1xuICAgICAgICBxdWVyeVBhcmFtcy5jYWNoZWJ1c3QgPSBvcHRpb25zLmNhY2hlYnVzdDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzUG9zaXRpdmVOdW1iZXIob3B0aW9ucy5jYWNoZVNlY29uZHMpKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLmNhY2hlU2Vjb25kcyA9IG9wdGlvbnMuY2FjaGVTZWNvbmRzO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNQb3NpdGl2ZU51bWJlcihvcHRpb25zLnN0YWxlQ2FjaGVTZWNvbmRzKSkge1xuICAgICAgICBxdWVyeVBhcmFtcy5zdGFsZUNhY2hlU2Vjb25kcyA9IG9wdGlvbnMuc3RhbGVDYWNoZVNlY29uZHM7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmFwaUVuZHBvaW50ID09PSAnY29udGVudCcpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuaW5jbHVkZVJlZnMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcm9wZXJ0aWVzOiAoa2V5b2YgR2V0Q29udGVudE9wdGlvbnMpW10gPSBbXG4gICAgICAgICdwcmVyZW5kZXInLFxuICAgICAgICAnZXh0cmFjdENzcycsXG4gICAgICAgICdsaW1pdCcsXG4gICAgICAgICdvZmZzZXQnLFxuICAgICAgICAncXVlcnknLFxuICAgICAgICAncHJldmlldycsXG4gICAgICAgICdtb2RlbCcsXG4gICAgICAgICdlbnRyeScsXG4gICAgICAgICdyZXYnLFxuICAgICAgICAnc3RhdGljJyxcbiAgICAgICAgJ2luY2x1ZGVSZWZzJyxcbiAgICAgIF07XG5cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIHByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW2tleV07XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHRoaXMuYXBpRW5kcG9pbnQgPT09ICdxdWVyeScpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLm9wdGlvbnMgPSBxdWVyeVBhcmFtcy5vcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMub3B0aW9uc1tvcHRpb25zLmtleSFdID0gcXVlcnlQYXJhbXMub3B0aW9uc1tvcHRpb25zLmtleSFdIHx8IHt9O1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMub3B0aW9uc1tvcHRpb25zLmtleSFdW2tleV0gPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zW2tleV0gPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnByZXZpZXcgJiYgdGhpcy5wcmV2aWV3aW5nTW9kZWwgPT09IHF1ZXVlPy5bMF0/Lm1vZGVsKSB7XG4gICAgICBxdWVyeVBhcmFtcy5wcmV2aWV3ID0gJ3RydWUnO1xuICAgIH1cbiAgICBjb25zdCBoYXNQYXJhbXMgPSBPYmplY3Qua2V5cyhxdWVyeVBhcmFtcykubGVuZ3RoID4gMDtcblxuICAgIC8vIFRPRE86IG9wdGlvbiB0byBmb3JjZSBkZXYgb3IgcWEgYXBpIGhlcmVcbiAgICBjb25zdCBob3N0ID0gdGhpcy5ob3N0O1xuXG4gICAgY29uc3Qga2V5TmFtZXMgPSBxdWV1ZS5tYXAoaXRlbSA9PiBlbmNvZGVVUklDb21wb25lbnQoaXRlbS5rZXkhKSkuam9pbignLCcpO1xuXG4gICAgaWYgKHRoaXMub3ZlcnJpZGVQYXJhbXMpIHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IG9taXQoUXVlcnlTdHJpbmcucGFyc2UodGhpcy5vdmVycmlkZVBhcmFtcyksICdhcGlLZXknKTtcbiAgICAgIGFzc2lnbihxdWVyeVBhcmFtcywgcGFyYW1zKTtcbiAgICB9XG5cbiAgICBjb25zdCBmb3JtYXQgPSBxdWVyeVBhcmFtcy5mb3JtYXQ7XG4gICAgY29uc3QgaXNBcGlDYWxsRm9yQ29kZWdlbiA9IGZvcm1hdCA9PT0gJ3NvbGlkJyB8fCBmb3JtYXQgPT09ICdyZWFjdCc7XG4gICAgY29uc3QgaXNBcGlDYWxsRm9yQ29kZWdlbk9yUXVlcnkgPSBpc0FwaUNhbGxGb3JDb2RlZ2VuIHx8IHRoaXMuYXBpRW5kcG9pbnQgPT09ICdxdWVyeSc7XG5cbiAgICBpZiAodGhpcy5hcGlFbmRwb2ludCA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICBpZiAocXVldWVbMF0ucXVlcnkpIHtcbiAgICAgICAgZGVsZXRlIHF1ZXJ5UGFyYW1zLnF1ZXJ5O1xuICAgICAgICBjb25zdCBvYmplY3RUb0ZsYXR0ZW4gPSB7IHF1ZXJ5OiBxdWV1ZVswXS5xdWVyeSB9O1xuICAgICAgICBjb25zdCBmbGF0dGVuZWQgPSB0aGlzLmZsYXR0ZW5Nb25nb1F1ZXJ5KG9iamVjdFRvRmxhdHRlbik7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGZsYXR0ZW5lZCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1zW2tleV0gPSBKU09OLnN0cmluZ2lmeShmbGF0dGVuZWRba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBxdWVyeVN0ciA9IFF1ZXJ5U3RyaW5nLnN0cmluZ2lmeURlZXAocXVlcnlQYXJhbXMpO1xuXG4gICAgY29uc3QgZmV0Y2hPcHRpb25zID0geyBoZWFkZXJzOiB7fSwgLi4ucXVldWVbMF0uZmV0Y2hPcHRpb25zIH07XG4gICAgaWYgKHRoaXMuYXV0aFRva2VuKSB7XG4gICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgLi4uZmV0Y2hPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmF1dGhUb2tlbn1gLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgdXJsO1xuICAgIGlmIChpc0FwaUNhbGxGb3JDb2RlZ2VuKSB7XG4gICAgICB1cmwgPSBgJHtob3N0fS9hcGkvdjEvY29kZWdlbi8ke3RoaXMuYXBpS2V5fS8ke2tleU5hbWVzfWA7XG4gICAgfSBlbHNlIGlmICh0aGlzLmFwaUVuZHBvaW50ID09PSAncXVlcnknKSB7XG4gICAgICB1cmwgPSBgJHtob3N0fS9hcGkvdjMvcXVlcnkvJHt0aGlzLmFwaUtleX0vJHtrZXlOYW1lc31gO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cmwgPSBgJHtob3N0fS9hcGkvdjMvY29udGVudC8ke3F1ZXVlWzBdLm1vZGVsfWA7XG4gICAgfVxuXG4gICAgdXJsID0gdXJsICsgKHF1ZXJ5UGFyYW1zICYmIGhhc1BhcmFtcyA/IGA/JHtxdWVyeVN0cn1gIDogJycpO1xuXG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMubWFrZUZldGNoQXBpQ2FsbCh1cmwsIGZldGNoT3B0aW9ucylcbiAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oXG4gICAgICAgIHJlc3VsdCA9PiB7XG4gICAgICAgICAgZm9yIChjb25zdCBvcHRpb25zIG9mIHF1ZXVlKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlOYW1lID0gb3B0aW9ucy5rZXkhO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubW9kZWwgPT09IHRoaXMuYmxvY2tDb250ZW50TG9hZGluZyAmJiAhb3B0aW9ucy5ub0VkaXRvclVwZGF0ZXMpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGlzRWRpdGluZ1RoaXNNb2RlbCA9IHRoaXMuZWRpdGluZ01vZGVsID09PSBvcHRpb25zLm1vZGVsO1xuICAgICAgICAgICAgaWYgKGlzRWRpdGluZ1RoaXNNb2RlbCAmJiBCdWlsZGVyLmlzRWRpdGluZykge1xuICAgICAgICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyB0eXBlOiAnYnVpbGRlci51cGRhdGVDb250ZW50JywgZGF0YTogeyBvcHRpb25zIH0gfSwgJyonKTtcbiAgICAgICAgICAgICAgLy8gcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc0J5S2V5W2tleU5hbWVdO1xuICAgICAgICAgICAgaWYgKCFvYnNlcnZlcikge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gaXNBcGlDYWxsRm9yQ29kZWdlbk9yUXVlcnkgPyByZXN1bHRba2V5TmFtZV0gOiByZXN1bHQucmVzdWx0cztcbiAgICAgICAgICAgIGNvbnN0IHNvcnRlZCA9IGRhdGE7IC8vIHNvcnRCeShkYXRhLCBpdGVtID0+IGl0ZW0ucHJpb3JpdHkpO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgY29uc3QgdGVzdE1vZGlmaWVkUmVzdWx0cyA9IEJ1aWxkZXIuaXNTZXJ2ZXJcbiAgICAgICAgICAgICAgICA/IHNvcnRlZFxuICAgICAgICAgICAgICAgIDogdGhpcy5wcm9jZXNzUmVzdWx0c0ZvclRlc3RzKHNvcnRlZCk7XG4gICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodGVzdE1vZGlmaWVkUmVzdWx0cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBzZWFyY2ggPSB0aGlzLmdldExvY2F0aW9uKCkuc2VhcmNoO1xuICAgICAgICAgICAgICBpZiAoKHNlYXJjaCB8fCAnJykuaW5jbHVkZXMoJ2J1aWxkZXIucHJldmlldz0nICsgb3B0aW9ucy5tb2RlbCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aWV3RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgIGlkOiAncHJldmlldycsXG4gICAgICAgICAgICAgICAgICBuYW1lOiAnUHJldmlldycsXG4gICAgICAgICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoW3ByZXZpZXdEYXRhXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnIgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9ucyBvZiBxdWV1ZSkge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc0J5S2V5W29wdGlvbnMua2V5IV07XG4gICAgICAgICAgICBpZiAoIW9ic2VydmVyKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBwcml2YXRlIHRlc3RDb29raWVQcmVmaXggPSAnYnVpbGRlci50ZXN0cyc7XG5cbiAgcHJpdmF0ZSBwcm9jZXNzUmVzdWx0c0ZvclRlc3RzKHJlc3VsdHM6IEJ1aWxkZXJDb250ZW50W10pIHtcbiAgICBjb25zdCBtYXBwZWRSZXN1bHRzID0gcmVzdWx0cy5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoIWl0ZW0udmFyaWF0aW9ucykge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvb2tpZVZhbHVlID0gdGhpcy5nZXRUZXN0Q29va2llKGl0ZW0uaWQhKTtcbiAgICAgIGNvbnN0IGNvb2tpZVZhcmlhdGlvbiA9IGNvb2tpZVZhbHVlID09PSBpdGVtLmlkID8gaXRlbSA6IGl0ZW0udmFyaWF0aW9uc1tjb29raWVWYWx1ZV07XG4gICAgICBpZiAoY29va2llVmFyaWF0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICBkYXRhOiBjb29raWVWYXJpYXRpb24uZGF0YSxcbiAgICAgICAgICB2YXJpYXRpb25JZDogY29va2llVmFsdWUsXG4gICAgICAgICAgdGVzdFZhcmlhdGlvbklkOiBjb29raWVWYWx1ZSxcbiAgICAgICAgICB0ZXN0VmFyaWF0aW9uTmFtZTogY29va2llVmFyaWF0aW9uLm5hbWUsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jYW5UcmFjayAmJiBpdGVtLnZhcmlhdGlvbnMgJiYgc2l6ZShpdGVtLnZhcmlhdGlvbnMpKSB7XG4gICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgY29uc3QgcmFuZG9tID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBpdGVtLnZhcmlhdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCB2YXJpYXRpb24gPSBpdGVtLnZhcmlhdGlvbnNbaWRdITtcbiAgICAgICAgICBjb25zdCB0ZXN0UmF0aW8gPSB2YXJpYXRpb24udGVzdFJhdGlvO1xuICAgICAgICAgIG4gKz0gdGVzdFJhdGlvITtcbiAgICAgICAgICBpZiAocmFuZG9tIDwgbikge1xuICAgICAgICAgICAgdGhpcy5zZXRUZXN0Q29va2llKGl0ZW0uaWQhLCB2YXJpYXRpb24uaWQhKTtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhdGlvbk5hbWUgPVxuICAgICAgICAgICAgICB2YXJpYXRpb24ubmFtZSB8fCAodmFyaWF0aW9uLmlkID09PSBpdGVtLmlkID8gJ0RlZmF1bHQgdmFyaWF0aW9uJyA6ICcnKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgIGRhdGE6IHZhcmlhdGlvbi5kYXRhLFxuICAgICAgICAgICAgICB2YXJpYXRpb25JZDogdmFyaWF0aW9uLmlkLFxuICAgICAgICAgICAgICB0ZXN0VmFyaWF0aW9uSWQ6IHZhcmlhdGlvbi5pZCxcbiAgICAgICAgICAgICAgdmFyaWF0aW9uTmFtZTogdmFyaWF0aW9uTmFtZSxcbiAgICAgICAgICAgICAgdGVzdFZhcmlhdGlvbk5hbWU6IHZhcmlhdGlvbk5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFRlc3RDb29raWUoaXRlbS5pZCEsIGl0ZW0uaWQhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIHZhcmlhdGlvbklkOiBpdGVtLmlkLFxuICAgICAgICAuLi4oaXRlbS52YXJpYXRpb25zICYmXG4gICAgICAgICAgc2l6ZShpdGVtLnZhcmlhdGlvbnMpICYmIHtcbiAgICAgICAgICAgIHRlc3RWYXJpYXRpb25JZDogaXRlbS5pZCxcbiAgICAgICAgICAgIHRlc3RWYXJpYXRpb25OYW1lOiAnRGVmYXVsdCB2YXJpYXRpb24nLFxuICAgICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGlmIChpc0lmcmFtZSkge1xuICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgIHsgdHlwZTogJ2J1aWxkZXIuY29udGVudFJlc3VsdHMnLCBkYXRhOiB7IHJlc3VsdHM6IG1hcHBlZFJlc3VsdHMgfSB9LFxuICAgICAgICAnKidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcHBlZFJlc3VsdHM7XG4gIH1cblxuICBwcml2YXRlIGdldFRlc3RDb29raWUoY29udGVudElkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb29raWUoYCR7dGhpcy50ZXN0Q29va2llUHJlZml4fS4ke2NvbnRlbnRJZH1gKTtcbiAgfVxuXG4gIHByaXZhdGUgY29va2llUXVldWU6IFtzdHJpbmcsIHN0cmluZ11bXSA9IFtdO1xuXG4gIHByaXZhdGUgc2V0VGVzdENvb2tpZShjb250ZW50SWQ6IHN0cmluZywgdmFyaWF0aW9uSWQ6IHN0cmluZykge1xuICAgIGlmICghdGhpcy5jYW5UcmFjaykge1xuICAgICAgdGhpcy5jb29raWVRdWV1ZS5wdXNoKFtjb250ZW50SWQsIHZhcmlhdGlvbklkXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gMzAgZGF5cyBmcm9tIG5vd1xuICAgIGNvbnN0IGZ1dHVyZSA9IG5ldyBEYXRlKCk7XG4gICAgZnV0dXJlLnNldERhdGUoZnV0dXJlLmdldERhdGUoKSArIDMwKTtcblxuICAgIHJldHVybiB0aGlzLnNldENvb2tpZShgJHt0aGlzLnRlc3RDb29raWVQcmVmaXh9LiR7Y29udGVudElkfWAsIHZhcmlhdGlvbklkLCBmdXR1cmUpO1xuICB9XG5cbiAgZ2V0Q29va2llKG5hbWU6IHN0cmluZyk6IGFueSB7XG4gICAgaWYgKHRoaXMuY29va2llcykge1xuICAgICAgcmV0dXJuIHRoaXMuY29va2llcy5nZXQobmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBCdWlsZGVyLmlzQnJvd3NlciAmJiBnZXRDb29raWUobmFtZSk7XG4gIH1cblxuICBzZXRDb29raWUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55LCBleHBpcmVzPzogRGF0ZSkge1xuICAgIGlmICh0aGlzLmNvb2tpZXMgJiYgIShCdWlsZGVyLmlzU2VydmVyICYmIEJ1aWxkZXIuaXNTdGF0aWMpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29raWVzLnNldChuYW1lLCB2YWx1ZSwge1xuICAgICAgICBleHBpcmVzLFxuICAgICAgICBzZWN1cmU6IHRoaXMuZ2V0TG9jYXRpb24oKS5wcm90b2NvbCA9PT0gJ2h0dHBzOicsXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIEJ1aWxkZXIuaXNCcm93c2VyICYmIHNldENvb2tpZShuYW1lLCB2YWx1ZSwgZXhwaXJlcyk7XG4gIH1cblxuICBnZXRDb250ZW50KG1vZGVsTmFtZTogc3RyaW5nLCBvcHRpb25zOiBHZXRDb250ZW50T3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCF0aGlzLmFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRmV0Y2hpbmcgY29udGVudCBmcm9tIG1vZGVsICR7bW9kZWxOYW1lfSBmYWlsZWQsIGV4cGVjdGVkIGFwaUtleSB0byBiZSBkZWZpbmVkIGluc3RlYWQgZ290OiAke3RoaXMuYXBpS2V5fWBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnF1ZXVlR2V0Q29udGVudChtb2RlbE5hbWUsIG9wdGlvbnMpO1xuICB9XG5cbiAgZ2V0QWxsKFxuICAgIG1vZGVsTmFtZTogc3RyaW5nLFxuICAgIG9wdGlvbnM6IEdldENvbnRlbnRPcHRpb25zICYge1xuICAgICAgcmVxPzogSW5jb21pbmdNZXNzYWdlO1xuICAgICAgcmVzPzogU2VydmVyUmVzcG9uc2U7XG4gICAgICBhcGlLZXk/OiBzdHJpbmc7XG4gICAgICBhdXRoVG9rZW4/OiBzdHJpbmc7XG4gICAgfSA9IHt9XG4gICk6IFByb21pc2U8QnVpbGRlckNvbnRlbnRbXT4ge1xuICAgIGxldCBpbnN0YW5jZTogQnVpbGRlciA9IHRoaXM7XG4gICAgaWYgKCFCdWlsZGVyLmlzQnJvd3Nlcikge1xuICAgICAgaW5zdGFuY2UgPSBuZXcgQnVpbGRlcihcbiAgICAgICAgb3B0aW9ucy5hcGlLZXkgfHwgdGhpcy5hcGlLZXksXG4gICAgICAgIG9wdGlvbnMucmVxLFxuICAgICAgICBvcHRpb25zLnJlcyxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIG9wdGlvbnMuYXV0aFRva2VuIHx8IHRoaXMuYXV0aFRva2VuLFxuICAgICAgICBvcHRpb25zLmFwaVZlcnNpb24gfHwgdGhpcy5hcGlWZXJzaW9uXG4gICAgICApO1xuICAgICAgaW5zdGFuY2Uuc2V0VXNlckF0dHJpYnV0ZXModGhpcy5nZXRVc2VyQXR0cmlidXRlcygpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTk9URTogQWxsIHRoZXNlIGFyZSB3aGVuIC5pbml0IGlzIG5vdCBjYWxsZWQgYW5kIHRoZSBjdXN0b21lclxuICAgICAgLy8gZGlyZWN0bHkgY2FsbHMgLmdldCBvbiB0aGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIEJ1aWxkZXJcbiAgICAgIGlmIChvcHRpb25zLmFwaUtleSAmJiAhdGhpcy5hcGlLZXkpIHtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBvcHRpb25zLmFwaUtleTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmF1dGhUb2tlbiAmJiAhdGhpcy5hdXRoVG9rZW4pIHtcbiAgICAgICAgdGhpcy5hdXRoVG9rZW4gPSBvcHRpb25zLmF1dGhUb2tlbjtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmFwaVZlcnNpb24gJiYgIXRoaXMuYXBpVmVyc2lvbikge1xuICAgICAgICB0aGlzLmFwaVZlcnNpb24gPSBvcHRpb25zLmFwaVZlcnNpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IG5vVHJhdmVyc2U9dHJ1ZSBpZiBOT1QgYWxyZWFkeSBwYXNzZWQgYnkgdXNlciwgZm9yIHF1ZXJ5IHBlcmZvcm1hbmNlXG4gICAgaWYgKCEoJ25vVHJhdmVyc2UnIGluIG9wdGlvbnMpKSB7XG4gICAgICBvcHRpb25zLm5vVHJhdmVyc2UgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBpbnN0YW5jZVxuICAgICAgLmdldENvbnRlbnQobW9kZWxOYW1lLCB7XG4gICAgICAgIGxpbWl0OiAzMCxcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAga2V5OlxuICAgICAgICAgIG9wdGlvbnMua2V5IHx8XG4gICAgICAgICAgLy8gTWFrZSB0aGUga2V5IGluY2x1ZGUgYWxsIG9wdGlvbnMsIHNvIHdlIGRvbid0IHJldXNlIGNhY2hlIGZvciB0aGUgc2FtZSBjb250ZW50IGZldGNoZWRcbiAgICAgICAgICAvLyB3aXRoIGRpZmZlcmVudCBvcHRpb25zXG4gICAgICAgICAgQnVpbGRlci5pc0Jyb3dzZXJcbiAgICAgICAgICAgID8gYCR7bW9kZWxOYW1lfToke2hhc2gob21pdChvcHRpb25zLCAnaW5pdGlhbENvbnRlbnQnLCAncmVxJywgJ3JlcycpKX1gXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIH0pXG4gICAgICAucHJvbWlzZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBCdWlsZGVyIH0gZnJvbSAnLi4vYnVpbGRlci5jbGFzcyc7XG5cbmV4cG9ydCBjb25zdCBidWlsZGVyID0gbmV3IEJ1aWxkZXIobnVsbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUpO1xuQnVpbGRlci5zaW5nbGV0b25JbnN0YW5jZSA9IGJ1aWxkZXI7XG4iXSwibmFtZXMiOlsiUHJvbWlzZSIsInNlcnZlck9ubHlSZXF1aXJlIiwicGFyc2UiLCJ1cmxQYXJzZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@builder.io/sdk/dist/index.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@builder.io/react/dist/builder-react.es5.js":
/*!******************************************************************!*\
  !*** ./node_modules/@builder.io/react/dist/builder-react.es5.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Builder: () => (/* reexport safe */ _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder),\n/* harmony export */   BuilderAsyncRequestsContext: () => (/* binding */ BuilderAsyncRequestsContext),\n/* harmony export */   BuilderBlock: () => (/* binding */ BuilderBlock),\n/* harmony export */   BuilderBlockComponent: () => (/* binding */ BuilderBlock$1),\n/* harmony export */   BuilderBlocks: () => (/* binding */ BuilderBlocks),\n/* harmony export */   BuilderComponent: () => (/* binding */ BuilderComponent),\n/* harmony export */   BuilderContent: () => (/* binding */ BuilderContent),\n/* harmony export */   BuilderMetaContext: () => (/* binding */ BuilderMetaContext),\n/* harmony export */   BuilderPage: () => (/* binding */ BuilderComponent),\n/* harmony export */   BuilderStoreContext: () => (/* binding */ BuilderStoreContext),\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   Columns: () => (/* binding */ Columns),\n/* harmony export */   Content: () => (/* binding */ BuilderComponent),\n/* harmony export */   CustomCode: () => (/* binding */ CustomCode),\n/* harmony export */   Dropzone: () => (/* binding */ Slot),\n/* harmony export */   Embed: () => (/* binding */ Embed),\n/* harmony export */   Form: () => (/* binding */ Form),\n/* harmony export */   FormInput: () => (/* binding */ FormInput),\n/* harmony export */   FormSelect: () => (/* binding */ FormSelect),\n/* harmony export */   FormSubmitButton: () => (/* binding */ FormSubmitButton),\n/* harmony export */   Fragment: () => (/* binding */ Fragment),\n/* harmony export */   Image: () => (/* binding */ Image),\n/* harmony export */   Img: () => (/* binding */ Img),\n/* harmony export */   Label: () => (/* binding */ Label),\n/* harmony export */   Mutation: () => (/* binding */ Mutation),\n/* harmony export */   PersonalizationContainer: () => (/* binding */ PersonalizationContainer),\n/* harmony export */   RawText: () => (/* binding */ RawText),\n/* harmony export */   Router: () => (/* binding */ Router),\n/* harmony export */   Section: () => (/* binding */ Section),\n/* harmony export */   StateProvider: () => (/* binding */ StateProvider),\n/* harmony export */   Symbol: () => (/* binding */ Symbol$1),\n/* harmony export */   Text: () => (/* binding */ Text),\n/* harmony export */   TextArea: () => (/* binding */ TextArea),\n/* harmony export */   Video: () => (/* binding */ Video),\n/* harmony export */   builder: () => (/* reexport safe */ _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder),\n/* harmony export */   \"default\": () => (/* reexport safe */ _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder),\n/* harmony export */   getSrcSet: () => (/* binding */ getSrcSet),\n/* harmony export */   noWrap: () => (/* binding */ noWrap),\n/* harmony export */   onChange: () => (/* binding */ onChange),\n/* harmony export */   stringToFunction: () => (/* binding */ stringToFunction),\n/* harmony export */   updateMetadata: () => (/* binding */ updateMetadata),\n/* harmony export */   useIsPreviewing: () => (/* binding */ useIsPreviewing),\n/* harmony export */   withBuilder: () => (/* binding */ withBuilder),\n/* harmony export */   withChildren: () => (/* binding */ withChildren)\n/* harmony export */ });\n/* harmony import */ var _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @builder.io/sdk */ \"(ssr)/./node_modules/@builder.io/sdk/dist/index.esm.js\");\n/* harmony import */ var _emotion_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @emotion/core */ \"(ssr)/./node_modules/@emotion/core/dist/core.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var hash_sum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! hash-sum */ \"(ssr)/./node_modules/hash-sum/hash-sum.js\");\n/* harmony import */ var hash_sum__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(hash_sum__WEBPACK_IMPORTED_MODULE_4__);\nvar SDK_VERSION=\"8.2.6\",_a;\"undefined\"!=typeof window&&(null===(_a=window.parent)||void 0===_a||_a.postMessage({type:\"builder.isReactSdk\",data:{value:!0,supportsPatchUpdates:\"v4\",supportsCustomBreakpoints:!0,supportsXSmallBreakpoint:!0,supportsGlobalSymbols:!0,blockLevelPersonalization:!0,version:SDK_VERSION}},\"*\"));var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function __rest(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function __decorate(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function __metadata(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))}function __generator(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError(\"Generator is already executing.\");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function __spreadArray(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}\"function\"==typeof SuppressedError&&SuppressedError;var fastClone=function(e){return JSON.parse(JSON.stringify(e))},omit$2=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=Object.assign({},e),r=0,o=t;r<o.length;r++){var a=o[r];delete i[a]}return i},sizeNames=[\"xsmall\",\"small\",\"medium\",\"large\"],sizes={xsmall:{min:0,default:160,max:320},small:{min:321,default:321,max:640},medium:{min:641,default:642,max:991},large:{min:990,default:991,max:1200},getWidthForSize:function(e){return this[e].default},getSizeForWidth:function(e){for(var t=0,n=sizeNames;t<n.length;t++){var i=n[t];if(e<=this[i].max)return i}return\"large\"}},getSizesForBreakpoints=function(e){var t=__assign(__assign({},sizes),fastClone(sizes));if(!e)return t;var n=e.xsmall,i=e.small,r=e.medium;if(n){var o=Math.floor(n/2);t.xsmall={max:n,min:o,default:o+1}}if(!i||!r)return t;var a=n?t.xsmall.max+1:Math.floor(i/2);t.small={max:i,min:a,default:a+1};var s=t.small.max+1;t.medium={max:r,min:s,default:s+1};var l=t.medium.max+1;return t.large={max:2e3,min:l,default:l+1},t},set=function(e,t,n){if(Object(e)!==e)return e;var i=Array.isArray(t)?t:t.toString().match(/[^.[\\]]+/g);return i.slice(0,-1).reduce((function(e,t,n){return Object(e[t])===e[t]?e[t]:e[t]=Math.abs(Number(i[n+1]))>>0==+i[n+1]?[]:{}}),e)[i[i.length-1]]=n,e},noop=function(){return null},safeDynamicRequire;if(\"function\"==typeof(null===globalThis||void 0===globalThis?void 0:globalThis.require)||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer&&\"function\"==\"function\")try{safeDynamicRequire=eval(\"require\")}catch(e){safeDynamicRequire=(null===globalThis||void 0===globalThis?void 0:globalThis.require)?globalThis.require:noop}function isDebug(){return Boolean(\"undefined\"!=typeof process&&void 0!==process.env&&process.env.DEBUG)}function isNodeRuntime(){var e;return\"undefined\"!=typeof process&&Boolean(null===(e=null===process||void 0===process?void 0:process.versions)||void 0===e?void 0:e.node)}null!=safeDynamicRequire||(safeDynamicRequire=noop);var shouldForceBrowserRuntimeInNode=function(){var e;if(!isNodeRuntime())return!1;var t=\"arm64\"===process.arch,n=process.version.startsWith(\"v20\"),i=null===(e=process.env.NODE_OPTIONS)||void 0===e?void 0:e.includes(\"--no-node-snapshot\");return!(!t||!n||i)&&(console.log(\"Skipping usage of `isolated-vm` to avoid crashes in Node v20 on an arm64 machine.\\n    If you would like to use the `isolated-vm` package on this machine, please provide the `NODE_OPTIONS=--no-node-snapshot` config to your Node process.\\n    See https://github.com/BuilderIO/builder/blob/main/packages/react/README.md#node-v20--m1-macs-apple-silicon-support for more information.\\n    \"),!0)},fnCache={},api=function(e){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder};function stringToFunction(e,t,n,i){if(void 0===t&&(t=!0),!e||!e.trim())return function(){};var r=e+\":\"+t;if(fnCache[r])return fnCache[r];var o=t&&!(e.includes(\";\")||e.includes(\" return \")||e.trim().startsWith(\"return \"))||e.trim().startsWith(\"builder.run\"),a=function(){};try{_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(a=new Function(\"state\",\"event\",\"block\",\"builder\",\"Device\",\"update\",\"Builder\",\"context\",\"\\n          var names = [\\n            'state',\\n            'event',\\n            'block',\\n            'builder',\\n            'Device',\\n            'update',\\n            'Builder',\\n            'context'\\n          ];\\n          var rootState = state;\\n          if (typeof Proxy !== 'undefined') {\\n            rootState = new Proxy(rootState, {\\n              set: function () {\\n                return false;\\n              },\\n              get: function (target, key) {\\n                if (names.includes(key)) {\\n                  return undefined;\\n                }\\n                return target[key];\\n              }\\n            });\\n          }\\n          /* Alias */\\n          var ctx = context;\\n          var log = console.log.bind(console);\\n          with (rootState) {\\n            \".concat(o?\"return (\".concat(e,\");\"):e,\";\\n          }\\n        \")))}catch(t){n&&n.push(t);var s=t&&t.message;s&&\"string\"==typeof s&&i&&-1===i.indexOf(s)&&i.push(s),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&console.warn(\"Function compile error in \".concat(e),t)}var l=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||shouldForceBrowserRuntimeInNode())return a.apply(void 0,t);var r=getIsolateContext(),s=safeDynamicRequire(\"isolated-vm\"),l=r.evalClosureSync(makeFn(e,o),t.map((function(e,t){return\"object\"==typeof e?new s.Reference(t===indexOfBuilderInstance?__assign(__assign({},e),{getUserAttributes:function(){return e.getUserAttributes(\"\")}}):e):null})));try{var u=JSON.parse(l);return u}catch(e){return l}}catch(t){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser?console.warn(\"Builder custom code error:\",t.message||t,\"in\",e,t.stack||t):isDebug()&&console.debug(\"Builder custom code error:\",t.message||t,\"in\",e,t.stack||t),n&&n.push(t),null}};return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(fnCache[r]=l),l}var indexOfBuilderInstance=3,makeFn=function(e,t,n){var i=n||[\"state\",\"event\",\"block\",\"builder\",\"Device\",\"update\",\"Builder\",\"context\"];return\"\\n\".concat(\"\\n  var refToProxy = (obj) => {\\n    if (typeof obj !== 'object' || obj === null) {\\n      return obj;\\n    }\\n    return new Proxy({}, {\\n        get(target, key) {\\n            if (key === 'copySync') {\\n              return () => obj.copySync();\\n            }\\n            const val = obj.getSync(key);\\n            if (typeof val?.copySync === 'function') {\\n                return JSON.parse(stringify(val));\\n            }\\n            return val;\\n        },\\n        set(target, key, value) {\\n            obj.setSync(key, value);\\n        },\\n        deleteProperty(target, key) {\\n            obj.deleteSync(key);\\n        }\\n      })\\n  }\\n\",\"\\n\").concat(\"\\n    var stringify = (val) => {\\n      if (typeof val === 'object' && val !== null) {\\n        return JSON.stringify(val.copySync ? val.copySync() : val);\\n      }\\n      return val;\\n    }\\n  \",\"\\n\").concat(i.map((function(e,t){return\"var \".concat(e,\" = refToProxy($\").concat(t,\");\")})).join(\"\\n\")).concat(\"\\n\".concat(i.includes(\"context\")?\"var ctx = context;\":\"\",\"\\nvar endResult = function() {\\n  \").concat(t?\"return (\".concat(e,\");\"):e,\";\\n};\\n\\nreturn stringify(endResult());\\n\"))},getIsolateContext=function(){var e=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.serverContext;e||(e=new(safeDynamicRequire(\"isolated-vm\").Isolate)({memoryLimit:128}).createContextSync(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.setServerContext(e));var t=e.global;return t.setSync(\"global\",t.derefInto()),t.setSync(\"log\",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];isDebug()&&console.log.apply(console,e)})),e},isPromise=function(e){return\"function\"==typeof e.then},isRequestInfo=function(e){return!isPromise(e)},BuilderAsyncRequestsContext=react__WEBPACK_IMPORTED_MODULE_2___default().createContext({requests:[],errors:[],logs:[]}),BuilderStoreContext=react__WEBPACK_IMPORTED_MODULE_2___default().createContext({state:{},rootState:{},content:{},context:{},update:function(e){return null}}),applyPatchWithMinimalMutationChain=function(e,t,n){if(void 0===n&&(n=!1),Object(e)!==e)return e;var i=t.path,r=t.op,o=t.value,a=i.split(/\\//);\"\"===a[0]&&a.shift();for(var s=n?e:__assign({},e),l=s,u=0;u<a.length;u++){var d=u===a.length-1,c=a[u];if(d){if(\"replace\"===r)l[c]=o;else if(\"add\"===r){var p=Number(c);Array.isArray(l)?\"-\"===c?l.push(o):l.splice(p,0,o):l[c]=o}else if(\"remove\"===r){p=Number(c);Array.isArray(l)?l.splice(p,1):delete l[c]}}else{var f=a[u+1],m=Object(l[c])===l[c]?l[c]:String(Number(f))===f?[]:{};l=l[c]=Array.isArray(m)?__spreadArray([],m,!0):__assign({},m)}}return s},htmlEscape=function(e){return e.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\")},blockToHtmlString=function(e){var t;return\"<\".concat(htmlEscape(e.tagName||\"div\"),' \\n    class=\"builder-block ').concat(e.id,\" \").concat(e.class||\"\",'\"\\n    builder-id=\"').concat(e.id,'\"\\n  ').concat(Object.keys(e.properties||{}).map((function(t){return\"\".concat(htmlEscape(t),'=\"').concat(htmlEscape(e.properties[t]),'\"')})).join(\" \"),\"\\n  >\").concat(\"Text\"===(null===(t=null==e?void 0:e.component)||void 0===t?void 0:t.name)?e.component.options.text:e.children?e.children.map((function(e){return blockToHtmlString(e)})).join(\"\"):\"\",\"</\").concat(e.tagName||\"div\",\">\").replace(/\\s+/g,\" \")},Link=function(e){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderStoreContext.Consumer,null,(function(t){return t.renderLink?t.renderLink(e):react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"a\",__assign({},e))}))};function traverse(e,t,n,i,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=new WeakSet),null!=e&&\"object\"==typeof e?r.has(e)||(r.add(e),Array.isArray(e)?e.forEach((function(n,i){t(n,(function(t){e[i]=t})),traverse(n,t,e,i,r)})):Object.entries(e).forEach((function(n){var i=n[0],o=n[1];t(o,(function(t){e[i]=t})),traverse(o,t,e,i,r)}))):t(e,(function(e){null!==n&&null!==i&&(n[i]=e)}))}var isLocalizedField=function(e){return e&&\"object\"==typeof e&&\"@builder.io/core:LocalizedValue\"===e[\"@type\"]},containsLocalizedValues=function(e){if(!e||!Object.getOwnPropertyNames(e).length)return!1;var t=!1;return traverse(e,(function(e){isLocalizedField(e)&&(t=!0)})),t},extractLocalizedValues=function(e,t){return e&&Object.getOwnPropertyNames(e).length?(traverse(e,(function(e,n){var i;isLocalizedField(e)&&n(null!==(i=e[t])&&void 0!==i?i:void 0)})),e):{}},camelCaseToKebabCase=function(e){return e?e.replace(/([A-Z])/g,(function(e){return\"-\".concat(e[0].toLowerCase())})):\"\"},kebabCaseToCamelCase=function(e){return void 0===e&&(e=\"\"),e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))},Device={desktop:0,tablet:1,mobile:2};function deepCloneWithConditions(e){if(null===e||\"object\"!=typeof e)return e;if(Array.isArray(e))return e.map((function(e){return deepCloneWithConditions(e)}));if(\"@builder.io/sdk:Element\"===e[\"@type\"])return e;var t={};for(var n in e)\"meta\"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=deepCloneWithConditions(e[n]));return t}var voidElements=new Set([\"area\",\"base\",\"br\",\"col\",\"embed\",\"hr\",\"img\",\"input\",\"link\",\"meta\",\"param\",\"source\",\"track\",\"wbr\",\"textarea\"]),last=function(e){return e[e.length-1]};function omit$1(e,t){for(var n=Object.assign({},e),i=0,r=t;i<r.length;i++){delete n[r[i]]}return n}var cssCase=function(e){if(!e)return e;var t=camelCaseToKebabCase(e);return e[0]===e[0].toUpperCase()&&(t=\"-\"+t),t};function capitalize(e){if(e)return e[0].toUpperCase()+e.slice(1)}var BuilderBlock$1=function(_super){function BuilderBlock(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.hydrated=!1,_this.state={hasError:!1,updates:0},_this.privateState={state:{},rootState:{},context:{},update:function(){}},_this.onWindowMessage=function(event){var message=event.data;if(message)switch(message.type){case\"builder.selectionChange\":var data=message.data;if(!data)break;var selection=data.selection,id=_this.block&&_this.block.id;id&&Array.isArray(selection)&&selection.indexOf(id)>-1&&setTimeout((function(){window.$block=_this,window.$blocks||(window.$blocks=[]),window.$blocks.push(_this)}));break;case\"builder.patchUpdates\":var data=message.data;if(!data||!data.data)break;var patches=data.data[_this.block.id];if(!patches)return;location.href.includes(\"builder.debug=true\")&&eval(\"debugger\");for(var _i=0,patches_1=patches;_i<patches_1.length;_i++){var patch=patches_1[_i];applyPatchWithMinimalMutationChain(_this.props.block,patch,!0)}_this.setState({updates:_this.state.updates+1})}},_this}return __extends(BuilderBlock,_super),Object.defineProperty(BuilderBlock.prototype,\"store\",{get:function(){return this.privateState},enumerable:!1,configurable:!0}),BuilderBlock.getDerivedStateFromError=function(e){return{hasError:!0}},BuilderBlock.prototype.componentDidCatch=function(e,t){console.error(\"Builder block error:\",e,t)},BuilderBlock.prototype.stringToFunction=function(e,t){return void 0===t&&(t=!0),stringToFunction(e,t,this._errors,this._logs)},Object.defineProperty(BuilderBlock.prototype,\"block\",{get:function(){return this.props.block},enumerable:!1,configurable:!0}),BuilderBlock.prototype.emotionCss=function(e){var t,n,i,r,o,a,s,l,u=this.block,d=u.animations&&u.animations[0];if(d&&\"hover\"!==d.trigger){var c=d&&d.steps&&d.steps[0],p=c&&c.styles;p&&(l=p)}var f=sizeNames.slice().reverse(),m={};if(e)for(var h=Boolean(null===(i=null===(n=null===(t=this.privateState.context.builderContent)||void 0===t?void 0:t.meta)||void 0===n?void 0:n.breakpoints)||void 0===i?void 0:i.xsmall),v=0,g=f;v<g.length;v++){var b=g[v];if(h||\"xsmall\"!==b)if(\"large\"===b)this.props.emailMode||(m[\"&.builder-block\"]=Object.assign({},e[b],l));else{var y=getSizesForBreakpoints((null===(o=null===(r=this.privateState.context.builderContent)||void 0===r?void 0:r.meta)||void 0===o?void 0:o.breakpoints)||{});m[\"@media only screen and (max-width: \".concat(y[b].max,\"px)\")]={\"&.builder-block\":e[b]}}}var _=u.animations&&u.animations.find((function(e){return\"hover\"===e.trigger}));return _&&(m[\":hover\"]=(null===(s=null===(a=_.steps)||void 0===a?void 0:a[1])||void 0===s?void 0:s.styles)||{},m.transition=\"all \".concat(_.duration,\"s \").concat(camelCaseToKebabCase(_.easing)),_.delay&&(m.transitionDelay=_.delay+\"s\")),m},BuilderBlock.prototype.eval=function(e){return this.stringToFunction(e)(this.privateState.state,void 0,this.block,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder,Device,this.privateState.update,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,this.privateState.context)},BuilderBlock.prototype.componentWillUnmount=function(){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&removeEventListener(\"message\",this.onWindowMessage)},BuilderBlock.prototype.componentDidMount=function(){var e,t=this;this.hydrated=!0;var n=this.block,i=n&&n.animations;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&addEventListener(\"message\",this.onWindowMessage),i){var r={animations:fastClone(i)};if(n.bindings)for(var o in n.bindings)if((null===(e=o.trim)||void 0===e?void 0:e.call(o))&&o.startsWith(\"animations.\")){var a=this.stringToFunction(n.bindings[o]);void 0!==a&&set(r,o,a(this.privateState.state,null,n,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder,null,null,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,this.privateState.context))}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.animator.bindAnimations(r.animations.filter((function(e){return\"hover\"!==e.trigger})).map((function(e){return __assign(__assign({},e),{elementId:t.block.id})})))}},BuilderBlock.prototype.getElement=function(e,t){var n,i,r,o,a,s,l=this;void 0===e&&(e=0),void 0===t&&(t=this.privateState.state);var u=this.props;u.child,u.fieldName;var d,c=this.block,p=(c.tagName||\"div\").toLowerCase();if(\"template\"===p){var f=c.children?c.children.map((function(e){return blockToHtmlString(e)})).join(\" \"):\"\";return console.debug(\"template html\",f),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"template\",__assign({},c.properties,{dangerouslySetInnerHTML:{__html:f}}))}var m=c.component&&(c.component.name||c.component.component),h=null;c.component&&!c.component.class&&(c.component&&c.component.tag?d=c.component.tag:(h=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.components.find((function(e){return e.name===m}))||null)&&h.class?d=h.class:h&&h.tag?d=h.tag:(null==m?void 0:m.startsWith(\"Builder:\"))?console.warn(\"Missing @builder.io/widgets installation, please install and import @builder.io/widgets to use \".concat(m.split(\":\")[1],\" in your content, more info here: https://github.com/BuilderIO/builder/tree/main/packages/widgets\")):m&&console.warn(\"Missing registration for \".concat(m,\", have you included the registration in your bundle?\")));var v=__assign(__assign({},c.properties),{style:{},responsiveStyles:fastClone(c.responsiveStyles||{})});if(v=__assign(__assign({},v.properties),v),c.component&&(v.component=deepCloneWithConditions(c.component)),c.bindings)for(var g in c.bindings)if(null===(i=g.trim)||void 0===i?void 0:i.call(g)){var b=this.stringToFunction(c.bindings[g]);set(v,g,b(t,null,c,api(),Device,null,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,this.privateState.context))}if(v.hide)return null;if(delete v.hide,(\"show\"in v||c.bindings&&c.bindings.show)&&!v.show)return null;if(delete v.show,c.actions){var y=function(e){if(!(null===(r=e.trim)||void 0===r?void 0:r.call(e)))return\"continue\";var n=c.actions[e];v[\"on\"+capitalize(e)]=function(e){var i=t;return\"undefined\"!=typeof Proxy&&(i=new Proxy(t,{set:function(e,t,n){return e[t]=n,l.privateState.rootState[t]=n,!0}})),l.stringToFunction(n,!1)(i,e,l.block,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder,Device,l.privateState.update,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,l.privateState.context)}};for(var g in c.actions)y(g)}var _=(v.component||v.options)&&__assign(__assign({},v.options),v.component.options||v.component.data);containsLocalizedValues(_)&&(this.privateState.state.locale||console.warn(\"[Builder.io] In order to use localized fields in Builder, you must pass a locale prop to the BuilderComponent or to options object while fetching the content to resolve localized fields. Learn more: https://www.builder.io/c/docs/localization-inline#targeting-and-inline-localization\"),_=extractLocalizedValues(_,null!==(o=this.privateState.state.locale)&&void 0!==o?o:\"Default\"));var x=voidElements.has(p),S=h&&(h.fragment||h.noWrap),k=(null===(a=v.attr)||void 0===a?void 0:a.style)||(\"string\"==typeof v.style?v.style:\"\")||\"\";if(\"string\"==typeof k){\"object\"!=typeof v.style&&(v.style={});for(var B=0,w=k.split(\";\");B<w.length;B++){var C=w[B].split(\":\");if(!C.length)return;g=C[0],b=C[1];g&&(C.length>2&&(b=C.slice(1).join(\":\")),v.style[kebabCaseToCamelCase(g)]=b)}}var E=__assign(__assign(__assign({},omit$1(v,[\"class\",\"component\",\"attr\",\"responsiveStyles\"])),((n={})[\"string\"!=typeof p||p.includes(\"-\")?\"class\":\"className\"]=\"builder-block \".concat(this.id).concat(c.class?\" \".concat(c.class):\"\").concat(!c.component||[\"Image\",\"Video\",\"Banner\"].indexOf(m)>-1?\"\":\" builder-has-component\")+(v.class?\" \"+v.class:\"\")+(this.hydrated&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&(null===(s=this.privateState.state._spacer)||void 0===s?void 0:s.parent)===c.id?\" builder-spacer-parent\":\"\"),n.key=this.id+e,n[\"builder-id\"]=this.id,n)),0!==e&&{\"builder-index\":e});_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&this.hydrated&&(E[\"builder-inline-styles\"]=v.attr&&v.attr.style?Object.keys(v.style).reduce((function(e,t){return(e?\"\".concat(e,\";\"):\"\")+\"\".concat(cssCase(t),\":\").concat(v.style[t],\";\")}),\"\"):\"\"),(E.properties&&E.properties.href||E.href)&&\"div\"===p&&(p=\"a\"),\"a\"===p&&(p=Link);var R=c.children||E.children||[];return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_emotion_core__WEBPACK_IMPORTED_MODULE_1__.ClassNames,null,(function(e){var t=e.css;if(e.cx,!l.props.emailMode){var n=\" \"+t(l.emotionCss(v.responsiveStyles));E.class&&(E.class+=n),E.className&&(E.className+=n)}return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderAsyncRequestsContext.Consumer,null,(function(e){return l._asyncRequests=e&&e.requests,l._errors=e&&e.errors,l._logs=e&&e.logs,x?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(p,__assign({},E)):d&&(S||l.props.emailMode)?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(d,__assign({},_,{attributes:E,builderBlock:c,builderState:l.privateState})):(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(p,__assign({},E),d&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(d,__assign({builderState:l.privateState,builderBlock:c},_)),c.text||v.text?v.text:!d&&R&&Array.isArray(R)&&R.length?R.map((function(e,t){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlock,{key:(l.id||\"\")+t,block:e,index:t,size:l.props.size,fieldName:l.props.fieldName,child:l.props.child,emailMode:l.props.emailMode})})):null)}))})))},Object.defineProperty(BuilderBlock.prototype,\"id\",{get:function(){var e=this.block;return e.id&&!e.id.startsWith(\"builder\")?\"builder-\"+e.id:e.id||\"\"},enumerable:!1,configurable:!0}),BuilderBlock.prototype.contents=function(e){var t=this,n=this.block;if(this.privateState=e,n.repeat&&n.repeat.collection){var i=n.repeat.collection,r=last((i||\"\").trim().split(\"(\")[0].trim().split(\".\")),o=n.repeat.itemName||(r?r+\"Item\":\"item\"),a=this.stringToFunction(i)(e.state,null,n,api(),Device,null,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,this.privateState.context);return Array.isArray(a)?a.map((function(n,i){var r,a=__assign(__assign({},e.state),((r={$index:i,$item:n})[o]=n,r[\"$\".concat(o,\"Index\")]=i,r));return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Provider,{key:i,value:__assign(__assign({},e),{state:a})},t.getElement(i,a))})):null}return this.getElement()},BuilderBlock.prototype.render=function(){var e=this;return this.state.hasError?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\",{css:{display:\"inline-block\",padding:5,color:\"#999\",fontSize:11,fontStyle:\"italic\"}},\"Builder block error :( Check console for details\"):(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Consumer,null,(function(t){return e.contents(t)}))},BuilderBlock}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),BuilderBlocks=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hydrated=!1,t.onClickEmptyBlocks=function(){var e;_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isIframe&&t.noBlocks&&(null===(e=window.parent)||void 0===e||e.postMessage({type:\"builder.clickEmptyBlocks\",data:{parentElementId:t.parentId,dataPath:t.path}},\"*\"))},t.onHoverEmptyBlocks=function(){var e;_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&t.noBlocks&&(null===(e=window.parent)||void 0===e||e.postMessage({type:\"builder.hoverEmptyBlocks\",data:{parentElementId:t.parentId,dataPath:t.path}},\"*\"))},t}return __extends(t,e),Object.defineProperty(t.prototype,\"isRoot\",{get:function(){return!this.props.child},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"noBlocks\",{get:function(){var e=this.props.blocks;return!(e&&e.length)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"path\",{get:function(){var e=this.props.dataPath||\"\";return e.trim()&&(e.startsWith(\"this.\")?e=e.replace(\"this.\",\"\"):e.startsWith(\"component.options.\")||(e=\"component.options.\"+e)),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"parentId\",{get:function(){return this.props.parentElementId?this.props.parentElementId:this.props.parent&&this.props.parent.id},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.hydrated=!0},t.prototype.render=function(){var e=this,t=this.props.blocks,n=this.props.emailMode?\"span\":\"div\";return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(n,__assign({className:\"builder-blocks\"+(this.noBlocks?\" no-blocks\":\"\")+(this.props.child?\" builder-blocks-child\":\"\")+(this.props.className?\" \"+this.props.className:\"\"),\"builder-type\":\"blocks\",\"builder-path\":_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isIframe&&this.hydrated?this.path:void 0,\"builder-parent-id\":this.parentId,css:__assign(__assign({},!this.props.emailMode&&{display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\"}),this.props.style),onClick:function(){e.noBlocks&&e.onClickEmptyBlocks()}},_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&{onMouseEnter:function(){return e.onHoverEmptyBlocks()}}),t&&Array.isArray(t)&&t.map((function(t,n){return t&&\"@builder.io/sdk:Element\"===t[\"@type\"]?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlock$1,{key:t.id,block:t,index:n,fieldName:e.props.fieldName,child:e.props.child,emailMode:e.props.emailMode}):t}))||t)},t.renderInto=function(e,n,i){if(void 0===n&&(n={}),e){var r=null;return\"string\"==typeof e?r=document.querySelector(e):e instanceof Element&&(r=e),react_dom__WEBPACK_IMPORTED_MODULE_3___default().render((0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Provider,{value:i},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(t,__assign({},n))),r)}},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),NoWrap=function(e){return e.children};function getData(e){if(void 0!==(null==e?void 0:e.data)){var t=e.data,n=t.blocks,i=t.blocksString,r=Array.isArray(n)||\"string\"==typeof i,o=__assign(__assign({},e.data),r&&{blocks:n||JSON.parse(i)});return delete o.blocksString,o}}var variantsScript=function(e,t){return\"\\n(function() {\\n  if (window.builderNoTrack || !navigator.cookieEnabled) {\\n    return;\\n  }\\n\\n  var variants = \".concat(e,\";\\n  function removeVariants() {\\n    variants.forEach(function (template) {\\n      document.querySelector('template[data-template-variant-id=\\\"' + template.id + '\\\"]').remove();\\n    });\\n    document.getElementById('variants-script-\").concat(t,'\\').remove();\\n  }\\n\\n  if (typeof document.createElement(\"template\").content === \\'undefined\\') {\\n    removeVariants();\\n    return ;\\n  }\\n\\n  function setCookie(name,value,days) {\\n    var expires = \"\";\\n    if (days) {\\n        var date = new Date();\\n        date.setTime(date.getTime() + (days*24*60*60*1000));\\n        expires = \"; expires=\" + date.toUTCString();\\n    }\\n    document.cookie = name + \"=\" + (value || \"\")  + expires + \"; path=/\" + \"; Secure; SameSite=None\";\\n  }\\n\\n  function getCookie(name) {\\n    var nameEQ = name + \"=\";\\n    var ca = document.cookie.split(\\';\\');\\n    for(var i=0;i < ca.length;i++) {\\n        var c = ca[i];\\n        while (c.charAt(0)==\\' \\') c = c.substring(1,c.length);\\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\\n    }\\n    return null;\\n  }\\n  var cookieName = \\'builder.tests.').concat(t,\"';\\n  var variantInCookie = getCookie(cookieName);\\n  var availableIDs = variants.map(function(vr) { return vr.id }).concat('\").concat(t,\"');\\n  var variantId;\\n  if (availableIDs.indexOf(variantInCookie) > -1) {\\n    variantId = variantInCookie;\\n  }\\n  if (!variantId) {\\n    var n = 0;\\n    var random = Math.random();\\n    for (var i = 0; i < variants.length; i++) {\\n      var variant = variants[i];\\n      var testRatio = variant.testRatio;\\n      n += testRatio;\\n      if (random < n) {\\n        setCookie(cookieName, variant.id);\\n        variantId = variant.id;\\n        break;\\n      }\\n    }\\n    if (!variantId) {\\n      variantId = \\\"\").concat(t,'\";\\n      setCookie(cookieName, \"').concat(t,'\");\\n    }\\n  }\\n  if (variantId && variantId !== \"').concat(t,\"\\\") {\\n    var winningTemplate = document.querySelector('template[data-template-variant-id=\\\"' + variantId + '\\\"]');\\n    if (winningTemplate) {\\n      var parentNode = winningTemplate.parentNode;\\n      var newParent = parentNode.cloneNode(false);\\n      newParent.appendChild(winningTemplate.content.firstChild);\\n      parentNode.parentNode.replaceChild(newParent, parentNode);\\n    }\\n  } else if (variants.length > 0) {\\n    removeVariants();\\n  }\\n})()\").replace(/\\s+/g,\" \")},VariantsProvider=function(e){var t=e.initialContent,n=e.children,i=e.nonce;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.canTrack)return n([t]);if(!Boolean(Object.keys((null==t?void 0:t.variations)||{}).length))return n([t]);var r=Object.keys(t.variations).map((function(e){return __assign(__assign({id:e},t.variations[e]),{data:getData(t.variations[e])})})),o=__spreadArray(__spreadArray([],r,!0),[t],!1);if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer){var a=JSON.stringify(Object.keys(t.variations||{}).map((function(e){return{id:e,testRatio:t.variations[e].testRatio}})));return react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,n(o,(function(){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"script\",{nonce:i,id:\"variants-script-\".concat(t.id),dangerouslySetInnerHTML:{__html:variantsScript(a,t.id)}})})))}var s=\"builder.tests.\".concat(t.id),l=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.getCookie(s);if(!l&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser)for(var u=0,d=Math.random(),c=0;c<r.length;c++){var p=r[c];if(d<(u+=p.testRatio)){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.setCookie(s,p.id),l=p.id;break}}return l||(l=t.id,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.setCookie(s,l)),n([o.find((function(e){return e.id===l}))])},BuilderContent=function(_super){function BuilderContent(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.ref=null,_this.state={loading:!_this.props.content,data:getContentWithInfo(_this.props.content),updates:1},_this.onWindowMessage=function(event){var _a,_b,isTrusted=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isTrustedHostForEvent(event);if(isTrusted){var message=event.data;if(message)switch(message.type){case\"builder.patchUpdates\":if(null===(_a=_this.props.options)||void 0===_a?void 0:_a.noEditorUpdates)return;var data=message.data;if(!data||!data.data)break;var patches=data.data[null===(_b=_this.state.data)||void 0===_b?void 0:_b.id];if(!patches||!patches.length)return;location.href.includes(\"builder.debug=true\")&&eval(\"debugger\");for(var newData=_this.state.data,_i=0,patches_1=patches;_i<patches_1.length;_i++){var patch=patches_1[_i];newData=applyPatchWithMinimalMutationChain(newData,patch,!1)}_this.setState({updates:_this.state.updates+1,data:newData}),_this.props.contentLoaded&&_this.props.contentLoaded(newData.data,newData)}}},_this.subscriptions=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Subscription,_this.firstLoad=!0,_this.clicked=!1,_this.trackedImpression=!1,_this.intersectionObserver=null,_this.onClick=function(e){var t=e.nativeEvent,n=_this.data;n&&(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.autoTrack&&_this.builder.trackInteraction(n.id,_this.renderedVariantId,_this.clicked,t,{content:n}),_this.clicked||(_this.clicked=!0))},_this}return __extends(BuilderContent,_super),Object.defineProperty(BuilderContent.prototype,\"builder\",{get:function(){return this.props.builder||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder},enumerable:!1,configurable:!0}),Object.defineProperty(BuilderContent.prototype,\"name\",{get:function(){var e=this.props;return\"model\"in e?e.model:e.modelName},enumerable:!1,configurable:!0}),Object.defineProperty(BuilderContent.prototype,\"renderedVariantId\",{get:function(){var e,t,n=this.props.isStatic?this.builder.getCookie(\"builder.tests.\".concat(null===(e=this.data)||void 0===e?void 0:e.id)):null===(t=this.data)||void 0===t?void 0:t.variationId;if(null!==n)return n},enumerable:!1,configurable:!0}),Object.defineProperty(BuilderContent.prototype,\"options\",{get:function(){var e,t,n=__assign({},this.props.options||{});return n.key||!(null===(e=this.props.content)||void 0===e?void 0:e.id)||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing||(n.key=this.props.content.id),!this.props.content||(null===(t=n.initialContent)||void 0===t?void 0:t.length)||!this.props.inline&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing||(n.initialContent=[this.props.content]),n},enumerable:!1,configurable:!0}),Object.defineProperty(BuilderContent.prototype,\"data\",{get:function(){var e=(this.props.inline||!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||this.firstLoad)&&this.options.initialContent&&this.options.initialContent[0]||this.state.data;return getContentWithInfo(e)},enumerable:!1,configurable:!0}),BuilderContent.prototype.componentDidMount=function(){var e,t;if(!this.props.inline||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing)this.subscribeToContent();else if(this.props.inline&&(null===(t=null===(e=this.options)||void 0===e?void 0:e.initialContent)||void 0===t?void 0:t.length)){var n=this.options.initialContent[0];(null==n?void 0:n.id)&&this.builder.trackImpression(n.id,this.renderedVariantId,void 0,{content:n})}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&addEventListener(\"message\",this.onWindowMessage)},BuilderContent.prototype.subscribeToContent=function(){var e=this;\"_inline\"!==this.name&&this.subscriptions.add(this.builder.queueGetContent(this.name,this.options).subscribe((function(t){var n=t&&t[0];e.setState({data:n,loading:!1});var i=(e.builder.editingModel||e.builder.previewingModel)===e.name;if(!e.props.inline&&e.props.content&&e.firstLoad&&i&&(e.firstLoad=!1,e.subscriptions.unsubscribe(),e.subscribeToContent()),n&&e.firstLoad&&(e.firstLoad=!1,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.autoTrack&&!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing)){var r=!1;if(\"function\"==typeof IntersectionObserver&&e.ref)try{(e.intersectionObserver=new IntersectionObserver((function(t,i){t.forEach((function(t){t.intersectionRatio>0&&!e.trackedImpression&&(e.builder.trackImpression(n.id,e.renderedVariantId,void 0,{content:e.data}),e.data,e.trackedImpression=!0,e.ref&&i.unobserve(e.ref))}))}))).observe(e.ref),r=!0}catch(e){console.warn(\"Could not bind intersection observer\")}r||(e.trackedImpression=!0,e.builder.trackImpression(n.id,e.renderedVariantId,void 0,{content:n}))}e.props.contentLoaded&&e.props.contentLoaded(n&&n.data,n)}),(function(t){e.props.contentError&&(e.props.contentError(t),e.setState({loading:!1}))})))},BuilderContent.prototype.componentWillUnmount=function(){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&removeEventListener(\"message\",this.onWindowMessage),this.subscriptions.unsubscribe(),this.intersectionObserver&&this.ref&&this.intersectionObserver.unobserve(this.ref)},BuilderContent.prototype.render=function(){var e=this;if(this.props.dataOnly)return null;var t=this.state.loading,n=this.data,i=this.props.dataOnly?NoWrap:\"div\";return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(VariantsProvider,{initialContent:n,nonce:this.props.nonce},(function(r,o){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,r.map((function(a,s){var l=s===r.length-1?(react__WEBPACK_IMPORTED_MODULE_2___default().Fragment):\"template\";return react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),{key:String((null==a?void 0:a.id)+s)},\"template\"!==l&&(null==o?void 0:o()),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(l,__assign({key:String((null==a?void 0:a.id)+s)},\"template\"===l&&{\"data-template-variant-id\":null==a?void 0:a.id}),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(i,__assign({},0===s&&!e.props.dataOnly&&{ref:function(t){return e.ref=t}},{className:\"builder-content\",onClick:e.onClick,\"builder-content-id\":null==a?void 0:a.id,\"builder-model\":e.name}),e.props.children(null==a?void 0:a.data,!e.props.inline&&t,n))))})))}))},BuilderContent}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),getContentWithInfo=function(e){var t;if(e){var n=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.getCookie(\"builder.tests.\".concat(e.id)),i=n===e.id?e:null===(t=e.variations)||void 0===t?void 0:t[n],r=(null==i?void 0:i.name)||((null==i?void 0:i.id)===e.id?\"Default variation\":\"\");return __assign(__assign({},e),{variationId:n,testVariationId:n,testVariationName:r})}return null};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var onChange_1=createCommonjsModule((function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0});var n=Symbol(\"target\"),i=Symbol(\"unsubscribe\"),r=function(e,t){return t&&t.toString&&(e&&(e+=\".\"),e+=t.toString()),e},o=function(e){return Array.isArray(e)?e.slice():Object.assign({},e)},a=function(e,t,a){if(\"undefined\"==typeof Proxy)return e;void 0===a&&(a={});var s,l,u=Symbol(\"ProxyTarget\"),d=!1,c=!1,p=!1,f=a.equals||Object.is,m=new WeakMap,h=new WeakMap,v=new WeakMap,g=function(e,n,i,a){if(!p)if(d){if(d&&l&&void 0!==i&&void 0!==a&&\"length\"!==n){var u=l;e!==s&&function(e,t){for(var n;e;)-1===(n=e.indexOf(\".\"))&&(n=e.length),t(e.slice(0,n)),e=e.slice(n+1)}(e=e.replace(s,\"\").slice(1),(function(e){u[e]=o(u[e]),u=u[e]})),u[n]=i}c=!0}else t(r(e,n),a,i)},b=function(e,t){var n=m?m.get(e):void 0;n&&n.delete(t)},y=function(e,t){if(p)return e;h.set(e,t);var n=v.get(e);return void 0===n&&(n=new Proxy(e,x),v.set(e,n)),n},_=function(e){return p||!0===a.ignoreSymbols&&\"symbol\"==typeof e},x={get:function(e,t,o){if(t===u||t===n)return e;if(t===i&&\"\"===h.get(e))return function(e){return p=!0,m=null,h=null,v=null,e}(e);var s=Reflect.get(e,t,o);if(function(e){return null===e||\"object\"!=typeof e&&\"function\"!=typeof e}(s)||function(e){return e instanceof RegExp||e instanceof Number}(s)||\"constructor\"===t||!0===a.isShallow)return s;var l=function(e,t){var n=m?m.get(e):void 0;if(n)return n;n=new Map,m.set(e,n);var i=n.get(t);return i||(i=Reflect.getOwnPropertyDescriptor(e,t),n.set(t,i)),i}(e,t);if(l&&!l.configurable){if(l.set&&!l.get)return;if(!1===l.writable)return s}return y(s,r(h.get(e),t))},set:function(e,t,n,i){n&&void 0!==n[u]&&(n=n[u]);var r=_(t),o=r?null:Reflect.get(e,t,i),a=Reflect.set(e[u]||e,t,n);return r||f(o,n)||g(h.get(e),t,o,n),a},defineProperty:function(e,t,n){var i=Reflect.defineProperty(e,t,n);return _(t)||(b(e,t),g(h.get(e),t,void 0,n.value)),i},deleteProperty:function(e,t){if(!Reflect.has(e,t))return!0;var n=_(t),i=n?null:Reflect.get(e,t),r=Reflect.deleteProperty(e,t);return n||(b(e,t),g(h.get(e),t,i)),r},apply:function(e,t,n){var i=t instanceof Date;if(i&&(t=t[u]),!d){d=!0,i&&(l=t.valueOf()),(Array.isArray(t)||\"[object Object]\"===toString.call(t))&&(l=o(t[u])),s=(s=h.get(e)).slice(0,Math.max(s.lastIndexOf(\".\"),0));var r=Reflect.apply(e,t,n);return d=!1,(c||i&&!f(l,t.valueOf()))&&(g(s,\"\",l,t[u]||t),l=null,c=!1),r}return Reflect.apply(e,t,n)}},S=y(e,\"\");return t=t.bind(S),S};a.target=function(e){return e[n]||e},a.unsubscribe=function(e){return e[i]||e},e.exports=a,t.default=a})),onChange=unwrapExports(onChange_1),nextTick=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick;function debounceNextTick(e,t,n){return void 0===t&&\"function\"==typeof e?debounceNextTickImpl(e):{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,t,{configurable:!0,enumerable:n.enumerable,value:debounceNextTickImpl(n.value)}),this[t]}}}function debounceNextTickImpl(e){var t=null,n=null;return function(){var e=t;if(t=[].slice.call(arguments),n=this,null!==e)return;nextTick(i)};function i(){e.apply(n,t),t=null,n=null}}function throttle(e,t,n){var i,r,o;void 0===n&&(n={});var a=null,s=0,l=function(){s=!1===n.leading?0:Date.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var u=Date.now();s||!1!==n.leading||(s=u);var d=t-(u-s);return i=this,r=arguments,d<=0||d>t?(a&&(clearTimeout(a),a=null),s=u,o=e.apply(i,r),a||(i=r=null)):a||!1===n.trailing||(a=setTimeout(l,d)),o}}var BuilderMetaContext=react__WEBPACK_IMPORTED_MODULE_2___default().createContext({emailMode:!1,ampMode:!1,isServer:!1}),tryEval=function(e,t,n){void 0===t&&(t={});var i=e;if(\"string\"==typeof i&&i.trim()){var r=!(i.includes(\";\")||i.includes(\" return \")),o=function(){};try{_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(o=new Function(\"state\",\"var rootState = state;\\n        if (typeof Proxy !== 'undefined') {\\n          rootState = new Proxy(rootState, {\\n            set: function () {\\n              return false;\\n            },\\n            get: function (target, key) {\\n              if (key === 'state') {\\n                return state;\\n              }\\n              return target[key]\\n            }\\n          });\\n        }\\n        with (rootState) {\\n          \".concat(r?\"return (\".concat(e,\");\"):e,\";\\n        }\")))}catch(e){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&console.warn(\"Could not compile javascript\",e)}try{if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||shouldForceBrowserRuntimeInNode())return o(t||{});var a=safeDynamicRequire(\"isolated-vm\"),s=getIsolateContext(),l=makeFn(e,r,[\"state\"]),u=s.evalClosureSync(l,[new a.Reference(t||{})]);try{return JSON.parse(u)}catch(e){return u}}catch(t){n&&n.push(t),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser?console.warn(\"Builder custom code error:\",t.message,\"in\",e,t.stack):isDebug()&&console.debug(\"Builder custom code error:\",t.message,\"in\",e,t.stack)}}};function toError(e){return e instanceof Error?e:new Error(String(e))}function getBuilderPixel(e){return{id:\"builder-pixel-\"+Math.random().toString(36).split(\".\")[1],\"@type\":\"@builder.io/sdk:Element\",tagName:\"img\",properties:{role:\"presentation\",\"aria-hidden\":\"true\",src:\"https://cdn.builder.io/api/v1/pixel?apiKey=\".concat(e)},responsiveStyles:{large:{height:\"0\",width:\"0\",display:\"inline-block\",opacity:\"0\",overflow:\"hidden\",pointerEvents:\"none\"}}}}function pick(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i={};return t.forEach((function(t){i[t]=e[t]})),i}function omit(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=__assign({},e);return t.forEach((function(e){delete i[e]})),i}var instancesMap=new Map,wrapComponent=function(e){return function(t){var n,i=t.builderTag||\"div\",r=[\"children\"].concat((null===(n=e.inputs)||void 0===n?void 0:n.map((function(e){return e.name})))||[]),o=omit.apply(void 0,__spreadArray(__spreadArray([t],r,!1),[\"attributes\"],!1)),a=t;return e.noWrap?react__WEBPACK_IMPORTED_MODULE_2___default().createElement(e.class,__assign({attributes:o},a)):react__WEBPACK_IMPORTED_MODULE_2___default().createElement(i,__assign({},o),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(e.class,__assign({},a)))}},size$1=function(e){return Object.keys(e).length};function debounce(e,t,n){var i;return void 0===n&&(n=!1),function(){var r=this,o=arguments;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(r,o)}),t),n&&!i&&e.apply(r,o)}}var fontsLoaded=new Set,fetch$1;globalThis.fetch&&(fetch$1=globalThis.fetch),null!=fetch$1||(fetch$1=__webpack_require__(/*! node-fetch */ \"(ssr)/./node_modules/node-fetch/lib/index.mjs\"));var sizeMap={desktop:\"large\",tablet:\"medium\",mobile:\"small\",xsmall:\"xsmall\"},fetchCache={};function searchToObject$1(e){var t=(e.search||\"\").substring(1).split(\"&\"),n={};for(var i in t)if(t[i]&&\"string\"==typeof t[i]){var r=t[i].split(\"=\");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return n}var BuilderComponent=function(e){function t(t){var n,i,r=this;(r=e.call(this,t)||this).subscriptions=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Subscription,r.onStateChange=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.BehaviorSubject(null),r.asServer=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer,r.contentRef=null,r.styleRef=null,r.rootState=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer?{}:onChange({},(function(){return r.updateState()})),r.lastJsCode=\"\",r.lastHttpRequests={},r.httpSubscriptionPerKey={},r.firstLoad=!0,r.ref=null,r.messageListener=function(e){var t;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isTrustedHostForEvent(e)){var n=e.data;switch(n.type){case\"builder.configureSdk\":var i=n.data;if(!i.contentId||i.contentId!==(null===(t=r.useContent)||void 0===t?void 0:t.id))return;r.sizes=getSizesForBreakpoints(i.breakpoints||{}),r.setState({state:Object.assign(r.rootState,{deviceSize:r.deviceSizeState,device:r.device}),updates:(r.state&&r.state.updates||0)+1,breakpoints:i.breakpoints});break;case\"builder.updateSpacer\":var o=n.data;r.rootState._spacer,r.updateState((function(e){e._spacer=o}));break;case\"builder.resetState\":var a=n.data,s=a.state;if(a.model===r.name){for(var l in r.rootState)\"function\"!=typeof r.rootState[l]&&delete r.rootState[l];Object.assign(r.rootState,s),r.setState(__assign(__assign({},r.state),{state:r.rootState,updates:(r.state&&r.state.updates||0)+1}))}break;case\"builder.resetSymbolState\":var u=n.data.state,d=(s=u.state,u.model,u.id);if(r.props.builderBlock&&r.props.builderBlock===d){for(var l in r.rootState)delete r.rootState[l];Object.assign(r.rootState,s),r.setState(__assign(__assign({},r.state),{state:r.rootState,updates:(r.state&&r.state.updates||0)+1}))}}}},r.resizeFn=function(){var e=r.deviceSizeState;e!==r.state.state.deviceSize&&r.setState(__assign(__assign({},r.state),{updates:(r.state&&r.state.updates||0)+1,state:Object.assign(r.rootState,__assign(__assign({},r.state.state),{deviceSize:e}))}))},r.resizeListener=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing?throttle(r.resizeFn,200):debounce(r.resizeFn,400),r.mounted=!1,r.updateState=function(e){var t=r.rootState;e&&e(t),r.mounted?r.setState({update:r.updateState,state:t,updates:(r.state&&r.state.updates||0)+1}):r.state=__assign(__assign({},r.state),{update:r.updateState,state:t,updates:(r.state&&r.state.updates||0)+1}),r.notifyStateChange()},r.onContentLoaded=function(e,t){if(\"page\"===r.name&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&e){var n=e.title,i=e.pageTitle,o=e.description,a=e.pageDescription;if((n||i)&&(document.title=n||i),o||a){var s=document.querySelector('meta[name=\"description\"]');s||((s=document.createElement(\"meta\")).setAttribute(\"name\",\"description\"),document.head.appendChild(s)),s.setAttribute(\"content\",o||a)}}if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&r.notifyStateChange(),r.props.contentLoaded&&r.props.contentLoaded(e,t),e&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length&&(e.state||(e.state={}),e.inputs.forEach((function(t){t&&t.name&&void 0!==t.defaultValue&&void 0===e.state[t.name]&&(e.state[t.name]=t.defaultValue)}))),e&&e.state){var l=__assign(__assign({},r.state),{updates:(r.state&&r.state.updates||0)+1,state:Object.assign(r.rootState,__assign(__assign(__assign(__assign(__assign({},r.state.state),{location:r.locationState,device:r.device}),e.state),r.externalState),{deviceSize:r.deviceSizeState}))});r.mounted?r.setState(l):r.state=l}if(e&&e.jsCode&&!r.options.codegen){var u=!1;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&(r.lastJsCode===e.jsCode?u=!0:r.lastJsCode=e.jsCode),!u){var d=r.state.state;try{new Function(\"data\",\"ref\",\"state\",\"update\",\"element\",\"Builder\",\"builder\",\"context\",e.jsCode)(e,r,d,r.state.update,r.ref,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder,r.state.context)}catch(t){var c=toError(t);_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser?console.warn(\"Builder custom code error:\",c.message,\"in\",e.jsCode,c.stack):isDebug()&&console.debug(\"Builder custom code error:\",c.message,\"in\",e.jsCode,c.stack)}}}if(e&&e.httpRequests&&!r.props.noAsync&&!(u=!1)){var p=function(t){var n=e.httpRequests[t];if(n&&(!r.data[t]||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing)){var i=\"object\"==typeof n&&\"@builder.io/core:Request\"===n[\"@type\"];if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser){var o=i?r.evalExpression(n.request.url):r.evalExpression(n);if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&r.lastHttpRequests[t]===o)return\"continue\";r.lastHttpRequests[t]=o,i?r.handleRequest(t,{url:o,method:n.request.method,body:n.request.body,headers:n.request.headers}):r.handleRequest(t,{url:o,method:\"GET\"});var a=r.httpSubscriptionPerKey[t];a&&a.unsubscribe();var s=r.httpSubscriptionPerKey[t]=r.onStateChange.subscribe((function(){var e=i?r.evalExpression(n.request.url):r.evalExpression(n);e!==o&&(i?r.handleRequest(t,{url:e,method:n.request.method,body:n.request.body,headers:n.request.headers}):r.handleRequest(t,{url:e,method:\"GET\"}),r.lastHttpRequests[t]=e)}));r.subscriptions.add(s)}else i?r.handleRequest(t,{url:r.evalExpression(n.request.url),method:n.request.method,body:n.request.body,headers:n.request.headers}):r.handleRequest(t,{url:r.evalExpression(n),method:\"GET\"})}};for(var f in e.httpRequests)p(f)}};var o=r.inlinedContent;o&&o.content&&(o=o.content),r.sizes=getSizesForBreakpoints((null===(n=null==o?void 0:o.meta)||void 0===n?void 0:n.breakpoints)||{});var a=null===(i=r.inlinedContent)||void 0===i?void 0:i.data;a&&Array.isArray(a.inputs)&&a.inputs.length>0&&(a.state||(a.state={}),a.inputs.forEach((function(e){e&&e.name&&void 0!==e.defaultValue&&void 0===a.state[e.name]&&(a.state[e.name]=e.defaultValue)}))),r.state={context:__assign(__assign({},t.context),{apiKey:r.props.apiKey||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.apiKey,nonce:r.props.nonce}),state:Object.assign(r.rootState,__assign(__assign(__assign(__assign({},r.inlinedContent&&r.inlinedContent.data&&r.inlinedContent.data.state),{isBrowser:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser,isServer:!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser,_hydrate:t.hydrate,location:r.locationState,deviceSize:r.deviceSizeState,device:r.device}),r.getHtmlData()),t.data)),updates:0,key:0,update:r.updateState};var s=r.props.apiKey;if(s&&s!==r.builder.apiKey&&!instancesMap.has(s)){var l=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder(s,void 0,void 0,!0);instancesMap.set(s,l)}if(r.inlinedContent){var u=r.inlinedContent.content||r.inlinedContent;r.onContentLoaded(null==u?void 0:u.data,getContentWithInfo(u))}return r.registerCustomComponents(),r}return __extends(t,e),Object.defineProperty(t.prototype,\"options\",{get:function(){return __assign(__assign({},t.defaults),this.props)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"name\",{get:function(){return this.props.model||this.props.modelName||this.props.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"element\",{get:function(){return this.ref},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"inlinedContent\",{get:function(){if(!this.isPreviewing||this.props.inlineContent)return this.props.content},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"builder\",{get:function(){return this.props.apiKey&&instancesMap.get(this.props.apiKey)||this.props.builder||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder},enumerable:!1,configurable:!0}),t.prototype.getHtmlData=function(){var e=this.inlinedContent&&this.inlinedContent.id||this.props.entry,t=e&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&document.querySelector('script[data-builder-json=\"'.concat(e,'\"],script[data-builder-state=\"').concat(e,'\"]'));if(t)try{return JSON.parse(t.innerText)}catch(e){console.warn(\"Could not parse Builder.io HTML data transfer\",e,t.innerText)}return{}},Object.defineProperty(t.prototype,\"device\",{get:function(){return this.builder.getUserAttributes().device||\"desktop\"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"locationState\",{get:function(){return __assign(__assign({},pick(this.location,\"pathname\",\"hostname\",\"search\",\"host\")),{path:this.location.pathname&&this.location.pathname.split(\"/\").slice(1)||\"\",query:searchToObject$1(this.location)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"deviceSizeState\",{get:function(){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser?this.sizes.getSizeForWidth(window.innerWidth):sizeMap[this.device]||\"large\"},enumerable:!1,configurable:!0}),t.renderInto=function(e,n,i,r){if(void 0===n&&(n={}),void 0===i&&(i=!0),void 0===r&&(r=!1),console.debug(\"BuilderPage.renderInto\",e,n,i,this),e){var o=null;if(\"string\"==typeof e?o=document.querySelector(e):e instanceof Element&&(o=e),o){var a=o.classList.contains(\"builder-hydrated\");if(!a||r){o.classList.add(\"builder-hydrated\");var s=i&&o.innerHTML.includes(\"builder-block\");if(!o.classList.contains(\"builder-component\")){var l=o.querySelector(\".builder-api-styles\")||(o.previousElementSibling&&o.previousElementSibling.matches(\".builder-api-styles\")?o.previousElementSibling:null),u=\"\";if(l)l.innerHTML.replace(/\\/\\*start:([^\\*]+?)\\*\\/([\\s\\S]*?)\\/\\*end:([^\\*]+?)\\*\\//g,(function(e,t,n){var i=null;try{i=document.querySelector('[data-emotion-css=\"'.concat(t,'\"]'))}catch(e){console.warn(e)}return i?i.innerHTML=n:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||(u+=e),e})),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick((function(){l.innerHTML=u}));var d=o.querySelector(\".builder-component\");d?o=d:s=!1}location.search.includes(\"builder.debug=true\")&&console.debug(\"hydrate\",s,o);var c=o;if(!a){var p=document.createElement(\"div\");o.insertAdjacentElement(\"beforebegin\",p),p.appendChild(o),c=p}if((_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&location.search.includes(\"builder.preview=\"))&&(s=!1),s&&o){var f=react_dom__WEBPACK_IMPORTED_MODULE_3___default().render(react__WEBPACK_IMPORTED_MODULE_2___default().createElement(t,__assign({},n)),c,c.builderRootRef);return c.builderRootRef=f,f}var m=react_dom__WEBPACK_IMPORTED_MODULE_3___default().render(react__WEBPACK_IMPORTED_MODULE_2___default().createElement(t,__assign({},n)),c,c.builderRootRef);return c.builderRootRef=m,m}console.debug(\"Tried to hydrate multiple times\")}}},t.prototype.registerCustomComponents=function(){if(this.props.customComponents)for(var e=0,t=this.props.customComponents;e<t.length;e++){var n=t[e];if(n){var i=n.component,r=__rest(n,[\"component\"]);_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(i,r)}}},t.prototype.componentDidMount=function(){var e,t=this;this.mounted=!0,this.asServer&&(this.asServer=!1,this.updateState((function(e){e.isBrowser=!0,e.isServer=!1}))),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isIframe&&(null===(e=window.parent)||void 0===e||e.postMessage({type:\"builder.sdkInjected\",data:{modelName:this.name,apiKey:this.props.apiKey||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.apiKey}},\"*\")),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(window.addEventListener(\"resize\",this.resizeListener),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&window.addEventListener(\"message\",this.messageListener),(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing)&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick((function(){t.firstLoad=!1,t.reload()})),setTimeout((function(){window.dispatchEvent(new CustomEvent(\"builder:component:load\",{detail:{ref:t}}))})))},Object.defineProperty(t.prototype,\"isPreviewing\",{get:function(){return(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing&&!this.firstLoad)&&(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.previewingModel===this.name||\"BUILDER_STUDIO\"===_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.previewingModel)},enumerable:!1,configurable:!0}),t.prototype.notifyStateChange=function(){if(!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer&&this&&this.state){var e=this.state.state;this.props.onStateChange&&this.props.onStateChange(e),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&window.dispatchEvent(new CustomEvent(\"builder:component:stateChange\",{detail:{state:e,ref:this}})),this.onStateChange.next(e)}},t.prototype.processStateFromApi=function(e){return e},Object.defineProperty(t.prototype,\"location\",{get:function(){return this.props.location||(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser?location:{})},enumerable:!1,configurable:!0}),t.prototype.getCssFromFont=function(e,t){var n=e.family+(e.kind&&!e.kind.includes(\"#\")?\", \"+e.kind:\"\"),i=n.split(\",\")[0],r=e.fileUrl?e.fileUrl:e.files&&e.files.regular,o=\"\";if(r&&n&&i&&(o+='\\n@font-face {\\n  font-family: \"'.concat(n,'\";\\n  src: local(\"').concat(i,\"\\\"), url('\").concat(r,\"') format('woff2');\\n  font-display: fallback;\\n  font-weight: 400;\\n}\\n        \").trim()),e.files)for(var a in e.files){if(String(Number(a))===a){var s=e.files[a];s&&s!==r&&(o+='\\n@font-face {\\n  font-family: \"'.concat(n,\"\\\";\\n  src: url('\").concat(s,\"') format('woff2');\\n  font-display: fallback;\\n  font-weight: \").concat(a,\";\\n}\\n          \").trim())}}return o},t.prototype.componentWillUnmount=function(){this.unsubscribe(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(window.removeEventListener(\"resize\",this.resizeListener),window.removeEventListener(\"message\",this.messageListener))},t.prototype.getFontCss=function(e){var t=this;return this.builder.allowCustomFonts&&(null==e?void 0:e.customFonts)&&e.customFonts.length&&e.customFonts.map((function(n){return t.getCssFromFont(n,e)})).join(\" \")||\"\"},t.prototype.ensureFontsLoaded=function(e){if(this.builder.allowCustomFonts&&(null==e?void 0:e.customFonts)&&Array.isArray(e.customFonts))for(var t=0,n=e.customFonts;t<n.length;t++){var i=n[t],r=i.fileUrl?i.fileUrl:i.files&&i.files.regular;if(!fontsLoaded.has(r)){var o=this.getCssFromFont(i,e);if(fontsLoaded.add(r),!o)continue;var a=document.createElement(\"style\");a.className=\"builder-custom-font\",a.setAttribute(\"data-builder-custom-font\",r),a.innerHTML=o,document.head.appendChild(a)}}},t.prototype.getCss=function(e){var t,n=null===(t=this.useContent)||void 0===t?void 0:t.id,i=(null==e?void 0:e.cssCode)||\"\";return n&&(i=i.replace(/&/g,\".builder-component-\".concat(n))),i+this.getFontCss(e)},Object.defineProperty(t.prototype,\"data\",{get:function(){var e,t=__assign(__assign(__assign({},this.inlinedContent&&(null===(e=this.inlinedContent.data)||void 0===e?void 0:e.state)),this.externalState),this.state.state);return Object.assign(this.rootState,t),t},enumerable:!1,configurable:!0}),t.prototype.componentDidUpdate=function(e){var t=this;this.props.data&&e.data!==this.props.data&&this.state.update((function(e){Object.assign(e,t.externalState)})),this.props.customComponents&&this.props.customComponents!==e.customComponents&&this.registerCustomComponents(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&this.inlinedContent&&e.content!==this.inlinedContent&&this.onContentLoaded(this.inlinedContent.data,this.inlinedContent)},t.prototype.checkStyles=function(e){if(this.styleRef){var t=this.getCss(e);this.styleRef.innerHTML!==t&&(this.styleRef.innerHTML=t)}},t.prototype.reload=function(){this.setState({key:this.state.key+1})},Object.defineProperty(t.prototype,\"content\",{get:function(){var e=this.inlinedContent;return e&&e.content&&(e=__assign(__assign({},e),{data:e.content})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"externalState\",{get:function(){return __assign(__assign({},this.props.data),this.props.locale?{locale:this.props.locale}:{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"useContent\",{get:function(){return this.content||this.state.context.builderContent},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e,t=this,n=this.content,i=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&this.externalState&&size$1(this.externalState)&&hash_sum__WEBPACK_IMPORTED_MODULE_4___default()(this.externalState),r=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing?this.name:this.props.entry;r&&!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&i&&i.length<300&&(r+=\":\"+i);var o=this.props.dataOnly?(react__WEBPACK_IMPORTED_MODULE_2___default().Fragment):\"div\",a=null===(e=this.useContent)||void 0===e?void 0:e.id;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(o,{onClick:function(e){!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||t.props.isChild||t.props.stopClickPropagationWhenEditing||e.stopPropagation()},className:\"builder-component \".concat(a?\"builder-component-\".concat(a):\"\"),\"data-name\":this.name,\"data-source\":\"Rendered by Builder.io\",key:this.state.key,ref:function(e){return t.ref=e}},react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderMetaContext.Consumer,null,(function(e){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderMetaContext.Provider,{value:\"boolean\"==typeof t.props.ampMode?__assign(__assign({},e),{ampMode:t.props.ampMode}):e},react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderAsyncRequestsContext.Consumer,null,(function(e){var i;return t._asyncRequests=e&&e.requests,t._errors=e&&e.errors,t._logs=e&&e.logs,react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderContent,{isStatic:t.props.isStatic||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isStatic,key:(null===(i=t.inlinedContent)||void 0===i?void 0:i.id)||(\"content\"in t.props&&!t.isPreviewing?\"null-content-prop\":\"no-content-prop\"),builder:t.builder,ref:function(e){return t.contentRef=e},contentLoaded:function(e,n){return t.onContentLoaded(e,n)},options:__assign(__assign(__assign(__assign(__assign(__assign({key:r,entry:t.props.entry},n&&{initialContent:[n]}),!n&&\"content\"in t.props&&!t.isPreviewing&&{initialContent:[]}),t.props.url&&{url:t.props.url}),t.props.options),t.props.locale?{locale:t.props.locale}:{}),t.options.codegen&&{format:\"react\"}),inline:t.props.inlineContent||!t.isPreviewing&&\"content\"in t.props,contentError:t.props.contentError,modelName:t.name||\"page\",nonce:t.props.nonce},(function(e,n,i){var r;if(t.props.dataOnly)return null;i&&i.id&&(t.state.breakpoints&&(i.meta=i.meta||{},i.meta.breakpoints=t.state.breakpoints),t.state.context.builderContent=i),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick((function(){t.checkStyles(e)}));var o=t.options.codegen;if(o&&!t.Component&&(null==e?void 0:e.blocksJs)){var a=Array.from(new Set(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.components.map((function(e){return e.name})))),s=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.components.slice().reverse(),l=a.map((function(e){return s.find((function(t){return t.class&&t.name===e}))})),u=a.map((function(e){return(e||\"\").replace(/[^\\w]+/gi,\"\")})),d=l.map((function(e){return wrapComponent(e)}));t.Component=(new(Function.bind.apply(Function,__spreadArray(__spreadArray([void 0,\"jsx\",\"_css\",\"Builder\",\"builder\",\"React\",\"useBuilderState\"],u,!1),[e.blocksJs],!1)))).apply(void 0,__spreadArray([_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.css,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder,(react__WEBPACK_IMPORTED_MODULE_2___default()),function(e){var t=react__WEBPACK_IMPORTED_MODULE_2___default().useState(0)[1];return react__WEBPACK_IMPORTED_MODULE_2___default().useState((function(){return onChange(e,(function(){t((function(e){return e+1}))}))}))[0]}],d,!1))}var c=(null==e?void 0:e.blocks)||[],p=c.find((function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.startsWith(\"builder-pixel\")}));return e&&!p&&c.length>0&&c.push(getBuilderPixel(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.apiKey)),e?react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",__assign({\"data-builder-component\":t.name,\"data-builder-content-id\":i.id},t.isPreviewing?{\"data-builder-variation-id\":i.testVariationId||i.variationId||i.id}:{}),!o&&t.getCss(e)&&react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"style\",{nonce:t.props.nonce,ref:function(e){return t.styleRef=e},className:\"builder-custom-styles\",dangerouslySetInnerHTML:{__html:t.getCss(e)}}),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderStoreContext.Provider,{value:__assign(__assign({},t.state),{rootState:t.rootState,state:t.data,content:i,renderLink:t.props.renderLink})},o&&t.Component?react__WEBPACK_IMPORTED_MODULE_2___default().createElement(t.Component,{data:t.data,context:t.state.context}):react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlocks,{key:String(!!(null===(r=null==e?void 0:e.blocks)||void 0===r?void 0:r.length)),emailMode:t.props.emailMode,fieldName:\"blocks\",blocks:c}))):n?react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",{\"data-builder-component\":t.name,className:\"builder-loading\"},t.props.children):react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",{\"data-builder-component\":t.name,className:\"builder-no-content\"})}))})))})))},t.prototype.evalExpression=function(e){var t=this,n=this.data;return String(e).replace(/{{([^}]+)}}/g,(function(e,i){return tryEval(i,n,t._errors)}))},t.prototype.handleRequest=function(e,t){return __awaiter(this,void 0,void 0,(function(){var n,i,r,o,a,s,l,u,d,c=this;return __generator(this,(function(p){return n=t.url,i=t.method,r=t.body,o=t.headers,a=JSON.stringify({url:n,method:i,body:r,headers:o}),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isIframe&&fetchCache[a]?(this.updateState((function(t){t[e]=fetchCache[a]})),[2,fetchCache[a]]):(s=function(){return __awaiter(c,void 0,void 0,(function(){var t,s,l,u,d;return __generator(this,(function(c){switch(c.label){case 0:t=Date.now(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||console.time(\"Fetch \"+a),c.label=1;case 1:return c.trys.push([1,4,5,6]),l={method:i,headers:o,body:r},\"GET\"===i&&delete l.body,[4,fetch$1(n,l)];case 2:return[4,c.sent().json()];case 3:return s=c.sent(),[3,6];case 4:return u=c.sent(),d=toError(u),this._errors&&this._errors.push(d),this._logs&&this._logs.push(\"Fetch to \".concat(a,\" errored in \").concat(Date.now()-t,\"ms\")),[2];case 5:return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||(console.timeEnd(\"Fetch \"+a),this._logs&&this._logs.push(\"Fetched \".concat(a,\" in \").concat(Date.now()-t,\"ms\"))),[7];case 6:return s&&(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isIframe&&(fetchCache[a]=s),this.updateState((function(t){t[e]=s}))),[2,s]}}))}))},(l=this._asyncRequests&&this._asyncRequests.find((function(e){return isRequestInfo(e)&&e.url===n})))?((u=l.promise).then((function(t){t&&c.updateState((function(n){n[e]=t}))})),[2,u]):(d=s(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick((function(){c._asyncRequests&&c._asyncRequests.push(d)})),[2,d]))}))}))},t.prototype.unsubscribe=function(){this.subscriptions&&(this.subscriptions.unsubscribe(),this.subscriptions=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Subscription)},t.prototype.handleBuilderRequest=function(e,t){var n=this,i=tryEval(t,this.data,this._errors);this.subscriptions&&this.unsubscribe(),i&&this.subscriptions.add(this.builder.queueGetContent(i.model,i).subscribe((function(t){t&&n.updateState((function(n){n[e]=t}))})))},t.defaults={codegen:Boolean(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&location.href.includes(\"builder.codegen=true\"))},__decorate([debounceNextTick,__metadata(\"design:type\",Function),__metadata(\"design:paramtypes\",[]),__metadata(\"design:returntype\",void 0)],t.prototype,\"notifyStateChange\",null),t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component));function BuilderBlock(e){return e.type=\"react\",_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.Component(e)}function updateMetadata(e,t){var n=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.components.find((function(t){return\"string\"==typeof e?t.name===e:t.class===t}))||null,i=t(n);n&&i?_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(i.class||n.class,i):n&&!i||!n&&i&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(i.class,i)}function withBuilder(e,t){return BuilderBlock(t)(e),e}var isBuilderElement=function(e){return Boolean(\"object\"==typeof e&&e&&\"@builder.io/sdk:Element\"===(null==e?void 0:e[\"@type\"]))},withChildren=function(e){var t=react__WEBPACK_IMPORTED_MODULE_2___default().forwardRef((function(t,n){var i,r,o=__assign({},t),a=t.children||t.builderBlock&&t.builderBlock.children&&t.builderBlock.children.map((function(e){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlock$1,{key:e.id,block:e})})),s=null===(r=null===(i=t.builderBlock)||void 0===i?void 0:i.component)||void 0===r?void 0:r.options;return s&&Object.keys(s).forEach((function(e){var t=s[e];Array.isArray(t)&&t.every(isBuilderElement)?o[e]=t.map((function(e){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlock$1,{key:e.id,block:e})})):isBuilderElement(t)&&(o[e]=react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlock$1,{block:t}))})),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(e,__assign({},o,{ref:n}),a)}));return t.builderOptions={canHaveChildren:!0},t},noWrap=function(e){var t=react__WEBPACK_IMPORTED_MODULE_2___default().forwardRef((function(t,n){var i=__assign(__assign({},t),t.attributes);return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(e,__assign({},i,{ref:n}))}));return t.builderOptions={noWrap:!0},t},iconUrl=\"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-text_fields-24px%20(1).svg?alt=media&token=12177b73-0ee3-42ca-98c6-0dd003de1929\",TextComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.textRef=null,t}return __extends(t,e),t.prototype.componentDidMount=function(){this.textRef&&!/{{([^}]+)}}/.test(this.props.text)&&(this.textRef.innerHTML=this.props.text)},t.prototype.evalExpression=function(e,t){return this.allowTextEdit?String(e):String(e).replace(/{{([^}]+)}}/g,(function(e,n){return tryEval(n,t)}))},Object.defineProperty(t.prototype,\"allowTextEdit\",{get:function(){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&location.search.includes(\"builder.allowTextEdit=true\")&&!(this.props.builderBlock&&this.props.builderBlock.bindings&&(this.props.builderBlock.bindings[\"component.options.text\"]||this.props.builderBlock.bindings[\"options.text\"]||this.props.builderBlock.bindings.text))},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this,t={outline:\"none\",\"& p:first-of-type, & .builder-paragraph:first-of-type\":{margin:0},\"& > p, & .builder-paragraph\":{color:\"inherit\",lineHeight:\"inherit\",letterSpacing:\"inherit\",fontWeight:\"inherit\",fontSize:\"inherit\",textAlign:\"inherit\",fontFamily:\"inherit\"}};return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Consumer,null,(function(n){var i;return(null===(i=n.content.meta)||void 0===i?void 0:i.rtlMode)&&(t.direction=\"rtl\"),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\",__assign({ref:function(t){e.textRef=t},css:t,className:\"builder-text\"},{dangerouslySetInnerHTML:{__html:e.evalExpression(e.props.text||e.props.content||\"\",n.state)}})))}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Text=withBuilder(TextComponent,{name:\"Text\",static:!0,image:iconUrl,inputs:[{name:\"text\",type:\"html\",required:!0,autoFocus:!0,bubble:!0,defaultValue:\"Enter some text...\"}],defaultStyles:{lineHeight:\"normal\",height:\"auto\",textAlign:\"center\"}});function Slot(e){var t=e.name,n=(0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(BuilderStoreContext),i=!n.context.symbolId;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",__assign({css:{pointerEvents:\"auto\"}},i&&{\"builder-slot\":t}),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlocks,{child:!0,parentElementId:n.context.symbolId,dataPath:\"symbol.data.\".concat(t),blocks:n.state[t]||[]}))}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(Slot,{name:\"Slot\",description:\"Allow child blocks to be inserted into this content when used as a Symbol\",docsLink:\"https://www.builder.io/c/docs/symbols-with-blocks\",image:\"https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F3aad6de36eae43b59b52c85190fdef56\",inputs:[{name:\"name\",type:\"string\",required:!0,defaultValue:\"children\"}]});var FragmentComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return this.props.builderBlock&&this.props.builderBlock.children&&this.props.builderBlock.children.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlock$1,{block:e,key:e.id,index:t})}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Fragment=withBuilder(FragmentComponent,{name:\"Core:Fragment\",canHaveChildren:!0,noWrap:!0,static:!0,hideFromInsertMenu:!0}),DEFAULT_ASPECT_RATIO$2=.7004048582995948,defaultBlocks=[{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",flexShrink:\"0\",position:\"relative\",marginTop:\"30px\",textAlign:\"center\",lineHeight:\"normal\",height:\"auto\",minHeight:\"20px\",minWidth:\"20px\",overflow:\"hidden\"}},component:{name:\"Image\",options:{image:\"https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d\",backgroundPosition:\"center\",backgroundSize:\"cover\",aspectRatio:DEFAULT_ASPECT_RATIO$2}}},{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",flexShrink:\"0\",position:\"relative\",marginTop:\"30px\",textAlign:\"center\",lineHeight:\"normal\",height:\"auto\"}},component:{name:\"Text\",options:{text:\"<p>Enter some text...</p>\"}}}],ColumnsComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,\"columns\",{get:function(){return this.props.columns||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"gutterSize\",{get:function(){return\"number\"==typeof this.props.space?this.props.space||0:20},enumerable:!1,configurable:!0}),t.prototype.getWidth=function(e){return this.columns[e]&&this.columns[e].width||100/this.columns.length},t.prototype.getColumnWidth=function(e){var t=this.columns,n=this.gutterSize,i=this.getWidth(e),r=n*(t.length-1)*(i/100);return\"calc(\".concat(i,\"% - \").concat(r,\"px)\")},t.prototype.render=function(){var e,t,n,i,r=this,o=this.columns,a=this.gutterSize,s=(null===(i=null===(n=null===(t=this.props.builderState)||void 0===t?void 0:t.context.builderContent)||void 0===n?void 0:n.meta)||void 0===i?void 0:i.breakpoints)||{},l=getSizesForBreakpoints(s);return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{className:\"builder-columns\",css:__assign({display:\"flex\",height:\"100%\"},\"never\"!==this.props.stackColumnsAt&&(e={},e[\"@media (max-width: \".concat(\"tablet\"!==this.props.stackColumnsAt?l.small.max:l.medium.max,\"px)\")]={flexDirection:this.props.reverseColumnsWhenStacked?\"column-reverse\":\"column\",alignItems:\"stretch\"},e))},o.map((function(e,t){var n,i,o=e.link?Link:\"div\";return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),{key:t},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(o,__assign({className:\"builder-column\"},e.link?{href:e.link}:null,{css:__assign((n={display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",lineHeight:\"normal\"},n[\"& > .builder-blocks\"]={flexGrow:1},n.width=r.getColumnWidth(t),n.marginLeft=0===t?0:a,n),\"never\"!==r.props.stackColumnsAt&&(i={},i[\"@media (max-width: \".concat(\"tablet\"!==r.props.stackColumnsAt?l.small.max:l.medium.max,\"px)\")]={width:\"100%\",marginLeft:0},i))}),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlocks,{key:t,child:!0,parentElementId:r.props.builderBlock&&r.props.builderBlock.id,blocks:e.blocks,dataPath:\"component.options.columns.\".concat(t,\".blocks\")})))}))))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Columns=withBuilder(ColumnsComponent,{name:\"Columns\",static:!0,inputs:[{name:\"columns\",type:\"array\",broadcast:!0,subFields:[{name:\"blocks\",type:\"array\",hideFromUI:!0,defaultValue:defaultBlocks},{name:\"width\",type:\"number\",hideFromUI:!0,helperText:\"Width %, e.g. set to 50 to fill half of the space\"},{name:\"link\",type:\"url\",helperText:\"Optionally set a url that clicking this column will link to\"}],defaultValue:[{blocks:defaultBlocks},{blocks:defaultBlocks}],onChange:function(e){function t(){n.forEach((function(e){e.delete(\"width\")}))}var n=e.get(\"columns\");Array.isArray(n)&&(!n.find((function(e){return e.get(\"width\")}))||(n.find((function(e){return!e.get(\"width\")}))||100!==n.reduce((function(e,t){return e+t.get(\"width\")}),0))&&t())}},{name:\"space\",type:\"number\",defaultValue:20,helperText:\"Size of gap between columns\",advanced:!0},{name:\"stackColumnsAt\",type:\"string\",defaultValue:\"tablet\",helperText:\"Convert horizontal columns to vertical at what device size\",enum:[\"tablet\",\"mobile\",\"never\"],advanced:!0},{name:\"reverseColumnsWhenStacked\",type:\"boolean\",defaultValue:!1,helperText:\"When stacking columns for mobile devices, reverse the ordering\",advanced:!0}]}),EmbedComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elementRef=null,t.scriptsInserted=new Set,t.scriptsRun=new Set,t}return __extends(t,e),t.prototype.shouldComponentUpdate=function(e){return e.content!==this.props.content},t.prototype.componentDidUpdate=function(e){this.props.content!==e.content&&this.findAndRunScripts()},t.prototype.componentDidMount=function(){this.findAndRunScripts()},t.prototype.findAndRunScripts=function(){if(this.elementRef&&\"undefined\"!=typeof window)for(var e=this.elementRef.getElementsByTagName(\"script\"),t=0;t<e.length;t++){var n=e[t];if(n.src){if(this.scriptsInserted.has(n.src))continue;this.scriptsInserted.add(n.src);var i=document.createElement(\"script\");i.async=!0,i.src=n.src,document.head.appendChild(i)}else{if(this.scriptsRun.has(n.innerText))continue;this.scriptsRun.add(n.innerText);try{new Function(n.innerText)()}catch(e){console.warn(\"Builder custom code component error:\",e)}}}},Object.defineProperty(t.prototype,\"content\",{get:function(){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer?(this.props.content||\"\").replace(/<script[\\s\\S]*?<\\/script>/g,\"\"):this.props.content},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",{ref:function(t){return e.elementRef=t},className:\"builder-embed\",dangerouslySetInnerHTML:{__html:this.content}})},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Embed=withBuilder(EmbedComponent,{name:\"Embed\",static:!0,inputs:[{name:\"url\",type:\"url\",required:!0,defaultValue:\"\",helperText:\"e.g. enter a youtube url, google map, etc\"},{name:\"content\",type:\"html\",defaultValue:'<div style=\"padding: 20px; text-align: center\">(Choose an embed URL)<div>',hideFromUI:!0}]}),globalReplaceNodes={}||null,isShopify$1=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&\"Shopify\"in window;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&globalReplaceNodes){var customCodeQuerySelector_1=\".builder-custom-code\";try{var allCustomCodeElements_1=Array.from(document.querySelectorAll(customCodeQuerySelector_1)),builderTemplates=document.querySelectorAll(\"template[data-template-variant-id]\");builderTemplates.length&&Array.from(builderTemplates).forEach((function(e){var t=e.content.querySelectorAll(customCodeQuerySelector_1);t.length&&(allCustomCodeElements_1=allCustomCodeElements_1.concat(Array.from(t)))})),allCustomCodeElements_1.forEach((function(e){var t=e.parentElement,n=t&&t.getAttribute(\"builder-id\");n&&(globalReplaceNodes[n]=globalReplaceNodes[n]||[],globalReplaceNodes[n].push(isShopify$1?e:e.cloneNode(!0)))}))}catch(e){console.error(\"Builder replace nodes error:\",e)}}var CustomCodeComponent=function(e){function t(t){var n,i=this;if((i=e.call(this,t)||this).elementRef=null,i.originalRef=null,i.scriptsInserted=new Set,i.scriptsRun=new Set,i.firstLoad=!0,i.replaceNodes=!1,i.state={hydrated:!1},_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser){var r=null===(n=i.props.builderBlock)||void 0===n?void 0:n.id;if(i.replaceNodes=Boolean(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(t.replaceNodes||isShopify$1)&&r&&(null==globalReplaceNodes?void 0:globalReplaceNodes[r])),i.firstLoad&&i.props.builderBlock)if(r&&(null==globalReplaceNodes?void 0:globalReplaceNodes[r])){var o=globalReplaceNodes[r].shift()||null;i.originalRef=o,0===globalReplaceNodes[r].length&&delete globalReplaceNodes[r]}else if(i.replaceNodes){var a=document.querySelectorAll(\".\".concat(i.props.builderBlock.id,\" .builder-custom-code\"));if(1===a.length){var s=a[0];i.originalRef=s,i.originalRef.remove()}}}return i}return __extends(t,e),t.prototype.shouldComponentUpdate=function(e){return e.code!==this.props.code},Object.defineProperty(t.prototype,\"noReactRender\",{get:function(){var e;return Boolean(isShopify$1&&(null===(e=this.props.code)||void 0===e?void 0:e.match(/{[{%]/g)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"isHydrating\",{get:function(){return!isShopify$1&&this.originalRef},enumerable:!1,configurable:!0}),t.prototype.componentDidUpdate=function(e){this.props.code!==e.code&&this.findAndRunScripts()},t.prototype.componentDidMount=function(){var e=this;this.firstLoad=!1,this.replaceNodes||(this.isHydrating?(this.setState({hydrated:!0}),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick((function(){return e.findAndRunScripts()}))):this.findAndRunScripts()),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&this.replaceNodes&&this.originalRef&&this.elementRef&&this.elementRef.appendChild(this.originalRef)},t.prototype.findAndRunScripts=function(){if(this.elementRef&&\"undefined\"!=typeof window)for(var e=this.elementRef.getElementsByTagName(\"script\"),t=0;t<e.length;t++){var n=e[t];if(n.src){if(this.scriptsInserted.has(n.src))continue;this.scriptsInserted.add(n.src);var i=document.createElement(\"script\");i.async=!0,i.src=n.src,document.head.appendChild(i)}else if(!n.type||[\"text/javascript\",\"application/javascript\",\"application/ecmascript\"].includes(n.type)){if(this.scriptsRun.has(n.innerText))continue;try{this.scriptsRun.add(n.innerText),new Function(n.innerText)()}catch(e){console.warn(\"Builder custom code component error:\",e)}}}},Object.defineProperty(t.prototype,\"code\",{get:function(){return(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer||this.isHydrating&&this.firstLoad)&&this.props.scriptsClientOnly?(this.props.code||\"\").replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\"\"):this.props.code},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",__assign({ref:function(t){return e.elementRef=t},className:\"builder-custom-code\"},!this.replaceNodes&&!this.noReactRender&&{dangerouslySetInnerHTML:{__html:this.code}}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),CustomCode=withBuilder(CustomCodeComponent,{name:\"Custom Code\",static:!0,requiredPermissions:[\"editCode\"],inputs:[{name:\"code\",type:\"html\",required:!0,defaultValue:\"<p>Hello there, I am custom HTML code!</p>\",code:!0},__assign({name:\"replaceNodes\",type:\"boolean\",helperText:\"Preserve server rendered dom nodes\",advanced:!0},isShopify$1&&{defaultValue:!0}),__assign({name:\"scriptsClientOnly\",type:\"boolean\",helperText:\"Only print and run scripts on the client. Important when scripts influence DOM that could be replaced when client loads\",advanced:!0},!isShopify$1&&{defaultValue:!0})]}),IMAGE_FILE_TYPES=[\"jpeg\",\"jpg\",\"png\",\"svg\",\"webp\",\"gif\",\"jfif\",\"pjpeg\",\"pjp\",\"apng\",\"avif\",\"tif\",\"tiff\",\"heif\",\"bmp\",\"eps\",\"raw\",\"cr2\",\"nef\",\"orf\",\"sr2\",\"psd\",\"heic\",\"dib\",\"ai\"],VIDEO_FILE_TYPES=[\"mp4\",\"webm\",\"mkv\",\"flv\",\"vob\",\"ogv\",\"ogg\",\"drc\",\"gif\",\"gifv\",\"mng\",\"avi\",\"mov\",\"qt\",\"mts\",\"m2ts\",\"ts\",\"wmv\",\"yuv\",\"rm\",\"rmvb\",\"viv\",\"asf\",\"amv\",\"m4p\",\"mpeg\",\"mpe\",\"m2v\",\"m4v\",\"svi\",\"3gp\",\"3g2\",\"mxf\",\"roq\",\"nsv\",\"f4v\",\"f4p\",\"f4a\",\"f4b\"];function removeProtocol(e){return e.replace(/http(s)?:/,\"\")}function isElementInViewport(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function getShopifyImageUrl(e,t){if(!e||!(null==e?void 0:e.match(/cdn\\.shopify\\.com/))||!t)return e;if(\"master\"===t)return removeProtocol(e);var n=e.match(/(_\\d+x(\\d+)?)?(\\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\\?v=\\d+)?)/i);if(n){var i=e.split(n[0]),r=n[3],o=t.match(\"x\")?t:\"\".concat(t,\"x\");return removeProtocol(\"\".concat(i[0],\"_\").concat(o).concat(r))}return null}var DEFAULT_ASPECT_RATIO$1=.7041;function updateQueryParam(e,t,n){void 0===e&&(e=\"\");var i=new RegExp(\"([?&])\"+t+\"=.*?(&|$)\",\"i\"),r=-1!==e.indexOf(\"?\")?\"&\":\"?\";return e.match(i)?e.replace(i,\"$1\"+t+\"=\"+encodeURIComponent(n)+\"$2\"):e+r+t+\"=\"+encodeURIComponent(n)}function getSrcSet(e){if(!e)return e;var t=[100,200,400,800,1200,1600,2e3];if(e.match(/builder\\.io/)){var n=e,i=Number(e.split(\"?width=\")[1]);return isNaN(i)||(n=\"\".concat(n,\" \").concat(i,\"w\")),t.filter((function(e){return e!==i})).map((function(t){return\"\".concat(updateQueryParam(e,\"width\",t),\" \").concat(t,\"w\")})).concat([n]).join(\", \")}return e.match(/cdn\\.shopify\\.com/)?t.map((function(t){return[getShopifyImageUrl(e,\"\".concat(t,\"x\").concat(t)),t]})).filter((function(e){return!!e[0]})).map((function(e){var t=e[0],n=e[1];return\"\".concat(t,\" \").concat(n,\"w\")})).concat([e]).join(\", \"):e}var getSizes=function(e,t,n){var i,r,o,a,s,l,u,d;void 0===n&&(n={});var c=\"\";if(e){var p=e.split(\",\"),f=p.length;c=p.map((function(e,t){return f===t+1?e.replace(/\\([\\s\\S]*?\\)/g,\"\").trim():e})).join(\", \")}else if(t&&t.responsiveStyles){var m=[],h=!1,v=/^\\d+/,g=getSizesForBreakpoints(n);if(null===(o=null===(r=null===(i=t.responsiveStyles)||void 0===i?void 0:i.small)||void 0===r?void 0:r.width)||void 0===o?void 0:o.match(v)){h=!0;var b=\"(max-width: \".concat(g.small.max,\"px)\"),y=\"\".concat(b,\" \").concat(t.responsiveStyles.small.width.replace(\"%\",\"vw\"));m.push(y)}if(null===(l=null===(s=null===(a=t.responsiveStyles)||void 0===a?void 0:a.medium)||void 0===s?void 0:s.width)||void 0===l?void 0:l.match(v)){h=!0;b=\"(max-width: \".concat(g.medium.max,\"px)\"),y=\"\".concat(b,\" \").concat(t.responsiveStyles.medium.width.replace(\"%\",\"vw\"));m.push(y)}if(null===(d=null===(u=t.responsiveStyles)||void 0===u?void 0:u.large)||void 0===d?void 0:d.width){var _=t.responsiveStyles.large.width.replace(\"%\",\"vw\");m.push(_)}else h&&m.push(\"100vw\");m.length&&(c=m.join(\", \"))}return c},ImageComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={imageLoaded:!t.useLazyLoading,load:!t.useLazyLoading},t.pictureRef=null,t.scrollListener=null,t.intersectionObserver=null,t}return __extends(t,e),Object.defineProperty(t.prototype,\"useLazyLoading\",{get:function(){return!this.props.highPriority&&((!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||!location.search.includes(\"builder.lazyLoadImages=false\"))&&(!(!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||!location.href.includes(\"builder.lazyLoadImages=true\"))||this.props.lazy))},enumerable:!1,configurable:!0}),t.prototype.componentWillUnmount=function(){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(this.scrollListener&&(window.removeEventListener(\"scroll\",this.scrollListener),this.scrollListener=null),this.intersectionObserver&&this.pictureRef&&this.intersectionObserver.unobserve(this.pictureRef))},t.prototype.componentDidMount=function(){var e=this;if(this.props.lazy&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser)if(this.pictureRef&&isElementInViewport(this.pictureRef))this.setState({load:!0});else if(\"function\"==typeof IntersectionObserver&&this.pictureRef){(this.intersectionObserver=new IntersectionObserver((function(t,n){t.forEach((function(t){t.intersectionRatio>0&&(e.setState({load:!0}),e.pictureRef&&n.unobserve(e.pictureRef))}))}))).observe(this.pictureRef)}else{var t=throttle((function(n){if(e.pictureRef){var i=e.pictureRef.getBoundingClientRect(),r=window.innerHeight/2;i.top<window.innerHeight+r&&(e.setState(__assign(__assign({},e.state),{load:!0})),window.removeEventListener(\"scroll\",t),e.scrollListener=null)}}),400,{leading:!1,trailing:!0});this.scrollListener=t,window.addEventListener(\"scroll\",t,{capture:!0,passive:!0}),t()}},Object.defineProperty(t.prototype,\"image\",{get:function(){return this.props.image||this.props.src},enumerable:!1,configurable:!0}),t.prototype.getSrcSet=function(){var e=this.image;if(e&&\"string\"==typeof e&&!this.props.noWebp&&(e.match(/builder\\.io/)||e.match(/cdn\\.shopify\\.com/)))return getSrcSet(e)},t.prototype.render=function(){var e,t,n=this,i=this.props,r=i.aspectRatio,o=i.lazy,a=i.builderBlock,s=i.builderState,l=this.props.builderBlock&&this.props.builderBlock.children,u=this.props.srcset,d=getSizes(this.props.sizes,a,(null===(t=null===(e=null==s?void 0:s.context.builderContent)||void 0===e?void 0:e.meta)||void 0===t?void 0:t.breakpoints)||{}),c=this.image;u&&c&&c.includes(\"builder.io/api/v1/image\")?u.includes(c.split(\"?\")[0])||(console.debug(\"Removed given srcset\"),u=this.getSrcSet()):c&&!u&&(u=this.getSrcSet());var p=(null==a?void 0:a.id.startsWith(\"builder-pixel-\"))||this.props.highPriority,f=this.props.fitContent;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderMetaContext.Consumer,null,(function(e){var t,i=e.ampMode,a=i?\"amp-img\":\"img\",s=(!o||n.state.load||i)&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(a,__assign({},i?{layout:\"responsive\",height:n.props.height||(r?Math.round(1e3*r):void 0),width:n.props.width||(r?Math.round(1e3/r):void 0)}:null,{alt:n.props.altText,title:n.props.title,key:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&\"string\"==typeof n.image&&n.image.split(\"?\")[0]||void 0,role:n.props.altText?void 0:\"presentation\",css:__assign(__assign({opacity:i?1:n.useLazyLoading&&!n.state.imageLoaded?0:1,transition:\"opacity 0.2s ease-in-out\",objectFit:n.props.backgroundSize||\"cover\",objectPosition:n.props.backgroundPosition||\"center\"},r&&!i&&{position:\"absolute\",height:\"100%\",width:\"100%\",left:0,top:0}),i&&(t={},t[\"& img\"]={objectFit:n.props.backgroundSize,objectPosition:n.props.backgroundPosition},t)),loading:p?\"eager\":\"lazy\",fetchPriority:p?\"high\":\"auto\",className:\"builder-image\"+(n.props.className?\" \"+n.props.className:\"\"),src:n.image},!i&&{onLoad:function(){return n.setState({imageLoaded:!0})}},{srcSet:u,sizes:!i&&d?d:void 0}));return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,i?s:(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"picture\",{ref:function(e){return n.pictureRef=e}},u&&u.match(/builder\\.io/)&&!n.props.noWebp&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"source\",{srcSet:u.replace(/\\?/g,\"?format=webp&\"),type:\"image/webp\"}),s),!r||i||f&&l&&l.length?null:(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{className:\"builder-image-sizer\",css:{width:\"100%\",paddingTop:100*r+\"%\",pointerEvents:\"none\",fontSize:0}},\" \"),l&&l.length?f?l.map((function(e,t){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlock$1,{key:e.id,block:e})})):(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\"}},l.map((function(e,t){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlock$1,{key:e.id,block:e})}))):null)}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Image=withBuilder(ImageComponent,{name:\"Image\",static:!0,image:\"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4\",defaultStyles:{position:\"relative\",minHeight:\"20px\",minWidth:\"20px\",overflow:\"hidden\"},canHaveChildren:!0,inputs:[{name:\"image\",type:\"file\",bubble:!0,allowedFileTypes:IMAGE_FILE_TYPES,required:!0,defaultValue:\"https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F72c80f114dc149019051b6852a9e3b7a\",onChange:function(e){e.delete(\"srcset\"),e.delete(\"noWebp\");var t,n,i=e.get(\"image\"),r=e.get(\"aspectRatio\");if(fetch(i).then((function(e){return e.blob()})).then((function(t){t.type.includes(\"svg\")&&e.set(\"noWebp\",!0)})),i&&(!r||.7041===r))return(t=i,void 0===n&&(n=6e4),new Promise((function(e,i){var r=document.createElement(\"img\"),o=!1;r.onload=function(){o=!0,e(r)},r.addEventListener(\"error\",(function(e){console.warn(\"Image load failed\",e.error),i(e.error)})),r.src=t,setTimeout((function(){o||i(new Error(\"Image load timed out\"))}),n)}))).then((function(t){var n,r=e.get(\"aspectRatio\");e.get(\"image\")!==i||r&&.7041!==r||t.width&&t.height&&(e.set(\"aspectRatio\",(n=t.height/t.width,Math.round(1e3*n)/1e3)),e.set(\"height\",t.height),e.set(\"width\",t.width))}))}},{name:\"backgroundSize\",type:\"text\",defaultValue:\"cover\",enum:[{label:\"contain\",value:\"contain\",helperText:\"The image should never get cropped\"},{label:\"cover\",value:\"cover\",helperText:\"The image should fill its box, cropping when needed\"}]},{name:\"backgroundPosition\",type:\"text\",defaultValue:\"center\",enum:[\"center\",\"top\",\"left\",\"right\",\"bottom\",\"top left\",\"top right\",\"bottom left\",\"bottom right\"]},{name:\"altText\",type:\"string\",helperText:\"Text to display when the user has images off\"},{name:\"title\",type:\"string\",helperText:\"Text to display when hovering over the asset\"},{name:\"highPriority\",type:\"boolean\",advanced:!0,helperText:\"Mark this image as high priority compared to other images on the page. This prevents lazy loading of the image and tells the browser to load this image before others on the page.\"},{name:\"height\",type:\"number\",hideFromUI:!0},{name:\"width\",type:\"number\",hideFromUI:!0},{name:\"sizes\",type:\"string\",hideFromUI:!0},{name:\"srcset\",type:\"string\",hideFromUI:!0},{name:\"lazy\",type:\"boolean\",defaultValue:!0,hideFromUI:!0},{name:\"fitContent\",type:\"boolean\",helperText:\"When child blocks are provided, fit to them instead of using the image's aspect ratio\",defaultValue:!0},{name:\"aspectRatio\",type:\"number\",helperText:\"This is the ratio of height/width, e.g. set to 1.5 for a 300px wide and 200px tall photo. Set to 0 to not force the image to maintain it's aspect ratio\",advanced:!0,defaultValue:DEFAULT_ASPECT_RATIO$1}]}),DEFAULT_ASPECT_RATIO=.7004048582995948,VideoComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.video=null,t.containerRef=null,t.lazyVideoObserver=null,t.state={load:!t.lazyLoad},t}return __extends(t,e),Object.defineProperty(t.prototype,\"lazyLoad\",{get:function(){return!1!==this.props.lazyLoad},enumerable:!1,configurable:!0}),t.prototype.updateVideo=function(){var e=this,t=this.video;if(t){[\"muted\",\"playsInline\",\"autoPlay\"].forEach((function(n){var i=n.toLowerCase();e.props[n]?t.setAttribute(i,i):t.removeAttribute(i)}))}},t.prototype.componentDidUpdate=function(){this.updateVideo()},t.prototype.componentDidMount=function(){var e=this;if(this.updateVideo(),this.lazyLoad&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser){var t=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&(e.setState((function(e){return __assign(__assign({},e),{load:!0})})),e.lazyVideoObserver&&(e.lazyVideoObserver.disconnect(),e.lazyVideoObserver=null))}))}));this.containerRef&&(t.observe(this.containerRef),this.lazyVideoObserver=t)}},t.prototype.componentWillUnmount=function(){this.lazyVideoObserver&&(this.lazyVideoObserver.disconnect(),this.lazyVideoObserver=null)},t.prototype.render=function(){var e=this,t=this.props,n=t.aspectRatio,i=t.children;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{ref:function(t){return e.containerRef=t},css:{position:\"relative\"}},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"video\",{key:this.props.video||\"no-src\",poster:this.props.posterImage,ref:function(t){return e.video=t},autoPlay:this.props.autoPlay,muted:this.props.muted,controls:this.props.controls,loop:this.props.loop,preload:this.props.preload||\"metadata\",className:\"builder-video\",css:__assign({width:\"100%\",height:\"100%\",objectFit:this.props.fit,objectPosition:this.props.position,borderRadius:1},n?{position:\"absolute\"}:null)},(!this.lazyLoad||this.state.load)&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"source\",{type:\"video/mp4\",src:this.props.video})),!n||this.props.fitContent&&i?null:(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{width:\"100%\",paddingTop:100*n+\"%\",pointerEvents:\"none\",fontSize:0}}),i&&this.props.fitContent?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\"}},i):i?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{pointerEvents:\"none\",display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\"}},i):null)},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Video=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(withChildren(VideoComponent),{name:\"Video\",canHaveChildren:!0,defaultStyles:{minHeight:\"20px\",minWidth:\"20px\"},image:\"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-videocam-24px%20(1).svg?alt=media&token=49a84e4a-b20e-4977-a650-047f986874bb\",inputs:[{name:\"video\",type:\"file\",allowedFileTypes:VIDEO_FILE_TYPES,bubble:!0,defaultValue:\"https://cdn.builder.io/o/assets%2FYJIGb4i01jvw0SRdL5Bt%2Fd27731a526464deba0016216f5f9e570%2Fcompressed?apiKey=YJIGb4i01jvw0SRdL5Bt&token=d27731a526464deba0016216f5f9e570&alt=media&optimized=true\",required:!0},{name:\"posterImage\",type:\"file\",allowedFileTypes:IMAGE_FILE_TYPES,helperText:\"Image to show before the video plays\"},{name:\"autoPlay\",type:\"boolean\",defaultValue:!0},{name:\"controls\",type:\"boolean\",defaultValue:!1},{name:\"muted\",type:\"boolean\",defaultValue:!0},{name:\"loop\",type:\"boolean\",defaultValue:!0},{name:\"playsInline\",type:\"boolean\",defaultValue:!0},{name:\"fit\",type:\"text\",defaultValue:\"cover\",enum:[\"contain\",\"cover\",\"fill\",\"auto\"]},{name:\"preload\",type:\"text\",defaultValue:\"metadata\",enum:[\"auto\",\"metadata\",\"none\"]},{name:\"fitContent\",type:\"boolean\",helperText:\"When child blocks are provided, fit to them instead of using the aspect ratio\",defaultValue:!0,advanced:!0},{name:\"position\",type:\"text\",defaultValue:\"center\",enum:[\"center\",\"top\",\"left\",\"right\",\"bottom\",\"top left\",\"top right\",\"bottom left\",\"bottom right\"]},{name:\"height\",type:\"number\",advanced:!0},{name:\"width\",type:\"number\",advanced:!0},{name:\"aspectRatio\",type:\"number\",advanced:!0,defaultValue:DEFAULT_ASPECT_RATIO},{name:\"lazyLoad\",type:\"boolean\",helperText:'Load this video \"lazily\" - as in only when a user scrolls near the video. Recommended for optmized performance and bandwidth consumption',defaultValue:!0,advanced:!0}]}),size=function(e){return Object.keys(e).length},isShopify=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&\"Shopify\"in window,refs={};if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser)try{Array.from(document.querySelectorAll(\"[builder-static-symbol]\")).forEach((function(e){var t=e.getAttribute(\"builder-static-symbol\");t&&(refs[t]=e)}))}catch(e){console.error(\"Builder replace nodes error:\",e)}var SymbolComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=null,t.staticRef=null,t.isEditingThisSymbol=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,\"placeholder\",{get:function(){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{padding:10}},\"Symbols let you reuse dynamic elements across your content. Please choose a model and entry for this symbol.\")},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e,t,n,i=this;this.useStatic&&this.staticRef&&refs[null===(e=this.props.builderBlock)||void 0===e?void 0:e.id]&&(null===(t=this.staticRef.parentNode)||void 0===t||t.replaceChild(refs[null===(n=this.props.builderBlock)||void 0===n?void 0:n.id],this.staticRef)),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick((function(){var e=i.props.symbol||{},t=e.model,n=e.entry;i.isEditingThisSymbol=Boolean(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&t===_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.editingModel&&n&&location.search.includes(\"overrides.\".concat(n)))}))},Object.defineProperty(t.prototype,\"useStatic\",{get:function(){var e;return Boolean(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&refs[null===(e=this.props.builderBlock)||void 0===e?void 0:e.id]&&!(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing))},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e,t,n=this;if(this.useStatic)return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{ref:function(e){return n.staticRef=e}});var i=this.props.symbol,r=!1;i||(r=!0);var o=this.props.dataOnly?NoWrap:this.props.builderBlock&&this.props.builderBlock.tagName||\"div\",a=i||{},s=a.model,l=a.entry,u=a.data,d=a.content,c=a.inline,p=a.ownerId,f=(null==i?void 0:i.dynamic)||this.props.dynamic;s&&(l||f)||(null===(e=null==d?void 0:d.data)||void 0===e?void 0:e.blocksJs)||c||(r=!0),this.isEditingThisSymbol&&(r=!1);var m=f?null===(t=this.props.builderBlock)||void 0===t?void 0:t.id:[s,l].join(\":\"),h=u&&size(u)&&hash_sum__WEBPACK_IMPORTED_MODULE_4___default()(u);m&&h&&h.length<300&&(m+=\":\"+h);var v=this.props.attributes||{};return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Consumer,{key:(s||\"no model\")+\":\"+(l||\"no entry\"+this.isEditingThisSymbol)},(function(e){var t,a,c,f,h,g,b,y,_,x,S,k=\"\".concat(m,\"_\").concat((null===(t=null==e?void 0:e.state)||void 0===t?void 0:t.locale)||\"Default\");return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(o,__assign({\"data-model\":s},v,{className:(v.class||v.className||\"\")+\" builder-symbol\"+((null==i?void 0:i.inline)?\" builder-inline-symbol\":\"\")+((null==i?void 0:i.dynamic)||n.props.dynamic?\" builder-dynamic-symbol\":\"\")}),r?n.placeholder:(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderComponent,__assign({},p&&{apiKey:p},(null===(a=e.state)||void 0===a?void 0:a.locale)&&{locale:e.state.locale},{isChild:!0,ref:function(e){return n.ref=e},context:__assign(__assign({},e.context),{symbolId:null===(c=n.props.builderBlock)||void 0===c?void 0:c.id}),model:s,entry:l,data:__assign(__assign(__assign({},u),!!n.props.inheritState&&omit$2(e.state,\"children\")),null===(_=null===(y=null===(b=null===(g=null===(h=null===(f=n.props.builderBlock)||void 0===f?void 0:f.component)||void 0===h?void 0:h.options)||void 0===g?void 0:g.symbol)||void 0===b?void 0:b.content)||void 0===y?void 0:y.data)||void 0===_?void 0:_.state),renderLink:e.renderLink,inlineContent:null==i?void 0:i.inline},d&&{content:d},{key:k,options:__assign(__assign({},!n.isEditingThisSymbol&&{key:k,noEditorUpdates:!0}),\"content\"===_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.singletonInstance.apiEndpoint&&l&&{query:{id:l}}),codegen:!!(null===(x=null==d?void 0:d.data)||void 0===x?void 0:x.blocksJs),hydrate:null===(S=e.state)||void 0===S?void 0:S._hydrate,builderBlock:n.props.builderBlock,dataOnly:n.props.dataOnly,nonce:e.context.nonce}),n.props.children))}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Symbol$1=withBuilder(SymbolComponent,{name:\"Symbol\",noWrap:!0,static:!0,inputs:[{name:\"symbol\",type:\"uiSymbol\"},{name:\"dataOnly\",helperText:\"Make this a data symbol that doesn't display any UI\",type:\"boolean\",defaultValue:!1,advanced:!0,hideFromUI:!0},{name:\"inheritState\",helperText:\"Inherit the parent component state and data\",type:\"boolean\",defaultValue:isShopify,advanced:!0},{name:\"renderToLiquid\",helperText:\"Render this symbols contents to liquid. Turn off to fetch with javascript and use custom targeting\",type:\"boolean\",defaultValue:isShopify,advanced:!0,hideFromUI:!0},{name:\"useChildren\",hideFromUI:!0,type:\"boolean\"}]}),ButtonComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this.props.link?Link:\"span\";return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(e,__assign({role:\"button\",href:this.props.link,target:this.props.openLinkInNewTab?\"_blank\":void 0},this.props.attributes),this.props.text)},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Button=withBuilder(ButtonComponent,{name:\"Core:Button\",image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F81a15681c3e74df09677dfc57a615b13\",defaultStyles:{appearance:\"none\",paddingTop:\"15px\",paddingBottom:\"15px\",paddingLeft:\"25px\",paddingRight:\"25px\",backgroundColor:\"#000000\",color:\"white\",borderRadius:\"4px\",textAlign:\"center\",cursor:\"pointer\"},inputs:[{name:\"text\",type:\"text\",defaultValue:\"Click me!\",bubble:!0},{name:\"link\",type:\"url\",bubble:!0},{name:\"openLinkInNewTab\",type:\"boolean\",defaultValue:!1,friendlyName:\"Open link in new tab\"}],static:!0,noWrap:!0}),SectionComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=null,t.unmountCallbacks=[],t.state={inView:!1},t}return __extends(t,e),Object.defineProperty(t.prototype,\"renderContents\",{get:function(){return!0!==this.props.lazyLoad||this.state.inView},enumerable:!1,configurable:!0}),t.prototype.componentWillUnmount=function(){this.unmountCallbacks.forEach((function(e){return e()}))},t.prototype.componentDidMount=function(){var e=this;if(this.props.lazyLoad)if(\"undefined\"!=typeof IntersectionObserver&&this.ref){var t=new IntersectionObserver((function(t,n){t.forEach((function(t){t.intersectionRatio>0&&(e.setState({inView:!0}),e.ref&&n.unobserve(e.ref))}))}),{rootMargin:\"10px\"});t.observe(this.ref),this.unmountCallbacks.push((function(){e.ref&&t.unobserve(e.ref)}))}else this.setState({inView:!0})},t.prototype.render=function(){var e=this;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"section\",{ref:function(t){return e.ref=t},css:__assign({width:\"100%\",alignSelf:\"stretch\",flexGrow:1,boxSizing:\"border-box\",maxWidth:this.props.maxWidth,display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",marginLeft:\"auto\",marginRight:\"auto\"},this.renderContents?null:this.props.lazyStyles)},this.renderContents?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,this.props.children,this.props.builderBlock&&this.props.builderBlock.children&&this.props.builderBlock.children.map((function(e,t){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlock$1,{key:e.id,block:e})}))):null)},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Section=withBuilder(SectionComponent,{name:\"Core:Section\",static:!0,image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F682efef23ace49afac61748dd305c70a\",inputs:[{name:\"maxWidth\",type:\"number\",defaultValue:1200},{name:\"lazyLoad\",type:\"boolean\",defaultValue:!1,advanced:!0,description:\"Only render this section when in view\"}],defaultStyles:{paddingLeft:\"20px\",paddingRight:\"20px\",paddingTop:\"50px\",paddingBottom:\"50px\",marginTop:\"0px\",width:\"100vw\",marginLeft:\"calc(50% - 50vw)\"},canHaveChildren:!0,defaultChildren:[{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{textAlign:\"center\"}},component:{name:\"Text\",options:{text:\"<p><b>I am a section! My content keeps from getting too wide, so that it's easy to read even on big screens.</b></p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur</p>\"}}}]}),StateProviderComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderStoreContext.Consumer,null,(function(t){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderStoreContext.Provider,{value:__assign(__assign({},t),{state:__assign(__assign({},t.state),e.props.state),context:__assign(__assign({},t.context),e.props.context)})},e.props.builderBlock&&e.props.builderBlock.children&&e.props.builderBlock.children.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlock$1,{block:e,key:e.id,index:t,child:!0})})),e.props.children)}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),StateProvider=withBuilder(StateProviderComponent,{name:\"Builder:StateProvider\",canHaveChildren:!0,static:!0,noWrap:!0,hideFromInsertMenu:!0}),prefetched=new Set;function searchToObject(e){var t=(e.search||\"\").substring(1).split(\"&\"),n={};for(var i in t)if(t[i]&&\"string\"==typeof t[i]){var r=t[i].split(\"=\");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return n}var RouterComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.builder=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder,t.routed=!1,t.preloadQueue=0,t.onPopState=function(e){t.updateLocationState()},t.onMouseOverOrTouchStart=function(e){if(!(t.preloadQueue>4)&&!1!==t.props.preloadOnHover){var n=t.findHrefTarget(e);if(n){var i=n.getAttribute(\"href\");if(i){if(!t.isRelative(i)){var r=t.convertToRelative(i);if(!r)return;i=r}if(!i.startsWith(\"#\")&&!prefetched.has(i)){prefetched.add(i);var o=t.parseUrl(i);t.preloadQueue++;var a=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.getUserAttributes();a.urlPath=o.pathname,a.queryString=o.search;var s=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.get(t.model,{userAttributes:a,key:t.model+\":\"+o.pathname+o.search}).subscribe((function(){t.preloadQueue--,s.unsubscribe()}))}}}}},t.onClick=function(e){return __awaiter(t,void 0,void 0,(function(){var t,n,i,r;return __generator(this,(function(o){if(!1===this.props.handleRouting)return[2];if(0!==e.button||e.ctrlKey||e.defaultPrevented||e.metaKey)return[2];if(!(t=this.findHrefTarget(e)))return[2];if(t.target&&\"_client\"!==t.target)return[2];if(!(n=t.getAttribute(\"href\")))return[2];if(this.props.onRoute&&(i={url:n,anchorNode:t,preventDefault:function(){this.defaultPrevented=!0},defaultPrevented:!1},this.props.onRoute(i),i.defaultPrevented))return[2];if(!this.isRelative(n)){if(!(r=this.convertToRelative(n)))return[2];n=r}return n.startsWith(\"#\")||(e.preventDefault(),this.route(n)),[2]}))}))},t.privateState=null,t}return __extends(t,e),t.prototype.route=function(e){var t;return this.routed=!0,\"function\"==typeof(null===(t=window.history)||void 0===t?void 0:t.pushState)?(history.pushState(null,\"\",e),this.updateLocationState(),!0):(location.href=e,!1)},t.prototype.updateLocationState=function(){this.privateState&&this.privateState.update((function(e){e.location=__assign(__assign({},e.location),{pathname:location.pathname,search:location.search,path:location.pathname.split(\"/\").slice(1),query:searchToObject(location)})}))},Object.defineProperty(t.prototype,\"model\",{get:function(){return this.props.model||\"page\"},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){\"undefined\"!=typeof document&&(document.addEventListener(\"click\",this.onClick),window.addEventListener(\"popstate\",this.onPopState),document.addEventListener(\"mouseover\",this.onMouseOverOrTouchStart),document.addEventListener(\"touchstart\",this.onMouseOverOrTouchStart))},t.prototype.componentWillUnmount=function(){\"undefined\"!=typeof document&&(document.removeEventListener(\"click\",this.onClick),document.removeEventListener(\"mouseover\",this.onMouseOverOrTouchStart),window.removeEventListener(\"popstate\",this.onPopState),document.removeEventListener(\"touchstart\",this.onMouseOverOrTouchStart))},t.prototype.render=function(){var e=this,t=this.model;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Consumer,null,(function(n){e.privateState=n;var i=n.state&&n.state.location&&n.state.location.pathname+n.state.location.search;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{className:\"builder-router\",\"data-model\":t},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"style\",{nonce:n.context.nonce},\"\\n                @keyframes builderLoadingSpinner {\\n                  0% {\\n                    transform: rotate(0deg);\\n                  }\\n                  100% {\\n                    transform: rotate(360deg);\\n                  }\\n                }\\n                /* TODO: overridable tag */\\n                .builder-page-loading {\\n                  -webkit-animation: builderLoadingSpinner 1s infinite linear;\\n                  animation: builderLoadingSpinner 1s infinite linear;\\n                  -webkit-transform: translateZ(0);\\n                  transform: translateZ(0);\\n                  border-radius: 50%;\\n                  width: 36px;\\n                  height: 36px;\\n                  margin: 6px auto;\\n                  position: relative;\\n                  border: 1px solid transparent;\\n                  border-left: 1px solid #808284;\\n                }\\n              \"),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderComponent,{key:i,data:e.props.data,content:e.routed?void 0:e.props.content,modelName:t,options:{key:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing?void 0:e.model+\":\"+i},nonce:n.context.nonce},e.props.children||(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{display:\"flex\"}},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{margin:\"40vh auto\"},className:\"builder-page-loading\"}))))}))},t.prototype.findHrefTarget=function(e){for(var t=e.target;t;){if(t instanceof HTMLAnchorElement&&t.getAttribute(\"href\"))return t;if(t===e.currentTarget)break;t=t.parentElement}return null},t.prototype.isRelative=function(e){return!e.match(/^(\\/\\/|https?:\\/\\/)/i)},t.prototype.parseUrl=function(e){var t=document.createElement(\"a\");return t.href=e,t},t.prototype.convertToRelative=function(e){var t=this.parseUrl(location.href),n=this.parseUrl(e);if(t.host===n.host){var i=n.pathname+(n.search?n.search:\"\");return i.startsWith(\"#\")?null:i||\"/\"}return null},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Router=withBuilder(RouterComponent,{name:\"Core:Router\",hideFromInsertMenu:!0,inputs:[{name:\"model\",type:\"string\",defaultValue:\"page\",advanced:!0},{name:\"handleRouting\",type:\"boolean\",defaultValue:!0,advanced:!0},{name:\"preloadOnHover\",type:\"boolean\",defaultValue:!0,advanced:!0},{name:\"onRoute\",type:\"function\",advanced:!0}]});function Mutation(e){var t,n,i=react__WEBPACK_IMPORTED_MODULE_2___default().useRef(null);useWaitForSelector(e.selector,(function(t){\"afterEnd\"!==e.type&&(t.innerHTML=\"\"),t.appendChild(i.current.firstElementChild)}));var r=null===(t=e.builderBlock)||void 0===t?void 0:t.children;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\",{style:{display:\"none\"},ref:i},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlocks,{style:{display:\"inline\"},child:!0,parentElementId:null===(n=e.builderBlock)||void 0===n?void 0:n.id,dataPath:\"this.children\",blocks:r}))}function useWaitForSelector(e,t){react__WEBPACK_IMPORTED_MODULE_2___default().useLayoutEffect((function(){try{var n=document.querySelector(e);if(n)return void t(n)}catch(e){console.warn(e)}var i=new MutationObserver((function(){try{var n=document.querySelector(e);n&&(i.disconnect(),t(n))}catch(e){console.warn(e)}}));return i.observe(document.body,{attributes:!0,subtree:!0,characterData:!0}),function(){i.disconnect()}}),[e])}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(Mutation,{name:\"Builder:Mutation\",canHaveChildren:!0,noWrap:!0,hideFromInsertMenu:!0,inputs:[{name:\"type\",type:\"string\",defaultValue:\"replace\",enum:[{label:\"Replace\",value:\"replace\",helperText:\"Replace the contents of this site region with content from Builder\"},{label:\"Append\",value:\"afterEnd\",helperText:\"Append Builder content after the chosen site region\"}]},{name:\"selector\",type:\"builder:domSelector\"}]});var get=function(e,t,n){var i=String.prototype.split.call(t,/[,[\\].]+?/).filter(Boolean).reduce((function(e,t){return null!=e?e[t]:e}),e);return void 0===i||i===e?n:i},MULTIPART_CONTENT_TYPE=\"multipart/form-data\",JSON_CONTENT_TYPE=\"application/json\",ENCODED_CONTENT_TYPE=\"application/x-www-form-urlencoded\",FormComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=null,t.state={state:\"unsubmitted\",responseData:null,formErrorMessage:\"\"},t}return __extends(t,e),Object.defineProperty(t.prototype,\"submissionState\",{get:function(){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&this.props.previewState||this.state.state},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Consumer,null,(function(t){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Provider,{value:__assign(__assign({},t),{state:__assign(__assign({},t.state),{formErrorMessage:e.state.formErrorMessage})})},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"form\",__assign({},e.props.validate?{}:{noValidate:!0},{ref:function(t){return e.ref=t},action:!e.props.sendWithJs&&e.props.action?e.props.action:void 0,method:e.props.method,name:e.props.name,onSubmit:function(t){var n,i=e.props.sendWithJs||\"email\"===e.props.sendSubmissionsTo;if(\"zapier\"===e.props.sendSubmissionsTo)t.preventDefault();else if(i){if(!e.props.action&&\"email\"!==e.props.sendSubmissionsTo)return void t.preventDefault();t.preventDefault();var r=t.currentTarget,o=e.props.customHeaders||{},a=void 0,s=new FormData(r),l=Array.from(t.currentTarget.querySelectorAll(\"input,select,textarea\")).filter((function(e){return!!e.name})).filter((function(e){return!!e.name&&(\"radio\"!==e.type||e.checked)})).map((function(e){var t,n=e.name;if(e instanceof HTMLInputElement)if(\"radio\"===e.type){if(e.checked)return{key:n,value:t=e.value}}else if(\"checkbox\"===e.type)t=e.checked;else if(\"number\"===e.type||\"range\"===e.type){var i=e.valueAsNumber;isNaN(i)||(t=i)}else t=\"file\"===e.type?e.files:e.value;else t=e.value;return{key:n,value:t}})),u=e.props.contentType;if(\"email\"===e.props.sendSubmissionsTo&&(u=MULTIPART_CONTENT_TYPE),Array.from(l).forEach((function(e){var t=e.value;(t instanceof File||Array.isArray(t)&&t[0]instanceof File||t instanceof FileList)&&(u=MULTIPART_CONTENT_TYPE)})),u===MULTIPART_CONTENT_TYPE)a=s;else if(u===JSON_CONTENT_TYPE){var d={};Array.from(l).forEach((function(e){var t=e.value,n=e.key;set(d,n,t)})),a=JSON.stringify(d)}else{if(u!==ENCODED_CONTENT_TYPE)return void console.error(\"Unsupported content type: \",u);a=Array.from(l).map((function(e){var t=e.value,n=e.key;return encodeURIComponent(n)+\"=\"+encodeURIComponent(t)})).join(\"&\")}u&&u!==MULTIPART_CONTENT_TYPE&&(i&&(null===(n=e.props.action)||void 0===n?void 0:n.includes(\"zapier.com\"))||(o[\"content-type\"]=u));var c=new CustomEvent(\"presubmit\",{detail:{body:a}});if(e.ref&&(e.ref.dispatchEvent(c),c.defaultPrevented))return;e.setState(__assign(__assign({},e.state),{state:\"sending\"}));var p=\"\".concat(\"dev\"===_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.env?\"http://localhost:5000\":\"https://builder.io\",\"/api/v1/form-submit?apiKey=\").concat(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.apiKey,\"&to=\").concat(btoa(e.props.sendSubmissionsToEmail||\"\"),\"&name=\").concat(encodeURIComponent(e.props.name||\"\"));fetch(\"email\"===e.props.sendSubmissionsTo?p:e.props.action,{body:a,headers:o,method:e.props.method||\"post\"}).then((function(t){return __awaiter(e,void 0,void 0,(function(){var e,n,i,r,o;return __generator(this,(function(a){switch(a.label){case 0:return(n=t.headers.get(\"content-type\"))&&-1!==n.indexOf(JSON_CONTENT_TYPE)?[4,t.json()]:[3,2];case 1:return e=a.sent(),[3,4];case 2:return[4,t.text()];case 3:e=a.sent(),a.label=4;case 4:if(!t.ok&&this.props.errorMessagePath&&(i=get(e,this.props.errorMessagePath))&&(\"string\"!=typeof i&&(i=JSON.stringify(i)),this.setState(__assign(__assign({},this.state),{formErrorMessage:i}))),this.setState(__assign(__assign({},this.state),{responseData:e,state:t.ok?\"success\":\"error\"})),t.ok){if(r=new CustomEvent(\"submit:success\",{detail:{res:t,body:e}}),this.ref){if(this.ref.dispatchEvent(r),r.defaultPrevented)return[2];!1!==this.props.resetFormOnSubmit&&this.ref.reset()}this.props.successUrl&&(this.ref?(o=new CustomEvent(\"route\",{detail:{url:this.props.successUrl}}),this.ref.dispatchEvent(o),o.defaultPrevented||(location.href=this.props.successUrl)):location.href=this.props.successUrl)}return[2]}}))}))}),(function(t){var n=new CustomEvent(\"submit:error\",{detail:{error:t}});e.ref&&(e.ref.dispatchEvent(n),n.defaultPrevented)||e.setState(__assign(__assign({},e.state),{responseData:t,state:\"error\"}))}))}}},e.props.attributes),e.props.builderBlock&&e.props.builderBlock.children&&e.props.builderBlock.children.map((function(e,t){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlock$1,{key:e.id,block:e})})),\"error\"===e.submissionState&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlocks,{dataPath:\"errorMessage\",blocks:e.props.errorMessage}),\"sending\"===e.submissionState&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlocks,{dataPath:\"sendingMessage\",blocks:e.props.sendingMessage}),\"error\"===e.submissionState&&e.state.responseData&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"pre\",{className:\"builder-form-error-text\",css:{padding:10,color:\"red\",textAlign:\"center\"}},JSON.stringify(e.state.responseData,null,2)),\"success\"===e.submissionState&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlocks,{dataPath:\"successMessage\",blocks:e.props.successMessage})))}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Form=withBuilder(FormComponent,{name:\"Form:Form\",defaults:{responsiveStyles:{large:{marginTop:\"15px\",paddingBottom:\"15px\"}}},image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fef36d2a846134910b64b88e6d18c5ca5\",inputs:[{name:\"sendSubmissionsTo\",type:\"string\",enum:[{label:\"Send to email\",value:\"email\",helperText:\"Send form submissions to the email address of your choosing\"},{label:\"Custom\",value:\"custom\",helperText:\"Handle where the form requests go manually with a little code, e.g. to your own custom backend\"}],defaultValue:\"email\"},{name:\"sendSubmissionsToEmail\",type:\"string\",required:!0,defaultValue:\"your@email.com\",showIf:'options.get(\"sendSubmissionsTo\") === \"email\"'},{name:\"sendWithJs\",type:\"boolean\",helperText:\"Set to false to use basic html form action\",defaultValue:!0,showIf:'options.get(\"sendSubmissionsTo\") === \"custom\"'},{name:\"name\",type:\"string\",defaultValue:\"My form\"},{name:\"action\",type:\"string\",helperText:\"URL to send the form data to\",showIf:'options.get(\"sendSubmissionsTo\") === \"custom\"'},{name:\"contentType\",type:\"string\",defaultValue:JSON_CONTENT_TYPE,advanced:!0,enum:[JSON_CONTENT_TYPE,MULTIPART_CONTENT_TYPE,ENCODED_CONTENT_TYPE],showIf:'options.get(\"sendSubmissionsTo\") === \"custom\" && options.get(\"sendWithJs\") === true'},{name:\"method\",type:\"string\",showIf:'options.get(\"sendSubmissionsTo\") === \"custom\"',defaultValue:\"POST\",advanced:!0},{name:\"previewState\",type:\"string\",enum:[\"unsubmitted\",\"sending\",\"success\",\"error\"],defaultValue:\"unsubmitted\",helperText:'Choose a state to edit, e.g. choose \"success\" to show what users see on success and edit the message',showIf:'options.get(\"sendSubmissionsTo\") !== \"zapier\" && options.get(\"sendWithJs\") === true'},{name:\"successUrl\",type:\"url\",helperText:\"Optional URL to redirect the user to on form submission success\",showIf:'options.get(\"sendSubmissionsTo\") !== \"zapier\" && options.get(\"sendWithJs\") === true'},{name:\"resetFormOnSubmit\",type:\"boolean\",showIf:function(e){return\"custom\"===e.get(\"sendSubmissionsTo\")&&!0===e.get(\"sendWithJs\")},advanced:!0},{name:\"successMessage\",type:\"uiBlocks\",hideFromUI:!0,defaultValue:[{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Text\",options:{text:\"<span>Thanks!</span>\"}}}]},{name:\"validate\",type:\"boolean\",defaultValue:!0,advanced:!0},{name:\"errorMessagePath\",type:\"text\",advanced:!0,helperText:'Path to where to get the error message from in a JSON response to display to the user, e.g. \"error.message\" for a response like { \"error\": { \"message\": \"this username is taken\" }}'},{name:\"errorMessage\",type:\"uiBlocks\",hideFromUI:!0,defaultValue:[{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},bindings:{\"component.options.text\":\"state.formErrorMessage || block.component.options.text\"},component:{name:\"Text\",options:{text:\"<span>Form submission error :( Please check your answers and try again</span>\"}}}]},{name:\"sendingMessage\",type:\"uiBlocks\",hideFromUI:!0,defaultValue:[{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Text\",options:{text:\"<span>Sending...</span>\"}}}]},__assign(__assign({name:\"customHeaders\",type:\"map\"},{valueType:{type:\"string\"}}),{advanced:!0,showIf:'options.get(\"sendSubmissionsTo\") === \"custom\" && options.get(\"sendWithJs\") === true'})],noWrap:!0,canHaveChildren:!0,defaultChildren:[{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Text\",options:{text:\"<span>Enter your name</span>\"}}},{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Form:Input\",options:{name:\"name\",placeholder:\"Jane Doe\"}}},{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Text\",options:{text:\"<span>Enter your email</span>\"}}},{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Form:Input\",options:{name:\"email\",placeholder:\"jane@doe.com\"}}},{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Form:SubmitButton\",options:{text:\"Submit\"}}}]}),FormInputComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"input\",__assign({key:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&this.props.defaultValue?this.props.defaultValue:\"default-key\",placeholder:this.props.placeholder,type:this.props.type,name:this.props.name},void 0===this.props.value?{defaultValue:this.props.defaultValue}:{value:this.props.value},{required:this.props.required},this.props.attributes))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),FormInput=withBuilder(FormInputComponent,{name:\"Form:Input\",image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fad6f37889d9e40bbbbc72cdb5875d6ca\",inputs:[{name:\"type\",type:\"text\",enum:[\"text\",\"number\",\"email\",\"url\",\"checkbox\",\"radio\",\"range\",\"date\",\"datetime-local\",\"search\",\"tel\",\"time\",\"file\",\"month\",\"week\",\"password\",\"color\",\"hidden\"],defaultValue:\"text\"},{name:\"name\",type:\"string\",required:!0,helperText:'Every input in a form needs a unique name describing what it takes, e.g. \"email\"'},{name:\"placeholder\",type:\"string\",defaultValue:\"Hello there\",helperText:\"Text to display when there is no value\"},{name:\"defaultValue\",type:\"string\"},{name:\"value\",type:\"string\",advanced:!0},{name:\"required\",type:\"boolean\",helperText:\"Is this input required to be filled out to submit a form\",defaultValue:!1}],noWrap:!0,static:!0,defaultStyles:{paddingTop:\"10px\",paddingBottom:\"10px\",paddingLeft:\"10px\",paddingRight:\"10px\",borderRadius:\"3px\",borderWidth:\"1px\",borderStyle:\"solid\",borderColor:\"#ccc\"}}),FormSubmitButtonComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"button\",__assign({type:\"submit\"},this.props.attributes),this.props.text)},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),FormSubmitButton=withBuilder(FormSubmitButtonComponent,{name:\"Form:SubmitButton\",image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fdf2820ffed1f4349a94c40b3221f5b98\",defaultStyles:{appearance:\"none\",paddingTop:\"15px\",paddingBottom:\"15px\",paddingLeft:\"25px\",paddingRight:\"25px\",backgroundColor:\"#3898EC\",color:\"white\",borderRadius:\"4px\",cursor:\"pointer\"},inputs:[{name:\"text\",type:\"text\",defaultValue:\"Click me\"}],static:!0,noWrap:!0}),LabelComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"label\",__assign({htmlFor:this.props.for},this.props.attributes),this.props.text&&react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"span\",{className:\"builder-label-text\",dangerouslySetInnerHTML:{__html:this.props.text}}),this.props.builderBlock&&this.props.builderBlock.children&&this.props.builderBlock.children.map((function(e){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlock$1,{key:e.id,block:e})})))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Label=withBuilder(LabelComponent,{name:\"Form:Label\",image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F9322342f04b545fb9a8091cd801dfb5b\",inputs:[{name:\"text\",type:\"html\",richText:!0,defaultValue:\"Label\"},{name:\"for\",type:\"text\",helperText:\"The name of the input this label is for\",advanced:!0}],noWrap:!0,static:!0,canHaveChildren:!0}),FormSelectComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this.props.options;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"select\",__assign({value:this.props.value,key:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&this.props.defaultValue?this.props.defaultValue:\"default-key\",defaultValue:this.props.defaultValue,name:this.props.name,required:this.props.required},this.props.attributes),e&&e.map((function(e){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"option\",{value:e.value},e.name||e.value)})))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),FormSelect=withBuilder(FormSelectComponent,{name:\"Form:Select\",image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F83acca093fb24aaf94dee136e9a4b045\",defaultStyles:{alignSelf:\"flex-start\"},inputs:[{name:\"options\",type:\"list\",required:!0,subFields:[{name:\"value\",type:\"text\",required:!0},{name:\"name\",type:\"text\"}],defaultValue:[{value:\"option 1\"},{value:\"option 2\"}]},{name:\"name\",type:\"string\",required:!0,helperText:'Every select in a form needs a unique name describing what it gets, e.g. \"email\"'},{name:\"defaultValue\",type:\"string\"},{name:\"value\",type:\"string\",advanced:!0},{name:\"required\",type:\"boolean\",defaultValue:!1}],static:!0,noWrap:!0}),TextAreaComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"textarea\",__assign({placeholder:this.props.placeholder,name:this.props.name,value:this.props.value,defaultValue:this.props.defaultValue,required:this.props.required},this.props.attributes))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),TextArea=withBuilder(TextAreaComponent,{name:\"Form:TextArea\",image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Ff74a2f3de58c4c3e939204e5b6b8f6c3\",inputs:[{advanced:!0,name:\"value\",type:\"string\"},{name:\"name\",type:\"string\",required:!0,helperText:'Every input in a form needs a unique name describing what it gets, e.g. \"email\"'},{name:\"defaultValue\",type:\"string\"},{name:\"placeholder\",type:\"string\",defaultValue:\"Hello there\"},{name:\"required\",type:\"boolean\",defaultValue:!1}],defaultStyles:{paddingTop:\"10px\",paddingBottom:\"10px\",paddingLeft:\"10px\",paddingRight:\"10px\",borderRadius:\"3px\",borderWidth:\"1px\",borderStyle:\"solid\",borderColor:\"#ccc\"},static:!0,noWrap:!0}),ImgComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getSrcSet=function(){var e=this.props.image;if(e&&\"string\"==typeof e&&e.match(/builder\\.io/))return getSrcSet(e)},t.prototype.render=function(){var e=this.props.attributes||{},t=this.getSrcSet(),n=e.style,i=__rest(e,[\"style\"]),r={objectFit:this.props.backgroundSize,objectPosition:this.props.backgroundPosition,aspectRatio:this.props.aspectRatio},o=__assign(__assign({},r),n);return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"img\",__assign({loading:\"lazy\"},i,{src:this.props.image||e.src,srcSet:t,alt:this.props.altText,title:this.props.title,style:o,className:\"builder-raw-img\"}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Img=withBuilder(ImgComponent,{name:\"Raw:Img\",hideFromInsertMenu:!0,image:\"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4\",inputs:[{name:\"image\",bubble:!0,type:\"file\",allowedFileTypes:IMAGE_FILE_TYPES,required:!0},{name:\"backgroundSize\",type:\"text\",defaultValue:\"cover\",enum:[{label:\"contain\",value:\"contain\",helperText:\"The image should never get cropped\"},{label:\"cover\",value:\"cover\",helperText:\"The image should fill it's box, cropping when needed\"}]},{name:\"backgroundPosition\",type:\"text\",defaultValue:\"center\",enum:[\"center\",\"top\",\"left\",\"right\",\"bottom\",\"top left\",\"top right\",\"bottom left\",\"bottom right\"]},{name:\"altText\",type:\"string\",helperText:\"Text to display when the user has images off\"},{name:\"title\",type:\"string\",helperText:\"Text to display when hovering over the asset\"},{name:\"aspectRatio\",type:\"number\",helperText:\"This is the ratio of height/width, e.g. set to 1.5 for a 300px wide and 200px tall photo. Set to 0 to not force the image to maintain it's aspect ratio\",advanced:!0,defaultValue:.7041}],noWrap:!0}),RawText=function(e){var t=e.attributes||{};return react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"span\",{className:(null==t?void 0:t.class)||(null==t?void 0:t.className),dangerouslySetInnerHTML:{__html:e.text||\"\"}})};_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(RawText,{name:\"Builder:RawText\",hideFromInsertMenu:!0,inputs:[{name:\"text\",bubble:!0,type:\"longText\",required:!0}]});var filterWithCustomTargetingScript='function filterWithCustomTargeting(e,t,n,r){var i={query:t,startDate:n,endDate:r},o=e.date&&new Date(e.date)||new Date;return!(i.startDate&&new Date(i.startDate)>o)&&(!(i.endDate&&new Date(i.endDate)<o)&&(!i.query||!i.query.length||i.query.every((function(t){return objectMatchesQuery(e,t)}))))}function isString(e){return\"string\"==typeof e}function isNumber(e){return\"number\"==typeof e}function objectMatchesQuery(e,t){return function(){var n=t.property,r=t.operator,i=t.value;if(t&&\"urlPath\"===t.property&&t.value&&\"string\"==typeof t.value&&\"/\"!==t.value&&t.value.endsWith(\"/\")&&(i=t.value.slice(0,-1)),!n||!r)return!0;if(Array.isArray(i))return\"isNot\"===r?i.every((function(t){return objectMatchesQuery(e,{property:n,operator:r,value:t})})):!!i.find((function(t){return objectMatchesQuery(e,{property:n,operator:r,value:t})}));var o=e[n];if(Array.isArray(o))return o.includes(i);switch(r){case\"is\":return o===i;case\"isNot\":return o!==i;case\"contains\":return(isString(o)||Array.isArray(o))&&o.includes(String(i));case\"startsWith\":return isString(o)&&o.startsWith(String(i));case\"endsWith\":return isString(o)&&o.endsWith(String(i));case\"greaterThan\":return isNumber(o)&&isNumber(i)&&o>i;case\"lessThan\":return isNumber(o)&&isNumber(i)&&o<i;case\"greaterThanOrEqualTo\":return isNumber(o)&&isNumber(i)&&o>=i;case\"lessThanOrEqualTo\":return isNumber(o)&&isNumber(i)&&o<=i}return!1}()}';function filterWithCustomTargeting(e,t,n,i){var r={query:t,startDate:n,endDate:i},o=e.date&&new Date(e.date)||new Date;return!(r.startDate&&new Date(r.startDate)>o)&&(!(r.endDate&&new Date(r.endDate)<o)&&(!r.query||!r.query.length||r.query.every((function(t){return objectMatchesQuery(e,t)}))))}function isString(e){return\"string\"==typeof e}function isNumber(e){return\"number\"==typeof e}function objectMatchesQuery(e,t){return function(){var n=t.property,i=t.operator,r=t.value;if(t&&\"urlPath\"===t.property&&t.value&&\"string\"==typeof t.value&&\"/\"!==t.value&&t.value.endsWith(\"/\")&&(r=t.value.slice(0,-1)),!n||!i)return!0;if(Array.isArray(r))return\"isNot\"===i?r.every((function(t){return objectMatchesQuery(e,{property:n,operator:i,value:t})})):!!r.find((function(t){return objectMatchesQuery(e,{property:n,operator:i,value:t})}));var o=e[n];if(Array.isArray(o))return o.includes(r);switch(i){case\"is\":return o===r;case\"isNot\":return o!==r;case\"contains\":return(isString(o)||Array.isArray(o))&&o.includes(String(r));case\"startsWith\":return isString(o)&&o.startsWith(String(r));case\"endsWith\":return isString(o)&&o.endsWith(String(r));case\"greaterThan\":return isNumber(o)&&isNumber(r)&&o>r;case\"lessThan\":return isNumber(o)&&isNumber(r)&&o<r;case\"greaterThanOrEqualTo\":return isNumber(o)&&isNumber(r)&&o>=r;case\"lessThanOrEqualTo\":return isNumber(o)&&isNumber(r)&&o<=r}return!1}()}function PersonalizationContainer(e){var t,n,i,r,o,a,s,l,u,d,c,p,f,m,h,v,g,b,y,_,x,S=Boolean(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(null===(t=window.__hydrated)||void 0===t?void 0:t[null===(n=e.builderBlock)||void 0===n?void 0:n.id])),k=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),B=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(S),w=B[0],C=B[1],E=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),R=E[0],T=E[1],I=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);I[0];var j=I[1],O=(0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(BuilderStoreContext);if((0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){var e;C(!0),T(!0);var t=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.userAttributesChanged.subscribe((function(){j((function(e){return e+1}))})),n=[function(){return t.unsubscribe()}];if(!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing){var i=P[0];null===(e=k.current)||void 0===e||e.dispatchEvent(new CustomEvent(\"builder.variantLoaded\",{detail:{variant:i||\"default\",content:O.content},bubbles:!0}));var r=new IntersectionObserver((function(e){e.forEach((function(e){var t;e.isIntersecting&&(null===(t=k.current)||void 0===t||t.dispatchEvent(new CustomEvent(\"builder.variantDisplayed\",{detail:{variant:i||\"default\",content:O.content},bubbles:!0})))}))}));r.observe(k.current),n.push((function(){return r.disconnect()}))}return function(){n.forEach((function(e){return e()}))}}),[]),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer)return react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",__assign({},e.attributes,{style:__assign({opacity:1,transition:\"opacity 0.2s ease-in-out\"},null===(i=e.attributes)||void 0===i?void 0:i.style),className:\"builder-personalization-container \".concat(e.attributes.className)}),null===(r=e.variants)||void 0===r?void 0:r.map((function(t,n){var i,r;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"template\",{key:n,\"data-variant-id\":(null===(i=e.builderBlock)||void 0===i?void 0:i.id)+n},react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlocks,{blocks:t.blocks,parentElementId:null===(r=e.builderBlock)||void 0===r?void 0:r.id,dataPath:\"component.options.variants.\".concat(n,\".blocks\"),child:!0}))})),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"script\",{nonce:O.context.nonce,id:\"variants-script-\".concat(null===(o=e.builderBlock)||void 0===o?void 0:o.id),dangerouslySetInnerHTML:{__html:getPersonalizationScript(e.variants,(null===(a=e.builderBlock)||void 0===a?void 0:a.id)||\"none\",null===(s=e.builderState.state)||void 0===s?void 0:s.locale)}}),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlocks,{blocks:null===(l=e.builderBlock)||void 0===l?void 0:l.children,parentElementId:null===(u=e.builderBlock)||void 0===u?void 0:u.id,dataPath:\"this.children\",child:!0})),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"script\",{nonce:O.context.nonce,dangerouslySetInnerHTML:{__html:\"\\n         window.__hydrated = window.__hydrated || {};\\n         window.__hydrated['\".concat(null===(d=e.builderBlock)||void 0===d?void 0:d.id,\"'] = true;\\n        \").replace(/\\s+/g,\" \")}}));var P=(e.variants||[]).filter((function(t){var n;return filterWithCustomTargeting(__assign(__assign({},(null===(n=e.builderState.state)||void 0===n?void 0:n.locale)?{locale:e.builderState.state.locale}:{}),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.getUserAttributes()),t.query,t.startDate,t.endDate)}));return react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",__assign({ref:k},e.attributes,{style:__assign({opacity:w?1:0,transition:\"opacity 0.2s ease-in-out\"},null===(c=e.attributes)||void 0===c?void 0:c.style),className:\"builder-personalization-container \".concat(e.attributes.className).concat(w?\"\":\" builder-personalization-container-loading\")}),R&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&\"number\"==typeof e.previewingIndex&&e.previewingIndex<((null===(p=e.variants)||void 0===p?void 0:p.length)||0)?react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlocks,{blocks:null===(m=null===(f=e.variants)||void 0===f?void 0:f[e.previewingIndex])||void 0===m?void 0:m.blocks,parentElementId:null===(h=e.builderBlock)||void 0===h?void 0:h.id,dataPath:\"component.options.variants.\".concat(e.previewingIndex,\".blocks\"),child:!0}):R&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&\"number\"!=typeof e.previewingIndex||!w||!P.length?react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlocks,{blocks:null===(v=e.builderBlock)||void 0===v?void 0:v.children,parentElementId:null===(g=e.builderBlock)||void 0===g?void 0:g.id,dataPath:\"this.children\",child:!0}):react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlocks,{blocks:null===(b=P[0])||void 0===b?void 0:b.blocks,parentElementId:null===(y=e.builderBlock)||void 0===y?void 0:y.id,dataPath:\"component.options.variants.\".concat(null===(_=e.variants)||void 0===_?void 0:_.indexOf(P[0]),\".blocks\"),child:!0})),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"script\",{nonce:O.context.nonce,dangerouslySetInnerHTML:{__html:\"\\n         window.__hydrated = window.__hydrated || {};\\n         window.__hydrated['\".concat(null===(x=e.builderBlock)||void 0===x?void 0:x.id,\"'] = true;\\n        \").replace(/\\s+/g,\" \")}}))}function getPersonalizationScript(e,t,n){return\"\\n      (function() {\\n        function getCookie(name) {\\n          var nameEQ = name + \\\"=\\\";\\n          var ca = document.cookie.split(';');\\n          for(var i=0;i < ca.length;i++) {\\n              var c = ca[i];\\n              while (c.charAt(0)==' ') c = c.substring(1,c.length);\\n              if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\\n          }\\n          return null;\\n        }\\n        function removeVariants() {\\n          variants.forEach(function (template, index) {\\n            document.querySelector('template[data-variant-id=\\\"' + \\\"\".concat(t,\"\\\" + index + '\\\"]').remove();\\n          });\\n          document.getElementById('variants-script-\").concat(t,\"').remove();\\n        }\\n\\n        var attributes = JSON.parse(getCookie(\\\"\").concat(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.attributesCookieName,'\") || \"{}\");\\n        ').concat(n?'attributes.locale = \"'.concat(n,'\";'):\"\",\"\\n        var variants = \").concat(JSON.stringify(null==e?void 0:e.map((function(e){return{query:e.query,startDate:e.startDate,endDate:e.endDate}}))),\";\\n        var winningVariantIndex = variants.findIndex(function(variant) {\\n          return filterWithCustomTargeting(\\n            attributes,\\n            variant.query,\\n            variant.startDate,\\n            variant.endDate\\n          );\\n        });\\n        var isDebug = location.href.includes('builder.debug=true');\\n        if (isDebug) {\\n          console.debug('PersonalizationContainer', {\\n            attributes: attributes,\\n            variants: variants,\\n            winningVariantIndex: winningVariantIndex,\\n            });\\n        }\\n        if (winningVariantIndex !== -1) {\\n          var winningVariant = document.querySelector('template[data-variant-id=\\\"' + \\\"\").concat(t,\"\\\" + winningVariantIndex + '\\\"]');\\n          if (winningVariant) {\\n            var parentNode = winningVariant.parentNode;\\n            var newParent = parentNode.cloneNode(false);\\n            newParent.appendChild(winningVariant.content.firstChild);\\n            parentNode.parentNode.replaceChild(newParent, parentNode);\\n            if (isDebug) {\\n              console.debug('PersonalizationContainer', 'Winning variant Replaced:', winningVariant);\\n            }\\n          }\\n        } else if (variants.length > 0) {\\n          removeVariants();\\n        }\\n        \").concat(filterWithCustomTargetingScript,\"\\n      })();\\n    \").replace(/\\s+/g,\" \")}function useIsPreviewing(){var e=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),t=e[0],n=e[1];return (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing)&&n(!0)}),[]),t}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(PersonalizationContainer,{name:\"PersonalizationContainer\",noWrap:!0,friendlyName:\"Dynamic Container\",image:\"https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F37229ed30d8c41dfb10b8cca1992053a\",canHaveChildren:!0,inputs:[{name:\"variants\",defaultValue:[],behavior:\"personalizationVariantList\",type:\"list\",subFields:[{name:\"name\",type:\"text\",localized:!1},{name:\"query\",friendlyName:\"Targeting rules\",type:\"BuilderQuery\",defaultValue:[],localized:!1},{name:\"startDate\",type:\"date\",localized:!1},{name:\"endDate\",type:\"date\",localized:!1},{name:\"blocks\",type:\"UiBlocks\",hideFromUI:!0,defaultValue:[]}]}]}),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isReact=!0,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.sdkInfo={name:\"react\",version:SDK_VERSION};\n//# sourceMappingURL=builder-react.es5.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGJ1aWxkZXIuaW8vcmVhY3QvZGlzdC9idWlsZGVyLXJlYWN0LmVzNS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVWLDJCQUEyQixxRkFBcUYsZ0NBQWdDLHVLQUF1SyxPQUFPLGdDQUFnQyw2Q0FBNkMsYUFBYSxnQ0FBZ0MsY0FBYyxnQkFBZ0Isc0VBQXNFLFFBQVEsd0JBQXdCLHdIQUF3SCxhQUFhLG1CQUFtQix5RkFBeUYsd0JBQXdCLDJDQUEyQyxpQ0FBaUMsSUFBSSx1RkFBdUYsU0FBUyx5QkFBeUIscUJBQXFCLFNBQVMsc0ZBQXNGLDZEQUE2RCxRQUFRLHNDQUFzQyxXQUFXLDZGQUE2RixTQUFTLDZCQUE2QixtRkFBbUYsNkZBQTZGLDBCQUEwQixLQUFLLG9EQUFvRCw4Q0FBOEMseUJBQXlCLDhGQUE4Riw0QkFBNEIsMENBQTBDLGNBQWMsSUFBSSxhQUFhLFNBQVMsTUFBTSxjQUFjLElBQUksY0FBYyxTQUFTLE1BQU0sY0FBYyxNQUFNLGlFQUFpRSxLQUFLLGNBQWMsK0JBQStCLEdBQUcsMEJBQTBCLGVBQWUsd0JBQXdCLHFCQUFxQixZQUFZLGlCQUFpQixVQUFVLGlDQUFpQywyREFBMkQsWUFBWSxJQUFJLGNBQWMsbUJBQW1CLG1CQUFtQiw0REFBNEQsS0FBSyx1QkFBdUIsS0FBSyxrSEFBa0gseUNBQXlDLGtCQUFrQixNQUFNLHlCQUF5QixvQkFBb0IsOEJBQThCLFNBQVMsa0NBQWtDLFNBQVMsMEVBQTBFLElBQUksU0FBUyx5Q0FBeUMsYUFBYSxNQUFNLDJCQUEyQixpQkFBaUIsTUFBTSxvQkFBb0IsMkJBQTJCLE1BQU0sK0JBQStCLFNBQVMsY0FBYyxTQUFTLFlBQVksUUFBUSxNQUFNLHFCQUFxQixPQUFPLGdDQUFnQyxVQUFVLDhCQUE4QixvREFBb0QsSUFBSSxxRUFBcUUsa0RBQWtELG9EQUFvRCwwQkFBMEIscUNBQXFDLG9CQUFvQixpQkFBaUIsbUJBQW1CLHdCQUF3QiwwQkFBMEIsWUFBWSxXQUFXLEtBQUssV0FBVyxZQUFZLFNBQVMsc0RBQXNELFFBQVEsMEJBQTBCLFFBQVEsNEJBQTRCLFNBQVMsNEJBQTRCLFFBQVEsNkJBQTZCLDZCQUE2Qix1QkFBdUIsNkJBQTZCLHdCQUF3QixXQUFXLEtBQUssV0FBVywyQkFBMkIsZUFBZSxvQ0FBb0MsMEJBQTBCLDBCQUEwQixlQUFlLG9DQUFvQyxNQUFNLHNCQUFzQixVQUFVLHlCQUF5QixtQkFBbUIsdUNBQXVDLFNBQVMseUJBQXlCLG9CQUFvQixVQUFVLHlCQUF5QixxQkFBcUIsZ0JBQWdCLDBCQUEwQixHQUFHLHFCQUFxQiwwQkFBMEIseURBQXlELDZDQUE2QyxnRkFBZ0Ysd0JBQXdCLGlCQUFpQixZQUFZLG9CQUFvQix5RkFBeUYsb0RBQU8sdUJBQXVCLFVBQWMsS0FBSyxtQ0FBbUMsU0FBUyw4R0FBOEcsbUJBQW1CLHFGQUFxRix5QkFBeUIsTUFBTSwwSUFBMEksb0RBQW9ELCtDQUErQyxNQUFNLDZCQUE2QiwySkFBMkosMGFBQTBhLFdBQVcsaUJBQWlCLE9BQU8sb0RBQU8sRUFBRSxtQ0FBbUMsd0RBQXdELGNBQWMsZ0NBQWdDLHdCQUF3QiwrR0FBK0csSUFBSSxvREFBTyxtVUFBbVUsa0NBQWtDLCtDQUErQyxnREFBZ0Qsa0NBQWtDLCtCQUErQixpQkFBaUIsOENBQThDLDRDQUE0QyxxQ0FBcUMsbUJBQW1CLHFDQUFxQyxpQkFBaUIsZUFBZSxFQUFFLGFBQWEscURBQXFELGdEQUFnRCw4QkFBOEIsZ0RBQWdELE9BQU8sYUFBYSxlQUFlLFNBQVMsYUFBYSxtQkFBbUIsdURBQXVELG9EQUFPLG1FQUFtRSxpQkFBaUIsaUJBQWlCLG1CQUFtQixzQkFBc0IsSUFBSSxHQUFHLG9EQUFPLHVFQUF1RSxtSEFBbUgsd0ZBQXdGLEtBQUssNkJBQTZCLGdDQUFnQyxVQUFVLElBQUksSUFBSSxvQkFBb0IsU0FBUyxTQUFTLFVBQVUsU0FBUyxPQUFPLG9EQUFPLCtMQUErTCxPQUFPLG9EQUFPLDZCQUE2QixvREFBb0QsbUZBQW1GLGtEQUFrRCxvREFBb0QsbUJBQW1CLE9BQU8seUJBQXlCLEdBQUcsNEJBQTRCLHVDQUF1Qyw0Q0FBNEMsZUFBZSwyQ0FBMkMsd0RBQXdELG9EQUFvRCxlQUFlLHlCQUF5QixXQUFXLG9DQUFvQyxzQ0FBc0MsV0FBVyx3Q0FBd0Msa0NBQWtDLFdBQVcsU0FBUyxNQUFNLGtEQUFrRCxzREFBc0QscUVBQXFFLFNBQVMsbUJBQW1CLE9BQU8sd0NBQXdDLHFEQUFxRCxHQUFHLDJFQUEyRSxvQ0FBb0MsdUNBQXVDLE9BQU8sSUFBSSxrQ0FBa0MsTUFBTSw4QkFBOEIsTUFBTSxvREFBTyxlQUFlLHNEQUFzRCxnQkFBZ0Isc0JBQXNCLG9EQUFPLHNCQUFzQixlQUFlLHFFQUFxRSxpQkFBaUIsbUJBQW1CLHNCQUFzQix3Q0FBd0MsS0FBSyx1QkFBdUIsZ0NBQWdDLDJCQUEyQixvQkFBb0IsNkJBQTZCLDBEQUE0QixFQUFFLDhCQUE4QixzQkFBc0IsMERBQTRCLEVBQUUsUUFBUSxhQUFhLFdBQVcsV0FBVyxvQkFBb0IsYUFBYSxxREFBcUQsNkNBQTZDLDhDQUE4QyxxQkFBcUIseUJBQXlCLFlBQVksV0FBVyxLQUFLLDRCQUE0QixNQUFNLHdCQUF3QixtQkFBbUIsZ0JBQWdCLDBEQUEwRCxzQkFBc0IsWUFBWSw0Q0FBNEMsS0FBSyxvRUFBb0UsMERBQTBELEtBQUssU0FBUyx3QkFBd0IsNEJBQTRCLHFCQUFxQixxQkFBcUIsdUJBQXVCLEdBQUcsK0JBQStCLE1BQU0saU1BQWlNLG1CQUFtQiw0RUFBNEUsd0tBQXdLLDRCQUE0QixzRUFBc0Usa0JBQWtCLE9BQU8sMERBQTRCLGdEQUFnRCxvQ0FBb0MsMERBQTRCLGdCQUFnQixLQUFLLElBQUksNkJBQTZCLGdLQUFnSyxpQkFBaUIsT0FBTyx1QkFBdUIsMENBQTBDLGtCQUFrQixpQkFBaUIsT0FBTyx1QkFBdUIscUJBQXFCLDZCQUE2QixHQUFHLGlDQUFpQyw2RUFBNkUscUNBQXFDLHNEQUFzRCxTQUFTLCtCQUErQiw0QkFBNEIsS0FBSyxzQ0FBc0MsMEVBQTBFLE1BQU0sNkRBQTZELFNBQVMsa0NBQWtDLDJDQUEyQyxxQ0FBcUMsTUFBTSxrQ0FBa0MsNkRBQTZELDBCQUEwQixHQUFHLFNBQVMsNkJBQTZCLG9DQUFvQyx5Q0FBeUMsOENBQThDLGtDQUFrQyxHQUFHLG1EQUFtRCxTQUFTLDJHQUEyRyxTQUFTLHlKQUF5SixzQkFBc0IscUJBQXFCLDBCQUEwQixZQUFZLFdBQVcsS0FBSyxlQUFlLFNBQVMsd0JBQXdCLGVBQWUsOEJBQThCLCtDQUErQyx1QkFBdUIsMENBQTBDLG9DQUFvQyx3QkFBd0IsNERBQTRELHNDQUFzQyxzQkFBc0IscUJBQXFCLFFBQVEsYUFBYSxXQUFXLHFCQUFxQix1Q0FBdUMsdUJBQXVCLGdDQUFnQyxvREFBb0QsZUFBZSw0REFBNEQsK0VBQStFLG1GQUFtRixHQUFHLE1BQU0saURBQWlELDJCQUEyQixzQ0FBc0MsbUJBQW1CLCtEQUErRCwrQkFBK0Isb0JBQW9CLE1BQU0sd0JBQXdCLCtEQUErRCxnQkFBZ0IsOEJBQThCLEdBQUcsT0FBTyw0RkFBNEYsZUFBZSx5QkFBeUIsK0JBQStCLG9EQUFvRCxPQUFPLGFBQWEsd0RBQXdELDBDQUEwQyx1REFBdUQsd0VBQXdFLHVEQUF1RCxlQUFlLHdCQUF3QiwrQkFBK0IsZ0RBQWdELGlFQUFpRSwyQkFBMkIsMkNBQTJDLFNBQVMsdUNBQXVDLGlNQUFpTSxXQUFXLEtBQUssV0FBVyw4RkFBOEYsVUFBVSxLQUFLLDRKQUE0SixFQUFFLGlFQUFpRSx5QkFBeUIsbURBQW1ELDBCQUEwQixHQUFHLDhHQUE4RyxnSUFBZ0kseUNBQXlDLDBFQUEwRSxvREFBTyxpQ0FBaUMsb0RBQU8sNEJBQTRCLHdEQUF3RCxvREFBTyxnRUFBZ0UscURBQXFELGFBQWEsaUJBQWlCLG1DQUFtQyxHQUFHLG9EQUFPLGdFQUFnRSxPQUFPLHlCQUF5Qix3SEFBd0gsMkNBQTJDLHFEQUFxRCxvREFBTyxXQUFXLG9EQUFPLDZCQUE2QixvREFBTywwREFBMEQsMEJBQTBCLG9CQUFvQiwyQkFBMkIsS0FBSyxxQkFBcUIsRUFBRSxLQUFLLGlEQUFpRCx1QkFBdUIsMERBQTBELGlCQUFpQixvQkFBb0Isc0RBQXNELG1CQUFtQiw2Q0FBNkMsNEJBQTRCLGdCQUFnQix3Q0FBd0Msa0RBQUcsdUJBQXVCLGVBQWUseUJBQXlCLFVBQVUsR0FBRyxvRUFBb0Usb0ZBQW9GLG9EQUFPLDhCQUE4QixrQkFBa0IsbWJBQW1iLDBCQUEwQixnQkFBZ0IsUUFBUSxrREFBa0QsRUFBRSxFQUFFLHlCQUF5Qix3S0FBd0ssMkNBQTJDLHFDQUFxQyxvREFBTyw2QkFBNkIsc0JBQXNCLGdGQUFnRiw0QkFBNEIsa0JBQWtCLHNFQUFzRSxtQkFBbUIsa0NBQWtDLFFBQVEsaURBQWlELG9CQUFvQixnREFBZ0Qsd0NBQXdDLG9EQUFPLDhCQUE4QixvREFBTywyQkFBMkIsNEJBQTRCLG9EQUFvRCxtREFBbUQsdWNBQXVjLGtKQUFrSix1QkFBdUIscUNBQXFDLEVBQUUsd0JBQXdCLEdBQUcsV0FBVyxLQUFLLHNCQUFzQixvQkFBb0IsY0FBYyw4RUFBOEUsbUNBQW1DLGtFQUFrRSx1UUFBdVEsb0RBQU8sNktBQTZLLGtCQUFrQixFQUFFLG9EQUFPLHVIQUF1SCx1QkFBdUIscURBQXFELEdBQUcsMEZBQTBGLGlDQUFpQyxPQUFPLGtEQUFHLENBQUMsdURBQXVCLE1BQU0sa0RBQUcsQ0FBQyxxREFBVSxtQkFBbUIsWUFBWSw0QkFBNEIsOENBQThDLG9EQUFvRCxPQUFPLGtEQUFHLHdEQUF3RCxnRkFBZ0Ysa0RBQUcsY0FBYywrQkFBK0Isa0RBQUcsY0FBYyxJQUFJLHdEQUF3RCxHQUFHLGtEQUFHLGNBQWMsT0FBTyxrREFBRyxhQUFhLDJDQUEyQyxrRkFBa0YsT0FBTyxrREFBRyxlQUFlLCtIQUErSCxFQUFFLFNBQVMsR0FBRyxJQUFJLG9EQUFvRCxlQUFlLGlCQUFpQixrRUFBa0UsK0JBQStCLDhDQUE4Qyx3QkFBd0Isc0RBQXNELHNMQUFzTCxvREFBTyw0QkFBNEIsNkNBQTZDLDRCQUE0QixlQUFlLGlCQUFpQixzQ0FBc0MsT0FBTyxrREFBRywrQkFBK0IsZ0NBQWdDLEtBQUssUUFBUSxFQUFFLG9CQUFvQixRQUFRLHlCQUF5QiwwQ0FBMEMsV0FBVywyQkFBMkIsa0RBQUcsU0FBUyxLQUFLLDhFQUE4RSxxREFBcUQsa0RBQUcsZ0RBQWdELHFCQUFxQixHQUFHLGNBQWMsQ0FBQyx3REFBd0IsNEJBQTRCLGFBQWEsOENBQThDLHFEQUFxRCxNQUFNLG9EQUFPLDZFQUE2RSxzQ0FBc0MsNENBQTRDLE9BQU8saUNBQWlDLE1BQU0sb0RBQU8sOEVBQThFLHNDQUFzQyw0Q0FBNEMsT0FBTyxHQUFHLGtFQUFrRSxlQUFlLHdCQUF3QiwrQkFBK0IsZ0RBQWdELGVBQWUsd0JBQXdCLHFCQUFxQiwrQkFBK0IsNENBQTRDLGVBQWUsOEJBQThCLGtJQUFrSSwrQkFBK0IsZ0RBQWdELGVBQWUscUdBQXFHLCtCQUErQiwyQ0FBMkMsaUJBQWlCLCtCQUErQixtRUFBbUUsT0FBTyxrREFBRyxhQUFhLG1NQUFtTSxvREFBTyxvR0FBb0cseUJBQXlCLDJEQUEyRCx1Q0FBdUMsb0NBQW9DLENBQUMsb0RBQU8sYUFBYSx3QkFBd0IsK0JBQStCLDRDQUE0QyxpREFBaUQsa0RBQUcsaUJBQWlCLHFHQUFxRyxJQUFJLE9BQU8sOEJBQThCLG9CQUFvQixLQUFLLFdBQVcsaUZBQWlGLHVEQUFlLENBQUMsa0RBQUcsK0JBQStCLFFBQVEsQ0FBQyxrREFBRyxjQUFjLFVBQVUsR0FBRyxDQUFDLHdEQUF3QixxQkFBcUIsbUJBQW1CLG9CQUFvQixxQ0FBcUMsc0dBQXNHLGFBQWEsd0JBQXdCLEVBQUUsZ0NBQWdDLGlDQUFpQyxzQkFBc0IsNERBQTRELGFBQWEsS0FBSyxrQ0FBa0MsK0JBQStCLDRDQUE0QyxzR0FBc0csT0FBTyxFQUFFLHlFQUF5RSxLQUFLLGdGQUFnRix1QkFBdUIsY0FBYyxLQUFLLDJDQUEyQyx1QkFBdUIsaUJBQWlCLGdDQUFnQyw4REFBOEQsdUJBQXVCLCtCQUErQixPQUFPLG1FQUFtRSxhQUFhLFFBQVEsZUFBZSxLQUFLLGdDQUFnQyw4QkFBOEIsd0NBQXdDLElBQUksa0JBQWtCLGNBQWMsTUFBTSx3QkFBd0IsaUVBQWlFLGlGQUFpRixPQUFPLGtCQUFrQixLQUFLLG9EQUFvRCxnREFBZ0QsbURBQW1ELGNBQWMsMEJBQTBCLGtCQUFrQixxREFBcUQsa0NBQWtDLEtBQUsscUJBQXFCLGdCQUFnQixpQ0FBaUMsc0JBQXNCLHFCQUFxQixNQUFNLGtDQUFrQywwQ0FBMEMsdUJBQXVCLHlCQUF5Qiw0Q0FBNEMsaUNBQWlDLGdCQUFnQixTQUFTLE9BQU8sdUJBQXVCLHFDQUFxQywrQ0FBK0MsT0FBTyxLQUFLLHNEQUFzRCwrR0FBK0csNEJBQTRCLG9EQUFvRCxvREFBb0Qsa0VBQWtFLGtFQUFrRSxPQUFPLE1BQU0sK0JBQStCLHVCQUF1QixLQUFLLEdBQUcsMEJBQTBCLDhCQUE4Qiw4Q0FBOEMsR0FBRyxvREFBTyxhQUFhLG9EQUFPLHdCQUF3Qix5REFBeUQsd0JBQXdCLGlEQUFpRCwwQkFBMEIsS0FBSyxtQkFBbUIsOEJBQThCLEVBQUUsa0RBQWtELEdBQUcsb0RBQU8sV0FBVyxpREFBaUQsbUJBQW1CLE9BQU8sMENBQTBDLElBQUksT0FBTyxnREFBbUIsQ0FBQywyQ0FBYyxzQkFBc0IsT0FBTyxnREFBbUIsV0FBVyxvRUFBb0UsK0JBQStCLEVBQUUsSUFBSSxzQ0FBc0Msb0RBQU8sY0FBYyxPQUFPLG9EQUFPLDJDQUEyQyxXQUFXLEtBQUssV0FBVyx1QkFBdUIsb0RBQU8sMEJBQTBCLE9BQU8sa0JBQWtCLG9EQUFPLHdDQUF3QyxnQkFBZ0IsS0FBSyxpQ0FBaUMsMEJBQTBCLDREQUE0RCxtQ0FBbUMsb0ZBQW9GLHVDQUF1QyxvQkFBb0Isb0RBQU8sOEJBQThCLGNBQWMsdUJBQXVCLGdDQUFnQyw0R0FBNEcsc0JBQXNCLDJCQUEyQiw4RUFBOEUsb0NBQW9DLCtEQUErRCx3REFBd0Qsb0JBQW9CLE1BQU0sd0JBQXdCLDZEQUE2RCxnQkFBZ0IsMkNBQTJDLCtFQUErRSx5QkFBeUIseURBQVksMEhBQTBILGlDQUFpQyxJQUFJLG9EQUFPLHlGQUF5RixVQUFVLHFDQUFxQyxPQUFPLGtHQUFrRyxlQUFlLDJCQUEyQixvREFBTyxDQUFDLCtCQUErQix5REFBeUQsZUFBZSxpQkFBaUIsc0NBQXNDLCtCQUErQixzRUFBc0UsZUFBZSxrTEFBa0wscUJBQXFCLCtCQUErQiw0REFBNEQsZUFBZSxxQkFBcUIsdUJBQXVCLEVBQUUsd0VBQXdFLG9EQUFPLFlBQVksb0RBQU8saUpBQWlKLG9EQUFPLHlEQUF5RCwrQkFBK0IseURBQXlELGVBQWUsMkJBQTJCLG9EQUFPLDBHQUEwRyw2QkFBNkIsK0JBQStCLHdEQUF3RCxRQUFRLHVCQUF1QixvREFBTyxZQUFZLG9EQUFPLHdDQUF3QyxpSUFBaUkscUNBQXFDLHdGQUF3RixVQUFVLEVBQUUsb0RBQU8sNkRBQTZELHdEQUF3RCxXQUFXLDBIQUEwSCxjQUFjLFlBQVksa0JBQWtCLEVBQUUsbUVBQW1FLDJKQUEySixvREFBTyxhQUFhLG9EQUFPLGFBQWEsU0FBUyxzREFBc0QsZ0VBQWdFLHVCQUF1Qix5R0FBeUcsZUFBZSwyREFBMkQsR0FBRyx3QkFBd0IsU0FBUyxxREFBcUQsc0ZBQXNGLFVBQVUsR0FBRywwREFBMEQsZUFBZSwyREFBMkQsV0FBVyxHQUFHLElBQUksMERBQTBELG9EQUFPLG9MQUFvTCw0Q0FBNEMsV0FBVyxtQ0FBbUMsd0VBQXdFLE9BQU8sMERBQTRCLG1CQUFtQix3Q0FBd0MsZ0JBQWdCLE9BQU8sMERBQTRCLENBQUMsdURBQXVCLDJCQUEyQixxQkFBcUIsdURBQXVCLFlBQVksT0FBTywwREFBNEIsQ0FBQyx1REFBdUIsRUFBRSxvQ0FBb0Msc0NBQXNDLDBEQUE0QixhQUFhLG9DQUFvQyxrQkFBa0IsK0NBQStDLEVBQUUsMERBQTRCLGNBQWMsNEJBQTRCLGdCQUFnQixnQkFBZ0IsRUFBRSw4R0FBOEcsa0VBQWtFLElBQUksR0FBRyxnQkFBZ0IsQ0FBQyx3REFBd0IsaUNBQWlDLE1BQU0sTUFBTSxNQUFNLG9EQUFPLHdMQUF3TCwyQkFBMkIsS0FBSyxvREFBb0QsRUFBRSxhQUFhLDBCQUEwQixzRkFBc0YsbUNBQW1DLFlBQVksV0FBVyxzQkFBc0IsbURBQW1ELHNDQUFzQyxTQUFTLEVBQUUsK0RBQStELHNEQUFzRCxlQUFlLGtEQUFrRCxJQUFJLG1CQUFtQixzQ0FBc0MsaUJBQWlCLEVBQUUsbUlBQW1JLFlBQVksK0NBQStDLFFBQVEscUJBQXFCLFVBQVUsRUFBRSxzRUFBc0UseUNBQXlDLG9CQUFvQixVQUFVLEtBQUssbUJBQW1CLGlCQUFpQix3QkFBd0IsZUFBZSxpQkFBaUIsY0FBYyxXQUFXLGVBQWUsbURBQW1ELGVBQWUsbURBQW1ELElBQUksb0JBQW9CLHlCQUF5QiwyQ0FBMkMsbUNBQW1DLElBQUkseUJBQXlCLGVBQWUsMERBQTBELGlCQUFpQixnREFBZ0Qsa0RBQWtELG9CQUFvQix3QkFBd0IsY0FBYyxxQkFBcUIsZUFBZSxpRUFBaUUsTUFBTSx1QkFBdUIsd0JBQXdCLDRCQUE0QiwwQkFBMEIsdUJBQXVCLDJCQUEyQixrRUFBa0Usc0NBQXNDLGdDQUFnQyxvQ0FBb0MscURBQXFELDhCQUE4Qiw4QkFBOEIsbUVBQW1FLHFDQUFxQyx1QkFBdUIsd0JBQXdCLG1CQUFtQixxSkFBcUosMkJBQTJCLHlFQUF5RSw2QkFBNkIsV0FBVyxzQkFBc0IscUJBQXFCLGVBQWUsMkJBQTJCLGVBQWUseUJBQXlCLCtDQUErQyxvREFBTyxVQUFVLGlDQUFpQyxpRUFBaUUsdURBQXVELHFDQUFxQyw0RUFBNEUsWUFBWSxpQ0FBaUMsa0JBQWtCLGtCQUFrQixRQUFRLHFEQUFxRCxhQUFhLGFBQWEsNEJBQTRCLHlCQUF5QixVQUFVLGlCQUFpQixFQUFFLDRCQUE0QixtRUFBbUUsa0JBQWtCLGlCQUFpQix5QkFBeUIsY0FBYyw4SUFBOEksdUJBQXVCLDBEQUE0QixFQUFFLG9DQUFvQywwQkFBMEIsaUJBQWlCLEVBQUUsUUFBUSxpQ0FBaUMscUJBQXFCLDJDQUEyQyxJQUFJLG9EQUFPLDJEQUEyRCw2Q0FBNkMsOENBQThDLGdDQUFnQyw2QkFBNkIsZUFBZSw0Q0FBNEMsc0NBQXNDLCtCQUErQixpQkFBaUIsaURBQWlELGFBQWEsRUFBRSxXQUFXLDRCQUE0Qiw4Q0FBOEMsT0FBTyxXQUFXLEtBQUssU0FBUyxvREFBTywyREFBMkQsSUFBSSxHQUFHLG9EQUFPLDREQUE0RCxFQUFFLGtJQUFrSSxJQUFJLElBQUkscUJBQXFCLFNBQVMsVUFBVSxTQUFTLGFBQWEsb0RBQU8sa0tBQWtLLG9CQUFvQixpREFBaUQsNEJBQTRCLE9BQU8seUhBQXlILHFHQUFxRyxtQkFBbUIsT0FBTyxrR0FBa0csaUJBQWlCLGlCQUFpQixtQkFBbUIsd0JBQXdCLFNBQVMsOEJBQThCLFVBQVUsS0FBSyxpQkFBaUIsaUJBQWlCLG1CQUFtQix3QkFBd0IsaUJBQWlCLElBQUksOEJBQThCLFlBQVksS0FBSyxtREFBbUQsbUJBQW1CLDZHQUE2RyxjQUFjLDJGQUEyRixnQkFBZ0IsMERBQTRCLG1CQUFtQixhQUFhLEtBQUssMERBQTRCLGNBQWMsSUFBSSwwREFBNEIsb0JBQW9CLE9BQU8sb0JBQW9CLDhCQUE4Qix5QkFBeUIsTUFBTSxxQ0FBcUMsdUJBQXVCLHlDQUF5Qyx1QkFBdUIsMEJBQTBCLGdDQUFnQyxxRUFBcUUsbUJBQU8sQ0FBQyxpRUFBWSxHQUFHLGFBQWEsK0RBQStELGVBQWUsNkJBQTZCLGtEQUFrRCwrQ0FBK0Msc0JBQXNCLHFEQUFxRCxTQUFTLGlDQUFpQyxjQUFjLGVBQWUsMkNBQTJDLHlEQUFZLHFCQUFxQiw0REFBZSxrQkFBa0Isb0RBQU8sd0RBQXdELG9EQUFPLFlBQVksWUFBWSxhQUFhLHVCQUF1Qix3Q0FBd0MsNEJBQTRCLHlEQUF5RCxNQUFNLEdBQUcsb0RBQU8sMkJBQTJCLGFBQWEsZUFBZSx3Q0FBd0Msd0ZBQXdGLGdEQUFnRCxjQUFjLGlDQUFpQyw2Q0FBNkMsb0VBQW9FLEVBQUUsTUFBTSx3Q0FBd0MsK0NBQStDLFlBQVksR0FBRyxNQUFNLGdEQUFnRCxxQkFBcUIsa0ZBQWtGLDREQUE0RCxXQUFXLDBEQUEwRCxHQUFHLE1BQU0sNkVBQTZFLG1EQUFtRCwrQ0FBK0MsNERBQTRELFdBQVcsMERBQTBELE1BQU0sdUJBQXVCLHdCQUF3Qiw2REFBNkQsV0FBVyw0RkFBNEYsaUJBQWlCLGFBQWEsR0FBRyxHQUFHLGtCQUFrQixvREFBTyxvR0FBb0csa0JBQWtCLDhCQUE4QixxRUFBcUUsOEJBQThCLFdBQVcscUVBQXFFLHdCQUF3QixpQ0FBaUMsb0JBQW9CLG9EQUFPLGVBQWUsZ0VBQWdFLHVDQUF1Qyx5REFBeUQsd0lBQXdJLEdBQUcsb0RBQU8sZ0tBQWdLLGdDQUFnQywrRkFBK0YsZ0JBQWdCLDBCQUEwQixXQUFXLHVIQUF1SCxpQkFBaUIseUNBQXlDLDZCQUE2Qiw2QkFBNkIsR0FBRyxFQUFFLGtDQUFrQyxvQ0FBb0MsU0FBUyxHQUFHLG9EQUFPLHFFQUFxRSxvQkFBb0IsSUFBSSx3SEFBd0gsb0RBQU8sQ0FBQyxvREFBTyxrQkFBa0IsU0FBUyxpQkFBaUIsb0RBQU8sK0tBQStLLGlEQUFpRCxrQkFBa0Isd0JBQXdCLG1CQUFtQixvREFBTyxhQUFhLGtFQUFrRSxHQUFHLG9EQUFPLFlBQVksNERBQTRELEdBQUcsb0RBQU8sdURBQXVELDZDQUE2Qyw0RUFBNEUscUJBQXFCLG1CQUFtQixFQUFFLGtDQUFrQyxtQkFBbUIsd0VBQXdFLDREQUE0RCw2QkFBNkIsNEVBQTRFLHFCQUFxQixtQkFBbUIsMkJBQTJCLEdBQUcsdUJBQXVCLDBCQUEwQiwwR0FBMEcscUJBQXFCLHFDQUFxQyxJQUFJLG1DQUFtQyx1QkFBdUIsa0lBQWtJLEVBQUUsNERBQTRELG9FQUFvRSxnQ0FBZ0MsK0ZBQStGLGFBQWEsNEJBQTRCLGFBQWEsdUJBQXVCLG9EQUFPLDRCQUE0Qix3RUFBd0Usd0VBQXdFLFVBQVUsb0RBQU8scUJBQXFCLG9EQUFPLG9HQUFvRyxrRUFBa0UscUJBQXFCLGtEQUFrRCxVQUFVLG9EQUFPLHFCQUFxQixzQkFBc0IscUJBQXFCLGlEQUFpRCwrREFBK0Qsc0NBQXNDLG1FQUFtRSxlQUFlLDJCQUEyQix5QkFBeUIsK0JBQStCLDRDQUE0QyxlQUFlLCtEQUErRCwrQkFBK0IsK0NBQStDLGVBQWUsZ0JBQWdCLCtCQUErQixzREFBc0QsZUFBZSwwRUFBMEUsK0JBQStCLCtDQUErQyxlQUFlLG1GQUFtRixvREFBTyxDQUFDLCtCQUErQixxQ0FBcUMseUVBQXlFLG9EQUFPLDJIQUEySCxTQUFTLCtCQUErQixTQUFTLDRFQUE0RSxTQUFTLDZDQUE2QyxlQUFlLDBEQUEwRCwrQkFBK0IscURBQXFELGVBQWUsMkJBQTJCLDZEQUE2RCxrSEFBa0gsRUFBRSwrQkFBK0IsdURBQXVELGVBQWUsT0FBTyxvREFBTyx1RkFBdUYsK0JBQStCLGlDQUFpQyxvQkFBb0IsOEZBQThGLFdBQVcsaUZBQWlGLCtDQUErQyxVQUFVLG9DQUFvQywrQ0FBK0MsK0NBQStDLHFLQUFxSyxvR0FBb0csV0FBVyxJQUFJLCtEQUErRCxTQUFTLGdCQUFnQix1QkFBdUIsb0RBQU8scUJBQXFCLEdBQUcsb0RBQU8sc0JBQXNCLGNBQWMsR0FBRyw0Q0FBNEMsV0FBVyw2RUFBNkUsUUFBUSxPQUFPLG9DQUFvQyw4REFBOEQsSUFBSSxvREFBTyxZQUFZLG9EQUFPLHdFQUF3RSxNQUFNLHVEQUFlLENBQUMsMERBQTRCLGNBQWMseUJBQXlCLDRCQUE0QixNQUFNLHVEQUFlLENBQUMsMERBQTRCLGNBQWMseUJBQXlCLDRCQUE0QixtREFBbUQsaURBQWlELHlFQUF5RSxXQUFXLEtBQUssV0FBVyxNQUFNLDRDQUE0QyxvREFBTywwQkFBMEIsMENBQTBDLGFBQWEsK0VBQStFLDZCQUE2QixJQUFJLG9EQUFPLGlFQUFpRSxpQ0FBaUMsOENBQThDLG9EQUFPLFNBQVMsT0FBTyxvREFBTyxtRUFBbUUsb0RBQU8scUVBQXFFLG9EQUFPLFlBQVksb0RBQU8sZ0JBQWdCLG9EQUFPLHNCQUFzQiwwQkFBMEIsMEJBQTBCLCtEQUErRCxRQUFRLE9BQU8sR0FBRyxJQUFJLG1EQUFtRCxlQUFlLE9BQU8sb0RBQU8sV0FBVyxvREFBTyxZQUFZLG9EQUFPLGtDQUFrQyxvREFBTyxpREFBaUQsb0RBQU8sa0JBQWtCLCtCQUErQiwyQ0FBMkMsSUFBSSxvREFBTyw2QkFBNkIsdUJBQXVCLHNEQUFzRCxvREFBTyxrRkFBa0YsUUFBUSxrQkFBa0IsK0JBQStCLDZDQUE2QyxTQUFTLCtDQUErQyxlQUFlLDZCQUE2QixvREFBTyxzQkFBc0IsRUFBRSwrQkFBK0IsMkNBQTJDLG9JQUFvSSwrQkFBK0IsZ0NBQWdDLHVFQUF1RSwyQkFBMkIscUJBQXFCLEdBQUcsbURBQW1ELDBCQUEwQixpQkFBaUIsNkJBQTZCLGlDQUFpQyw4Q0FBOEMsMkJBQTJCLCtCQUErQixHQUFHLHdCQUF3QixTQUFTLDZDQUE2QyxtQkFBbUIsb0RBQU8sa0lBQWtJLG9DQUFvQyxXQUFXLDJIQUEySCw2QkFBNkIsaUJBQWlCLDJDQUEyQywySEFBMkgsV0FBVyxLQUFLLDBEQUEwRCx3QkFBd0IsK0JBQStCLGtDQUFrQyxzQ0FBc0MsNEhBQTRILGdDQUFnQyw0RkFBNEYsbUZBQW1GLDJDQUEyQyxlQUFlLHFDQUFxQyw4SEFBOEgseUNBQXlDLCtCQUErQiw2Q0FBNkMsV0FBVywwRUFBMEUsaUNBQWlDLGtIQUFrSCxvREFBTyxxSUFBcUkscUNBQXFDLGtCQUFrQixxQkFBcUIsMERBQTBELCtCQUErQixlQUFlLHFCQUFxQixFQUFFLDhDQUE4QyxlQUFlLDBCQUEwQiw0Q0FBNEMsS0FBSyxlQUFlLEtBQUssK0JBQStCLHFEQUFxRCxlQUFlLDJCQUEyQixxQ0FBcUMseUJBQXlCLEdBQUcsRUFBRSwrQkFBK0Isa0RBQWtELGVBQWUsdURBQXVELCtCQUErQixnQ0FBZ0MsOEJBQThCLG9EQUFPLDREQUE0RCwrQ0FBSSx1QkFBdUIsb0RBQU8sc0NBQXNDLElBQUksb0RBQU8sd0NBQXdDLDBCQUEwQix1REFBdUIsNERBQTRELE9BQU8sMERBQTRCLElBQUksb0JBQW9CLENBQUMsb0RBQU8sMEZBQTBGLDRLQUE0SyxnQkFBZ0IsQ0FBQywwREFBNEIsK0NBQStDLE9BQU8sMERBQTRCLDhCQUE4Qiw0REFBNEQsS0FBSyx3QkFBd0IsSUFBSSxDQUFDLDBEQUE0Qix3REFBd0QsTUFBTSw4RUFBOEUsMERBQTRCLGlCQUFpQiwyQkFBMkIsb0RBQU8sb0xBQW9MLHNCQUFzQiw2QkFBNkIsOEJBQThCLGdFQUFnRSwwQkFBMEIsS0FBSyxtQkFBbUIsNkNBQTZDLGtCQUFrQixnQkFBZ0IsZ0JBQWdCLG1DQUFtQyxzQkFBc0IsR0FBRyxzQkFBc0IsZUFBZSxvSkFBb0osa0JBQWtCLE1BQU0sZ0NBQWdDLGlEQUFpRCwyRUFBMkUsb0RBQU8sWUFBWSxvREFBTyxzQkFBc0IsaUJBQWlCLEdBQUcsd0JBQXdCLGlEQUFpRCx5QkFBeUIsb0RBQU8sNkJBQTZCLGNBQWMsT0FBTyxvREFBTyxtREFBbUQsMkJBQTJCLDJCQUEyQixHQUFHLHdCQUF3QixxQ0FBcUMsd0JBQXdCLHdCQUF3QixHQUFHLG9NQUFvTSw4Q0FBRyxDQUFDLDhDQUFHLENBQUMsb0RBQU8sQ0FBQyxvREFBTyxDQUFDLDhDQUFjLGFBQWEsTUFBTSxxREFBdUIsT0FBTyxPQUFPLHFEQUF1QixhQUFhLDhCQUE4QixlQUFlLFdBQVcsR0FBRyxHQUFHLE1BQU0sU0FBUywwREFBMEQsTUFBTSx3RUFBd0UsR0FBRyxpREFBaUQsb0RBQU8sWUFBWSwwREFBNEIsaUJBQWlCLCtEQUErRCxpQkFBaUIsbUVBQW1FLEdBQUcsbUJBQW1CLDBEQUE0QixVQUFVLG9DQUFvQyxvQkFBb0IsNERBQTRELG9CQUFvQixFQUFFLDBEQUE0QiwrQkFBK0IsMEJBQTBCLFdBQVcsMkVBQTJFLEVBQUUsZ0JBQWdCLDBEQUE0QixjQUFjLG9DQUFvQyxFQUFFLDBEQUE0QixnQkFBZ0IsdUlBQXVJLE1BQU0sMERBQTRCLFFBQVEsNERBQTRELG1CQUFtQiwwREFBNEIsUUFBUSwrREFBK0QsRUFBRSxHQUFHLElBQUksSUFBSSx3Q0FBd0MsdUJBQXVCLDRCQUE0QixJQUFJLEtBQUssa0JBQWtCLDhCQUE4QixHQUFHLHlDQUF5QyxnREFBZ0QsNkJBQTZCLHFDQUFxQyxpRUFBaUUsZ0NBQWdDLEVBQUUsb0RBQU8sd0RBQXdELG1CQUFtQixvQ0FBb0MsNkNBQTZDLGNBQWMscUNBQXFDLGdCQUFnQixvQkFBb0Isb0RBQU8sK0NBQStDLHdDQUF3QywwQkFBMEIsMkNBQTJDLGlDQUFpQywrQkFBK0IseUtBQXlLLGNBQWMsb0RBQU8saUlBQWlJLGtCQUFrQixvREFBTywyREFBMkQsT0FBTyxXQUFXLEdBQUcsR0FBRywrREFBK0QsbUNBQW1DLHFDQUFxQyw4QkFBOEIsT0FBTyxHQUFHLGlCQUFpQixvREFBTyxzQkFBc0IsMkNBQTJDLFdBQVcsR0FBRyxHQUFHLG9DQUFvQyw2RUFBNkUseURBQVksRUFBRSxnREFBZ0QsK0NBQStDLGdJQUFnSSw4QkFBOEIsT0FBTyxHQUFHLElBQUksYUFBYSxnQkFBZ0Isb0RBQU8sNERBQTRELG9MQUFvTCxDQUFDLHdEQUF3QixFQUFFLHlCQUF5QixzQkFBc0Isb0RBQU8sY0FBYyw2QkFBNkIsTUFBTSxvREFBTyw4QkFBOEIsZ0RBQWdELGdCQUFnQixLQUFLLG9EQUFPLHFEQUFxRCxvREFBTyw4QkFBOEIsMEJBQTBCLDRCQUE0QixpQ0FBaUMsK0ZBQStGLDBCQUEwQixNQUFNLHVEQUF5QixnQkFBZ0IscUJBQXFCLG9HQUFvRyxPQUFPLDBEQUE0QixpQkFBaUIsaUJBQWlCLEVBQUUsc0dBQXNHLDhDQUE4QyxXQUFXLG9FQUFvRSxPQUFPLDBEQUE0QixpQkFBaUIsaUJBQWlCLEVBQUUsOEJBQThCLDBEQUE0QixpQkFBaUIsUUFBUSxHQUFHLEdBQUcsMERBQTRCLGNBQWMsSUFBSSxNQUFNLEtBQUssR0FBRyx5QkFBeUIsbUJBQW1CLEdBQUcsb0JBQW9CLE1BQU0sdURBQXlCLGdCQUFnQiwwQkFBMEIsa0JBQWtCLE9BQU8sMERBQTRCLGNBQWMsSUFBSSxNQUFNLEdBQUcsR0FBRyx5QkFBeUIsVUFBVSxHQUFHLCtNQUErTSxhQUFhLDhDQUE4Qyx3QkFBd0IsK0RBQStELGtCQUFrQixJQUFJLEtBQUssa0VBQWtFLDBDQUEwQyx5REFBeUQsSUFBSSxLQUFLLGtCQUFrQixvQkFBb0IsR0FBRyxvREFBb0QsZUFBZSxPQUFPLG9EQUFPLFlBQVksb0RBQU8sd1JBQXdSLCtCQUErQixnQ0FBZ0MsY0FBYyx3RUFBd0UsU0FBUyxnQ0FBZ0MsZ0pBQWdKLE9BQU8sa0RBQUcsZ0RBQWdELE1BQU0sb0ZBQW9GLGtEQUFHLENBQUMsdURBQXVCLE1BQU0sa0RBQUcsa0JBQWtCLGdCQUFnQixZQUFZLGdDQUFnQyxFQUFFLHlCQUF5QixvRUFBb0UsSUFBSSxHQUFHLEdBQUcsQ0FBQyx3REFBd0Isa0NBQWtDLDZDQUE2Qyw2RkFBNkYsaUJBQWlCLHNEQUFzRCxFQUFFLGlCQUFpQixlQUFlLGlEQUFVLDRDQUE0QyxPQUFPLGtEQUFHLGlCQUFpQixLQUFLLHNCQUFzQixLQUFLLGlCQUFpQixFQUFFLGtEQUFHLGdCQUFnQixvR0FBb0csR0FBRyxvREFBTyx5QkFBeUIsdVJBQXVSLDhEQUE4RCxFQUFFLEVBQUUsa0NBQWtDLGFBQWEsK0NBQStDLG9EQUFvRCxzSEFBc0gsT0FBTywwREFBNEIsaUJBQWlCLHlCQUF5QixFQUFFLEdBQUcsR0FBRyxDQUFDLHdEQUF3QiwwQ0FBMEMsa0ZBQWtGLDJEQUEyRCxvREFBb0QsT0FBTyx3TkFBd04sWUFBWSxzQkFBc0IseU1BQXlNLEVBQUUsb0RBQW9ELE9BQU8scUtBQXFLLFlBQVkscUJBQXFCLG1DQUFtQywrQkFBK0IsYUFBYSwrQ0FBK0MsbUVBQW1FLGVBQWUsOEJBQThCLCtCQUErQixrREFBa0QsZUFBZSwrREFBK0QsK0JBQStCLG1DQUFtQyx1RUFBdUUsd0NBQXdDLGlGQUFpRiwrQ0FBK0MsK0JBQStCLDJOQUEyTiw2QkFBNkIsT0FBTyxrREFBRyxDQUFDLHVEQUF1QixNQUFNLGtEQUFHLFFBQVEsMENBQTBDLDZCQUE2QiwyQ0FBMkMsdUdBQXVHLGtHQUFrRyxLQUFLLHNCQUFzQiw0QkFBNEIsT0FBTyxrREFBRyxDQUFDLHVEQUF1QixFQUFFLE1BQU0sQ0FBQyxrREFBRyxhQUFhLDJCQUEyQixTQUFTLFlBQVksT0FBTyxpQkFBaUIsK0VBQStFLDJCQUEyQixXQUFXLDhGQUE4RixvR0FBb0csMEJBQTBCLEtBQUssRUFBRSxrREFBRyxnQkFBZ0IsdUpBQXVKLElBQUksS0FBSyxHQUFHLENBQUMsd0RBQXdCLHdDQUF3QyxrQ0FBa0MscURBQXFELG9FQUFvRSxFQUFFLHdHQUF3RyxFQUFFLGdHQUFnRyxpQkFBaUIscUJBQXFCLEVBQUUscUJBQXFCLHVCQUF1QixhQUFhLHVCQUF1QixrQkFBa0IsR0FBRyx1QkFBdUIsd0NBQXdDLHNCQUFzQix5QkFBeUIsc0JBQXNCLGtDQUFrQyx3QkFBd0IsYUFBYSxFQUFFLGdHQUFnRyxFQUFFLCtLQUErSyxFQUFFLHdKQUF3SixFQUFFLDZCQUE2QixhQUFhLDhDQUE4QywwRUFBMEUsb0VBQW9FLHNDQUFzQyw0Q0FBNEMseURBQXlELDBDQUEwQyx5QkFBeUIsMENBQTBDLDRHQUE0RyxXQUFXLEtBQUssV0FBVyxVQUFVLDRDQUE0QyxnQ0FBZ0MsdUNBQXVDLG9EQUFvRCxLQUFLLDZDQUE2QyxpQ0FBaUMsSUFBSSw0QkFBNEIsU0FBUywwREFBMEQsOENBQThDLGVBQWUsT0FBTyxvREFBTywrRkFBK0YsK0JBQStCLGdDQUFnQyxXQUFXLE9BQU8sMERBQTRCLFFBQVEsZ0JBQWdCLHNCQUFzQixvREFBb0QscUJBQXFCLEVBQUUsR0FBRyxDQUFDLHdEQUF3QixvQ0FBb0MsZ0NBQWdDLHlHQUF5RyxFQUFFLG9FQUFvRSw4REFBOEQsRUFBRSx1QkFBdUIsbUJBQW1CLG9EQUFPLCtCQUErQixHQUFHLG9EQUFPLGdDQUFnQyxxREFBcUQsSUFBSSw4S0FBOEssMkVBQTJFLDREQUE0RCxrRkFBa0YsZ0RBQWdELHdEQUF3RCwrR0FBK0csR0FBRyxTQUFTLGlEQUFpRCxvQ0FBb0MsY0FBYyxhQUFhLHdKQUF3SixZQUFZLENBQUMsb0RBQU8sWUFBWSw4REFBOEQsMEJBQTBCLG9EQUFPLHdNQUF3TSwwQ0FBMEMsK0VBQStFLHdCQUF3Qiw2RkFBNkYsaUJBQWlCLFdBQVcseUNBQXlDLFNBQVMsb0VBQW9FLGdDQUFnQyxvREFBb0QsZUFBZSxNQUFNLHFGQUFxRixFQUFFLFFBQVEsK0JBQStCLG1EQUFtRCxlQUFlLHFDQUFxQywrQkFBK0IsNkNBQTZDLG1EQUFtRCwwQ0FBMEMsV0FBVyx1RUFBdUUsWUFBWSxFQUFFLG9EQUFPLHNCQUFzQiw2QkFBNkIsOEJBQThCLG9EQUFPLGdIQUFnSCwwQ0FBMEMsNEdBQTRHLFdBQVcsS0FBSyxXQUFXLFVBQVUsNENBQTRDLGdDQUFnQyx1Q0FBdUMsb0RBQW9ELHlHQUF5Ryw2Q0FBNkMsSUFBSSw2REFBNkQsU0FBUywwREFBMEQsMkNBQTJDLGVBQWUsT0FBTyxvREFBTyxtTEFBbUwsK0JBQStCLGdDQUFnQyxXQUFXLE9BQU8sMERBQTRCLGlCQUFpQixnQkFBZ0Isc0JBQXNCLGlDQUFpQywyQ0FBMkMseUJBQXlCLGtCQUFrQixHQUFHLEdBQUcsQ0FBQyx3REFBd0IsOENBQThDLHVFQUF1RSxzR0FBc0csV0FBVywrRkFBK0YsZUFBZSxnQkFBZ0IsWUFBWSx5TEFBeUwsZ0JBQWdCLGdCQUFnQixHQUFHLG1iQUFtYiwyQkFBMkIsaUNBQWlDLGdDQUFnQyxnQ0FBZ0Msc0tBQXNLLGlDQUFpQyxtRUFBbUUseUNBQXlDLHFGQUFxRixNQUFNLDZEQUE2RCwrREFBK0QsWUFBWSxpQ0FBaUMsaUNBQWlDLG1CQUFtQiwyRUFBMkUscUdBQXFHLHNCQUFzQixlQUFlLHNDQUFzQywyQkFBMkIsd0NBQXdDLDBFQUEwRSxhQUFhLG9CQUFvQixpRUFBaUUsMEJBQTBCLHVEQUF1RCwyREFBMkQsdUJBQXVCLGFBQWEsb0JBQW9CLGtCQUFrQixxQ0FBcUMsNEJBQTRCLDZCQUE2QixvQkFBb0IsaUJBQWlCLEVBQUUsU0FBUyxNQUFNLDhCQUE4Qix1QkFBdUIsc0RBQXNELGNBQWMsK0JBQStCLG1EQUFtRCw0SUFBNEksS0FBSywySEFBMkgsVUFBVSw2SUFBNkksS0FBSyx5SEFBeUgsVUFBVSxtR0FBbUcsdURBQXVELFVBQVUsd0JBQXdCLDJCQUEyQixTQUFTLDRCQUE0QixhQUFhLDhDQUE4QyxnQkFBZ0IscURBQXFELHVFQUF1RSwwRUFBMEUsZUFBZSxtQ0FBbUMsb0RBQU8sNEVBQTRFLG9EQUFPLHVGQUF1RiwrQkFBK0IsOENBQThDLG9EQUFPLHdOQUF3TiwwQ0FBMEMsV0FBVyxvQkFBb0Isb0RBQU8sbUZBQW1GLFFBQVEsRUFBRSxrRUFBa0UsbUVBQW1FLHVCQUF1QixvQ0FBb0MsUUFBUSwyQ0FBMkMsR0FBRyw2QkFBNkIsS0FBSyw0QkFBNEIsaUJBQWlCLGtFQUFrRSw0REFBNEQsV0FBVyxRQUFRLGtFQUFrRSxPQUFPLHVCQUF1QixFQUFFLDBEQUEwRCxzQkFBc0IsT0FBTyw0Q0FBNEMsZUFBZSx3Q0FBd0MsK0JBQStCLG1DQUFtQyxpQkFBaUIseUhBQXlILCtCQUErQixtVUFBbVUsZUFBZSxnS0FBZ0ssMEdBQTBHLE9BQU8sa0RBQUcsK0NBQStDLCtEQUErRCxrREFBRyxjQUFjLElBQUksMEhBQTBILE9BQU8sNENBQTRDLG9EQUFPLHNJQUFzSSwyTEFBMkwsU0FBUyw0REFBNEQsVUFBVSxhQUFhLDJFQUEyRSwrSUFBK0ksTUFBTSxrQkFBa0IsbUJBQW1CLGVBQWUsR0FBRyxFQUFFLDhCQUE4QixHQUFHLE9BQU8sa0RBQUcsQ0FBQyx1REFBdUIsVUFBVSxrREFBRyxZQUFZLGdCQUFnQix1QkFBdUIsNkNBQTZDLGtEQUFHLFdBQVcsMERBQTBELGdDQUFnQyxrREFBRyxRQUFRLHFDQUFxQyxtRUFBbUUseUNBQXlDLE9BQU8sa0RBQUcsaUJBQWlCLGlCQUFpQixFQUFFLEdBQUcsa0RBQUcsUUFBUSxLQUFLLHdIQUF3SCxzQkFBc0IsT0FBTyxrREFBRyxpQkFBaUIsaUJBQWlCLEVBQUUsVUFBVSxHQUFHLEdBQUcsQ0FBQyx3REFBd0Isb0NBQW9DLG1OQUFtTix1RUFBdUUsNkJBQTZCLDBOQUEwTixzQ0FBc0MsZ0RBQWdELDhCQUE4QixnQkFBZ0IscUJBQXFCLDJDQUEyQyxnRkFBZ0YseUNBQXlDLG9CQUFvQixVQUFVLHlDQUF5QyxxREFBcUQsa0NBQWtDLHdDQUF3QyxLQUFLLHNCQUFzQiw2QkFBNkIsdUtBQXVLLElBQUksRUFBRSw4REFBOEQsZ0ZBQWdGLEVBQUUsNkZBQTZGLEVBQUUsRUFBRSw4SkFBOEosRUFBRSx1RkFBdUYsRUFBRSxxRkFBcUYsRUFBRSwrT0FBK08sRUFBRSwwQ0FBMEMsRUFBRSx5Q0FBeUMsRUFBRSx5Q0FBeUMsRUFBRSwwQ0FBMEMsRUFBRSx5REFBeUQsRUFBRSxvSkFBb0osRUFBRSxzUEFBc1AsRUFBRSxvRUFBb0UsYUFBYSw4Q0FBOEMsMEVBQTBFLGlCQUFpQixHQUFHLG9FQUFvRSxlQUFlLCtCQUErQiwrQkFBK0IscUNBQXFDLHdCQUF3QixNQUFNLHdEQUF3RCxzQkFBc0Isb0RBQW9ELElBQUksMkNBQTJDLG1CQUFtQiwwQ0FBMEMsV0FBVyxxQ0FBcUMsb0RBQU8sWUFBWSw0Q0FBNEMsdUJBQXVCLDJDQUEyQywyQkFBMkIsS0FBSyxRQUFRLEVBQUUscUZBQXFGLEdBQUcsR0FBRyw0RUFBNEUsNkNBQTZDLDBGQUEwRiwrQkFBK0IscURBQXFELE9BQU8sa0RBQUcsUUFBUSxnQkFBZ0Isd0JBQXdCLE1BQU0scUJBQXFCLENBQUMsa0RBQUcsVUFBVSw2RUFBNkUsaUJBQWlCLHNMQUFzTCxzR0FBc0csSUFBSSxvQkFBb0IsT0FBTyxvQ0FBb0Msa0RBQUcsV0FBVyxzQ0FBc0MscUNBQXFDLGtEQUFHLFFBQVEsS0FBSyxtRUFBbUUsMkJBQTJCLGtEQUFHLFFBQVEsS0FBSyw0REFBNEQsTUFBTSxrREFBRyxRQUFRLEtBQUssNklBQTZJLFVBQVUsR0FBRyxDQUFDLHdEQUF3QixRQUFRLG9EQUFPLGlEQUFpRCwrQ0FBK0MsaUNBQWlDLHlMQUF5TCxtU0FBbVMsRUFBRSxtSEFBbUgsRUFBRSwrQ0FBK0MsRUFBRSwrQ0FBK0MsRUFBRSw0Q0FBNEMsRUFBRSwyQ0FBMkMsRUFBRSxrREFBa0QsRUFBRSxtRkFBbUYsRUFBRSxtRkFBbUYsRUFBRSx3SkFBd0osRUFBRSxvSkFBb0osRUFBRSx3Q0FBd0MsRUFBRSx1Q0FBdUMsRUFBRSwrRUFBK0UsRUFBRSxpTkFBaU4sRUFBRSxtQkFBbUIsNkJBQTZCLFdBQVcsb0RBQU8sdUNBQXVDLEdBQUcsb0RBQU8sZUFBZSxzRkFBc0YsOENBQThDLGVBQWUsR0FBRyxTQUFTLGdEQUFnRCxnQ0FBZ0MsYUFBYSw4Q0FBOEMsOERBQThELHVFQUF1RSxlQUFlLE9BQU8sa0RBQUcsUUFBUSxLQUFLLFlBQVksaUhBQWlILCtCQUErQiwyQ0FBMkMsaUJBQWlCLHNQQUFzUCxvREFBTyxzQkFBc0Isd0JBQXdCLHFCQUFxQiw4QkFBOEIsb0RBQU8sZ0JBQWdCLG9EQUFPLG9FQUFvRSxHQUFHLGdEQUFnRCxlQUFlLE1BQU0sZUFBZSxvREFBTyxnRkFBZ0Ysb0RBQU8sWUFBWSxvREFBTyxnQkFBZ0IsK0JBQStCLGdDQUFnQyxlQUFlLHlCQUF5QixrREFBRyxRQUFRLGdCQUFnQixzQkFBc0IsRUFBRSw2QkFBNkIsVUFBVSx3R0FBd0csa0hBQWtILHdIQUF3SCxpR0FBaUcsK0NBQUksSUFBSSwrQkFBK0IsZ0NBQWdDLE9BQU8sa0RBQUcsK0JBQStCLGlFQUFpRSxjQUFjLGdJQUFnSSxPQUFPLGtEQUFHLGFBQWEsZUFBZSxJQUFJLDBMQUEwTCxrQkFBa0Isa0RBQUcsNkJBQTZCLEtBQUssU0FBUyxvREFBb0Qsc0JBQXNCLEVBQUUsMkJBQTJCLGVBQWUsNkJBQTZCLGFBQWEsaUVBQWlFLG9EQUFvRCx3WEFBd1gsS0FBSyxVQUFVLEVBQUUsa0NBQWtDLDBCQUEwQix5QkFBeUIsY0FBYyxvREFBTyxvQ0FBb0MsT0FBTyxNQUFNLHdOQUF3TixxQkFBcUIsR0FBRyxHQUFHLENBQUMsd0RBQXdCLHdDQUF3QywyQ0FBMkMsOEJBQThCLEVBQUUsMElBQTBJLEVBQUUsK0hBQStILEVBQUUsc01BQXNNLEVBQUUsZ0RBQWdELEVBQUUsOEJBQThCLGFBQWEsK0NBQStDLG9EQUFvRCxrQ0FBa0MsT0FBTywwREFBNEIsYUFBYSxzRkFBc0YseUNBQXlDLEdBQUcsQ0FBQyx3REFBd0Isc0NBQXNDLHVKQUF1SiwrTEFBK0wsVUFBVSwyREFBMkQsRUFBRSxpQ0FBaUMsRUFBRSwyRkFBMkYsc0JBQXNCLCtCQUErQixhQUFhLDhDQUE4QyxpREFBaUQsVUFBVSxHQUFHLDBFQUEwRSxlQUFlLGtEQUFrRCwrQkFBK0IsOENBQThDLDJDQUEyQyxXQUFXLEdBQUcsMENBQTBDLFdBQVcsOEVBQThFLDhDQUE4Qyx1QkFBdUIsb0NBQW9DLFVBQVUsNkJBQTZCLEdBQUcsR0FBRyxrQkFBa0IsRUFBRSwyREFBMkQsMEJBQTBCLEdBQUcsb0JBQW9CLFVBQVUsRUFBRSwrQkFBK0IsV0FBVyxPQUFPLGtEQUFHLFlBQVksZ0JBQWdCLGVBQWUsZUFBZSxnTUFBZ00saURBQWlELHFCQUFxQixrREFBRyxDQUFDLHVEQUF1Qix5SUFBeUksT0FBTyxrREFBRyxpQkFBaUIsaUJBQWlCLEVBQUUsVUFBVSxHQUFHLENBQUMsd0RBQXdCLHdDQUF3Qyw0SkFBNEosZ0RBQWdELEVBQUUsK0dBQStHLGlCQUFpQiwwSUFBMEksc0NBQXNDLG9EQUFvRCxPQUFPLG9CQUFvQixZQUFZLHFCQUFxQixrZEFBa2QsRUFBRSxxQ0FBcUMsYUFBYSwrQ0FBK0Msb0RBQW9ELFdBQVcsT0FBTywwREFBNEIsZ0RBQWdELE9BQU8sMERBQTRCLCtCQUErQiwwQkFBMEIsS0FBSywwQkFBMEIscURBQXFELDZCQUE2QixFQUFFLHVHQUF1RyxPQUFPLDBEQUE0QixpQkFBaUIsa0NBQWtDLEVBQUUscUJBQXFCLEdBQUcsR0FBRyxDQUFDLHdEQUF3QixvREFBb0QsMEZBQTBGLHFCQUFxQiwyQkFBMkIsa0RBQWtELCtDQUErQyxzQkFBc0IscURBQXFELFNBQVMsZ0NBQWdDLGFBQWEsOENBQThDLGlCQUFpQixvREFBTyx1REFBdUQsd0JBQXdCLHVDQUF1QyxxREFBcUQsMEJBQTBCLE1BQU0sNkJBQTZCLE1BQU0scUJBQXFCLDZCQUE2QixhQUFhLElBQUksMkNBQTJDLGtCQUFrQixvQkFBb0IsaUJBQWlCLE1BQU0sb0RBQU8scUJBQXFCLDRDQUE0QyxNQUFNLG9EQUFPLGNBQWMscURBQXFELHdCQUF3QixpQ0FBaUMsT0FBTyx1QkFBdUIsNkNBQTZDLFlBQVkscUNBQXFDLDJDQUEyQyxvRUFBb0UseUNBQXlDLDRDQUE0Qyx5Q0FBeUMsMkJBQTJCLDZDQUE2Qyx5QkFBeUIscUJBQXFCLHFEQUFxRCx3QkFBd0IsNENBQTRDLElBQUksaUVBQWlFLEdBQUcsR0FBRyx1QkFBdUIsb0RBQW9ELE1BQU0scUxBQXFMLDRDQUE0Qyx5REFBeUQsK0JBQStCLGNBQWMsNEhBQTRILEVBQUUsR0FBRyw0Q0FBNEMsZUFBZSxnQ0FBZ0MsK0JBQStCLDJDQUEyQyw2UUFBNlEsNkNBQTZDLHlSQUF5UiwrQkFBK0Isd0JBQXdCLE9BQU8sa0RBQUcsZ0RBQWdELGlCQUFpQixtRkFBbUYsT0FBTyxrREFBRyxRQUFRLDBDQUEwQyxDQUFDLGtEQUFHLFVBQVUsc0JBQXNCLHNEQUFzRCx3QkFBd0IsOENBQThDLHFCQUFxQiwwQkFBMEIsZ0RBQWdELHFCQUFxQixtQkFBbUIsc0ZBQXNGLGdGQUFnRix3RUFBd0UscURBQXFELDZDQUE2Qyx1Q0FBdUMsZ0NBQWdDLGlDQUFpQyxxQ0FBcUMsdUNBQXVDLGtEQUFrRCxtREFBbUQsbUJBQW1CLG1CQUFtQixrREFBRyxtQkFBbUIscUZBQXFGLElBQUksb0RBQU8sZ0NBQWdDLHVCQUF1QixtQkFBbUIsa0RBQUcsUUFBUSxLQUFLLGdCQUFnQixDQUFDLGtEQUFHLFFBQVEsS0FBSyxtQkFBbUIsa0NBQWtDLEtBQUssR0FBRyx3Q0FBd0MsbUJBQW1CLEVBQUUsRUFBRSxtRUFBbUUsNkJBQTZCLGtCQUFrQixZQUFZLG9DQUFvQyx1Q0FBdUMsa0NBQWtDLGtDQUFrQyxrQkFBa0IsMkNBQTJDLHNEQUFzRCxvQkFBb0Isd0NBQXdDLHFDQUFxQyxZQUFZLEdBQUcsQ0FBQyx3REFBd0Isc0NBQXNDLGtEQUFrRCwyREFBMkQsRUFBRSxnRUFBZ0UsRUFBRSxpRUFBaUUsRUFBRSwyQ0FBMkMsRUFBRSxFQUFFLHFCQUFxQixVQUFVLG1EQUFxQixPQUFPLDJDQUEyQyxpRkFBaUYsR0FBRyw4REFBOEQsT0FBTyxrREFBRyxTQUFTLE9BQU8sZUFBZSxPQUFPLENBQUMsa0RBQUcsZ0JBQWdCLE9BQU8saUJBQWlCLDhHQUE4RyxHQUFHLGlDQUFpQyw0REFBOEIsYUFBYSxJQUFJLGdDQUFnQyxzQkFBc0IsU0FBUyxnQkFBZ0IsdUNBQXVDLElBQUksZ0NBQWdDLHlCQUF5QixTQUFTLGlCQUFpQixHQUFHLGdDQUFnQywwQ0FBMEMsYUFBYSxnQkFBZ0IsT0FBTyxvREFBTyw2QkFBNkIsb0ZBQW9GLHdEQUF3RCxnSEFBZ0gsRUFBRSxpR0FBaUcsRUFBRSxFQUFFLDJDQUEyQyxFQUFFLEVBQUUsd0JBQXdCLHVGQUF1RixzQkFBc0IsS0FBSyw2QkFBNkIsc0tBQXNLLGFBQWEsOENBQThDLDJCQUEyQiwwREFBMEQsR0FBRywyRUFBMkUsZUFBZSxPQUFPLG9EQUFPLHNEQUFzRCwrQkFBK0IsZ0NBQWdDLFdBQVcsT0FBTyxrREFBRyxnREFBZ0QsT0FBTyxrREFBRywrQkFBK0IsMEJBQTBCLEtBQUssMEJBQTBCLFdBQVcsMENBQTBDLEVBQUUsRUFBRSxDQUFDLGtEQUFHLG1CQUFtQixvQkFBb0IsRUFBRSxjQUFjLEVBQUUsZ0JBQWdCLGVBQWUsK0hBQStILGdFQUFnRSwyREFBMkQsV0FBVyx1RkFBdUYsbUJBQW1CLGlEQUFpRCx3SEFBd0gsZUFBZSx1QkFBdUIsOENBQThDLG9CQUFvQixlQUFlLHNEQUFzRCxvQkFBb0IsdUJBQXVCLHdDQUF3Qyw2Q0FBNkMsc0JBQXNCLGdCQUFnQix1Q0FBdUMsZUFBZSxPQUFPLGVBQWUseUJBQXlCLHNHQUFzRyxjQUFjLDhHQUE4RyxrQ0FBa0MsK0JBQStCLFNBQVMsbUNBQW1DLHNCQUFzQixXQUFXLHVCQUF1QixLQUFLLHNGQUFzRixpQ0FBaUMsc0JBQXNCLHVEQUF1RCxhQUFhLG1JQUFtSSxtQ0FBbUMsUUFBUSxRQUFRLEVBQUUsNkRBQTZELCtCQUErQixXQUFXLGdCQUFnQixHQUFHLHdCQUF3QixvREFBTyx3RkFBd0Ysb0RBQU8sdUhBQXVILDREQUE0RCwrQ0FBK0Msb0JBQW9CLDZDQUE2QyxjQUFjLHFDQUFxQyxnQkFBZ0IscUdBQXFHLCtCQUErQiwwQkFBMEIsNEJBQTRCLG1LQUFtSyxjQUFjLG1CQUFtQixzQ0FBc0MsY0FBYyw0Q0FBNEMsU0FBUyx1Q0FBdUMsUUFBUSxjQUFjLFlBQVksMERBQTBELG9EQUFvRCw2REFBNkQsUUFBUSwyQkFBMkIsNEhBQTRILFdBQVcsR0FBRyxHQUFHLGVBQWUsc0NBQXNDLFFBQVEsU0FBUyxFQUFFLG1GQUFtRixXQUFXLDZCQUE2QixHQUFHLEtBQUssMkhBQTJILE9BQU8sa0RBQUcsaUJBQWlCLGlCQUFpQixFQUFFLGdDQUFnQyxrREFBRyxnQkFBZ0Isb0RBQW9ELGlDQUFpQyxrREFBRyxnQkFBZ0Isd0RBQXdELHFEQUFxRCxrREFBRyxRQUFRLHlDQUF5QywyQ0FBMkMsNkVBQTZFLGtEQUFHLGdCQUFnQix3REFBd0QsSUFBSSxHQUFHLEdBQUcsQ0FBQyx3REFBd0Isa0NBQWtDLDJCQUEyQixrQkFBa0IsT0FBTyx3Q0FBd0MsK0hBQStILDhDQUE4Qyw2R0FBNkcsRUFBRSwwSUFBMEksdUJBQXVCLEVBQUUsNElBQTRJLEVBQUUsZ0tBQWdLLEVBQUUsaURBQWlELEVBQUUsNkhBQTZILEVBQUUsOE9BQThPLEVBQUUsbUhBQW1ILEVBQUUsNlRBQTZULEVBQUUsdU1BQXVNLEVBQUUsMkRBQTJELHNFQUFzRSxhQUFhLEVBQUUsbUVBQW1FLG9EQUFvRCxPQUFPLGtCQUFrQixZQUFZLHFCQUFxQiw4QkFBOEIsRUFBRSxFQUFFLDJEQUEyRCxFQUFFLDhMQUE4TCxXQUFXLHNDQUFzQyxFQUFFLEVBQUUsaUVBQWlFLG9EQUFvRCxPQUFPLGtCQUFrQixXQUFXLGtGQUFrRixZQUFZLHFCQUFxQix1RkFBdUYsRUFBRSxFQUFFLG1FQUFtRSxvREFBb0QsT0FBTyxrQkFBa0IsWUFBWSxxQkFBcUIsaUNBQWlDLEVBQUUsb0JBQW9CLGdDQUFnQyxFQUFFLFdBQVcsZUFBZSxHQUFHLHlHQUF5RyxrREFBa0Qsb0RBQW9ELE9BQU8sa0JBQWtCLFlBQVkscUJBQXFCLHNDQUFzQyxFQUFFLG9EQUFvRCxPQUFPLGtCQUFrQixZQUFZLDJCQUEyQixxQ0FBcUMsRUFBRSxvREFBb0QsT0FBTyxrQkFBa0IsWUFBWSxxQkFBcUIsdUNBQXVDLEVBQUUsb0RBQW9ELE9BQU8sa0JBQWtCLFlBQVksMkJBQTJCLDBDQUEwQyxFQUFFLG9EQUFvRCxPQUFPLGtCQUFrQixZQUFZLGtDQUFrQyxnQkFBZ0IsRUFBRSxpQ0FBaUMsYUFBYSwrQ0FBK0Msb0RBQW9ELE9BQU8sMERBQTRCLG1CQUFtQixJQUFJLG9EQUFPLHVKQUF1Siw0QkFBNEIscUNBQXFDLEVBQUUsdUJBQXVCLEVBQUUsNkJBQTZCLHlCQUF5QixHQUFHLENBQUMsd0RBQXdCLDRDQUE0QyxnSkFBZ0osNE1BQTRNLEVBQUUsb0lBQW9JLEVBQUUsZ0hBQWdILEVBQUUsa0NBQWtDLEVBQUUsdUNBQXVDLEVBQUUscUhBQXFILHFDQUFxQywySkFBMkosd0NBQXdDLGFBQWEsK0NBQStDLG9EQUFvRCxPQUFPLDBEQUE0QixvQkFBb0IsY0FBYyx5Q0FBeUMsR0FBRyxDQUFDLHdEQUF3QiwwREFBMEQsNkpBQTZKLDRLQUE0SyxVQUFVLGdEQUFnRCxzQkFBc0IsNkJBQTZCLGFBQWEsK0NBQStDLG9EQUFvRCxPQUFPLDBEQUE0QixtQkFBbUIsdUJBQXVCLHlDQUF5QywwREFBNEIsU0FBUyx3REFBd0Qsd0JBQXdCLCtHQUErRyxPQUFPLDBEQUE0QixpQkFBaUIsaUJBQWlCLEVBQUUsSUFBSSxHQUFHLENBQUMsd0RBQXdCLG9DQUFvQyxnSkFBZ0oseURBQXlELEVBQUUsd0ZBQXdGLHlDQUF5QyxrQ0FBa0MsYUFBYSwrQ0FBK0Msb0RBQW9ELHlCQUF5QixPQUFPLDBEQUE0QixvQkFBb0IsMkJBQTJCLG9EQUFPLGlLQUFpSyw4Q0FBOEMsT0FBTywwREFBNEIsV0FBVyxjQUFjLGtCQUFrQixJQUFJLEdBQUcsQ0FBQyx3REFBd0IsOENBQThDLHVKQUF1Six1QkFBdUIsVUFBVSxtREFBbUQscUNBQXFDLEVBQUUsd0JBQXdCLGlCQUFpQixpQkFBaUIsRUFBRSxpQkFBaUIsRUFBRSxFQUFFLG9JQUFvSSxFQUFFLGtDQUFrQyxFQUFFLHVDQUF1QyxFQUFFLCtDQUErQyxzQkFBc0IsZ0NBQWdDLGFBQWEsK0NBQStDLG9EQUFvRCxPQUFPLDBEQUE0QixzQkFBc0IsaUpBQWlKLHlCQUF5QixHQUFHLENBQUMsd0RBQXdCLDBDQUEwQyxtSkFBbUosdUNBQXVDLEVBQUUsbUlBQW1JLEVBQUUsa0NBQWtDLEVBQUUsNERBQTRELEVBQUUsK0NBQStDLGlCQUFpQiwwSkFBMEoscUJBQXFCLDJCQUEyQixhQUFhLCtDQUErQyx1REFBdUQsdUJBQXVCLHFFQUFxRSwrQkFBK0IsK0JBQStCLHVEQUF1RCxvSEFBb0gsdUJBQXVCLE9BQU8sT0FBTywwREFBNEIsaUJBQWlCLGVBQWUsSUFBSSx1SEFBdUgsR0FBRyxHQUFHLENBQUMsd0RBQXdCLGdDQUFnQywyTkFBMk4saUZBQWlGLEVBQUUsOERBQThELGdGQUFnRixFQUFFLDhGQUE4RixFQUFFLEVBQUUsOEpBQThKLEVBQUUsdUZBQXVGLEVBQUUscUZBQXFGLEVBQUUscU9BQXFPLFlBQVksc0JBQXNCLHVCQUF1QixPQUFPLGdEQUFtQixTQUFTLDBGQUEwRixtQkFBbUIsR0FBRyxvREFBTyw0QkFBNEIsc0RBQXNELGtEQUFrRCxFQUFFLEVBQUUsaUZBQWlGLE9BQU8sOEJBQThCLHNDQUFzQyw0SUFBNEksK0JBQStCLEtBQUsscUJBQXFCLHlCQUF5QixxQkFBcUIseUJBQXlCLGlDQUFpQyxrQkFBa0Isd0NBQXdDLCtJQUErSSwyREFBMkQsNkJBQTZCLDhCQUE4QixFQUFFLHlCQUF5Qiw2QkFBNkIsOEJBQThCLEVBQUUsR0FBRyxXQUFXLHlDQUF5QyxVQUFVLHNCQUFzQix5QkFBeUIsNEVBQTRFLDZEQUE2RCx5REFBeUQsdURBQXVELG9EQUFvRCxpRUFBaUUsOERBQThELFNBQVMsR0FBRyxFQUFFLDRDQUE0QyxPQUFPLDhCQUE4QixzQ0FBc0MsNElBQTRJLCtCQUErQixLQUFLLHFCQUFxQix5QkFBeUIscUJBQXFCLHlCQUF5QixpQ0FBaUMsa0JBQWtCLHdDQUF3QywrSUFBK0ksMkRBQTJELDZCQUE2Qiw4QkFBOEIsRUFBRSx5QkFBeUIsNkJBQTZCLDhCQUE4QixFQUFFLEdBQUcsV0FBVyx5Q0FBeUMsVUFBVSxzQkFBc0IseUJBQXlCLDRFQUE0RSw2REFBNkQseURBQXlELHVEQUF1RCxvREFBb0QsaUVBQWlFLDhEQUE4RCxTQUFTLEdBQUcscUNBQXFDLHdEQUF3RCxvREFBTyxzSEFBc0gsNkNBQU0sU0FBUywrQ0FBUSxvQkFBb0IsK0NBQVEscUJBQXFCLCtDQUFRLElBQUksS0FBSyxhQUFhLGlEQUFVLHNCQUFzQixHQUFHLGdEQUFTLGFBQWEsTUFBTSxZQUFZLE1BQU0sb0RBQU8sNkNBQTZDLGVBQWUsV0FBVyxHQUFHLGlCQUFpQix1QkFBdUIsRUFBRSxJQUFJLG9EQUFPLGFBQWEsb0RBQU8sZUFBZSxXQUFXLDJGQUEyRixRQUFRLHVDQUF1QyxZQUFZLEdBQUcsNENBQTRDLHVCQUF1QixNQUFNLGlIQUFpSCxRQUFRLHVDQUF1QyxZQUFZLElBQUksR0FBRyxHQUFHLHdDQUF3QyxzQkFBc0IsR0FBRyxrQkFBa0IsdUJBQXVCLFdBQVcsSUFBSSxNQUFNLG9EQUFPLGlCQUFpQiwwREFBNEIsQ0FBQyx1REFBdUIsTUFBTSwwREFBNEIsa0JBQWtCLGVBQWUsZ0JBQWdCLGdEQUFnRCxtSUFBbUksZ0VBQWdFLFFBQVEsT0FBTywwREFBNEIsYUFBYSw4RUFBOEUsQ0FBQywwREFBNEIsZ0JBQWdCLHNKQUFzSixHQUFHLEdBQUcsMERBQTRCLFdBQVcsK0hBQStILHFLQUFxSyxFQUFFLDBEQUE0QixnQkFBZ0IsbUtBQW1LLEdBQUcsMERBQTRCLFdBQVcsK0NBQStDLCtEQUErRCxvR0FBb0csa0NBQWtDLEdBQUcsMkNBQTJDLE1BQU0scURBQXFELGdFQUFnRSxtQ0FBbUMsR0FBRyxFQUFFLG9EQUFPLHFEQUFxRCxHQUFHLE9BQU8sMERBQTRCLENBQUMsdURBQXVCLE1BQU0sMERBQTRCLGlCQUFpQixNQUFNLGVBQWUsZ0JBQWdCLG9EQUFvRCw2TEFBNkwsS0FBSyxvREFBTywySEFBMkgsMERBQTRCLGdCQUFnQixrUUFBa1EsS0FBSyxvREFBTyw4REFBOEQsMERBQTRCLGdCQUFnQixtS0FBbUssRUFBRSwwREFBNEIsZ0JBQWdCLGdQQUFnUCxHQUFHLDBEQUE0QixXQUFXLCtDQUErQywrREFBK0Qsb0dBQW9HLGtDQUFrQyxHQUFHLHlDQUF5Qyw0QkFBNEIsb0NBQW9DLHNDQUFzQyw2Q0FBNkMsR0FBRyx3QkFBd0IsY0FBYyxNQUFNLDhCQUE4QixxRUFBcUUsdUZBQXVGLGFBQWEsd0JBQXdCLFdBQVcscUNBQXFDLHlEQUF5RCxnSEFBZ0gsYUFBYSxFQUFFLDhFQUE4RSxXQUFXLDhEQUE4RCxvREFBTyxnQ0FBZ0MsR0FBRywwREFBMEQsMkZBQTJGLE9BQU8sdURBQXVELE1BQU0sMEVBQTBFLDZLQUE2SyxXQUFXLEVBQUUscUVBQXFFLHdCQUF3Qix1REFBdUQsNElBQTRJLEVBQUUsV0FBVywyQ0FBMkMseUlBQXlJLGlDQUFpQyx5REFBeUQsMERBQTBELHVFQUF1RSx3RUFBd0UsNEJBQTRCLHVHQUF1RyxlQUFlLGFBQWEsWUFBWSwrQkFBK0IsNkJBQTZCLFdBQVcsOERBQThELElBQUksNkJBQTZCLDJCQUEyQixNQUFNLCtDQUFRLG1CQUFtQixPQUFPLGdEQUFTLGFBQWEsQ0FBQyxvREFBTyxZQUFZLG9EQUFPLHNCQUFzQixRQUFRLG9EQUFPLDZDQUE2QyxvTkFBb04sOEZBQThGLHFDQUFxQyxFQUFFLDZGQUE2RixFQUFFLDBDQUEwQyxFQUFFLHdDQUF3QyxFQUFFLDREQUE0RCxFQUFFLEVBQUUsRUFBRSxvREFBTyxZQUFZLG9EQUFPLFVBQVUsa0NBQWtsQjtBQUM1d3FJIiwic291cmNlcyI6WyIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL01hcHBpbmMvbm9kZV9tb2R1bGVzL0BidWlsZGVyLmlvL3JlYWN0L2Rpc3QvYnVpbGRlci1yZWFjdC5lczUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e0J1aWxkZXIsYnVpbGRlcixTdWJzY3JpcHRpb24sQmVoYXZpb3JTdWJqZWN0fWZyb21cIkBidWlsZGVyLmlvL3Nka1wiO2V4cG9ydHtCdWlsZGVyLGJ1aWxkZXIsYnVpbGRlciBhcyBkZWZhdWx0fWZyb21cIkBidWlsZGVyLmlvL3Nka1wiO2ltcG9ydHtqc3gsQ2xhc3NOYW1lcyxjc3N9ZnJvbVwiQGVtb3Rpb24vY29yZVwiO2ltcG9ydCphcyBSZWFjdCBmcm9tXCJyZWFjdFwiO2ltcG9ydCBSZWFjdF9fZGVmYXVsdCx7dXNlQ29udGV4dCx1c2VSZWYsdXNlU3RhdGUsdXNlRWZmZWN0fWZyb21cInJlYWN0XCI7aW1wb3J0IFJlYWN0RE9NIGZyb21cInJlYWN0LWRvbVwiO2ltcG9ydCBoYXNoIGZyb21cImhhc2gtc3VtXCI7dmFyIFNES19WRVJTSU9OPVwiOC4yLjZcIixfYTtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYobnVsbD09PShfYT13aW5kb3cucGFyZW50KXx8dm9pZCAwPT09X2F8fF9hLnBvc3RNZXNzYWdlKHt0eXBlOlwiYnVpbGRlci5pc1JlYWN0U2RrXCIsZGF0YTp7dmFsdWU6ITAsc3VwcG9ydHNQYXRjaFVwZGF0ZXM6XCJ2NFwiLHN1cHBvcnRzQ3VzdG9tQnJlYWtwb2ludHM6ITAsc3VwcG9ydHNYU21hbGxCcmVha3BvaW50OiEwLHN1cHBvcnRzR2xvYmFsU3ltYm9sczohMCxibG9ja0xldmVsUGVyc29uYWxpemF0aW9uOiEwLHZlcnNpb246U0RLX1ZFUlNJT059fSxcIipcIikpO3ZhciBleHRlbmRTdGF0aWNzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGV4dGVuZFN0YXRpY3M9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfSkoZSx0KX07ZnVuY3Rpb24gX19leHRlbmRzKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1leHRlbmRTdGF0aWNzKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfXZhciBfX2Fzc2lnbj1mdW5jdGlvbigpe3JldHVybihfX2Fzc2lnbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0xLGk9YXJndW1lbnRzLmxlbmd0aDtuPGk7bisrKWZvcih2YXIgciBpbiB0PWFyZ3VtZW50c1tuXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIF9fcmVzdChlLHQpe3ZhciBuPXt9O2Zvcih2YXIgaSBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiZ0LmluZGV4T2YoaSk8MCYmKG5baV09ZVtpXSk7aWYobnVsbCE9ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9MDtmb3IoaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3I8aS5sZW5ndGg7cisrKXQuaW5kZXhPZihpW3JdKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxpW3JdKSYmKG5baVtyXV09ZVtpW3JdXSl9cmV0dXJuIG59ZnVuY3Rpb24gX19kZWNvcmF0ZShlLHQsbixpKXt2YXIgcixvPWFyZ3VtZW50cy5sZW5ndGgsYT1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKWE9UmVmbGVjdC5kZWNvcmF0ZShlLHQsbixpKTtlbHNlIGZvcih2YXIgcz1lLmxlbmd0aC0xO3M+PTA7cy0tKShyPWVbc10pJiYoYT0obzwzP3IoYSk6bz4zP3IodCxuLGEpOnIodCxuKSl8fGEpO3JldHVybiBvPjMmJmEmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4sYSksYX1mdW5jdGlvbiBfX21ldGFkYXRhKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoZSx0KX1mdW5jdGlvbiBfX2F3YWl0ZXIoZSx0LG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKHIsbyl7ZnVuY3Rpb24gYShlKXt0cnl7bChpLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2woaS50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gbChlKXt2YXIgdDtlLmRvbmU/cihlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1sKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gX19nZW5lcmF0b3IoZSx0KXt2YXIgbixpLHIsbyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnJbMF0pdGhyb3cgclsxXTtyZXR1cm4gclsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHMocyl7cmV0dXJuIGZ1bmN0aW9uKGwpe3JldHVybiBmdW5jdGlvbihzKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7byYmKG89MCxzWzBdJiYoYT0wKSksYTspdHJ5e2lmKG49MSxpJiYocj0yJnNbMF0/aS5yZXR1cm46c1swXT9pLnRocm93fHwoKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSksMCk6aS5uZXh0KSYmIShyPXIuY2FsbChpLHNbMV0pKS5kb25lKXJldHVybiByO3N3aXRjaChpPTAsciYmKHM9WzImc1swXSxyLnZhbHVlXSksc1swXSl7Y2FzZSAwOmNhc2UgMTpyPXM7YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOnNbMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxpPXNbMV0scz1bMF07Y29udGludWU7Y2FzZSA3OnM9YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShyPWEudHJ5cywocj1yLmxlbmd0aD4wJiZyW3IubGVuZ3RoLTFdKXx8NiE9PXNbMF0mJjIhPT1zWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1zWzBdJiYoIXJ8fHNbMV0+clswXSYmc1sxXTxyWzNdKSl7YS5sYWJlbD1zWzFdO2JyZWFrfWlmKDY9PT1zWzBdJiZhLmxhYmVsPHJbMV0pe2EubGFiZWw9clsxXSxyPXM7YnJlYWt9aWYociYmYS5sYWJlbDxyWzJdKXthLmxhYmVsPXJbMl0sYS5vcHMucHVzaChzKTticmVha31yWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9cz10LmNhbGwoZSxhKX1jYXRjaChlKXtzPVs2LGVdLGk9MH1maW5hbGx5e249cj0wfWlmKDUmc1swXSl0aHJvdyBzWzFdO3JldHVybnt2YWx1ZTpzWzBdP3NbMV06dm9pZCAwLGRvbmU6ITB9fShbcyxsXSl9fX1mdW5jdGlvbiBfX3NwcmVhZEFycmF5KGUsdCxuKXtpZihufHwyPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIGkscj0wLG89dC5sZW5ndGg7cjxvO3IrKykhaSYmciBpbiB0fHwoaXx8KGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCwwLHIpKSxpW3JdPXRbcl0pO3JldHVybiBlLmNvbmNhdChpfHxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KSl9XCJmdW5jdGlvblwiPT10eXBlb2YgU3VwcHJlc3NlZEVycm9yJiZTdXBwcmVzc2VkRXJyb3I7dmFyIGZhc3RDbG9uZT1mdW5jdGlvbihlKXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSl9LG9taXQkMj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtmb3IodmFyIGk9T2JqZWN0LmFzc2lnbih7fSxlKSxyPTAsbz10O3I8by5sZW5ndGg7cisrKXt2YXIgYT1vW3JdO2RlbGV0ZSBpW2FdfXJldHVybiBpfSxzaXplTmFtZXM9W1wieHNtYWxsXCIsXCJzbWFsbFwiLFwibWVkaXVtXCIsXCJsYXJnZVwiXSxzaXplcz17eHNtYWxsOnttaW46MCxkZWZhdWx0OjE2MCxtYXg6MzIwfSxzbWFsbDp7bWluOjMyMSxkZWZhdWx0OjMyMSxtYXg6NjQwfSxtZWRpdW06e21pbjo2NDEsZGVmYXVsdDo2NDIsbWF4Ojk5MX0sbGFyZ2U6e21pbjo5OTAsZGVmYXVsdDo5OTEsbWF4OjEyMDB9LGdldFdpZHRoRm9yU2l6ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpc1tlXS5kZWZhdWx0fSxnZXRTaXplRm9yV2lkdGg6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj1zaXplTmFtZXM7dDxuLmxlbmd0aDt0Kyspe3ZhciBpPW5bdF07aWYoZTw9dGhpc1tpXS5tYXgpcmV0dXJuIGl9cmV0dXJuXCJsYXJnZVwifX0sZ2V0U2l6ZXNGb3JCcmVha3BvaW50cz1mdW5jdGlvbihlKXt2YXIgdD1fX2Fzc2lnbihfX2Fzc2lnbih7fSxzaXplcyksZmFzdENsb25lKHNpemVzKSk7aWYoIWUpcmV0dXJuIHQ7dmFyIG49ZS54c21hbGwsaT1lLnNtYWxsLHI9ZS5tZWRpdW07aWYobil7dmFyIG89TWF0aC5mbG9vcihuLzIpO3QueHNtYWxsPXttYXg6bixtaW46byxkZWZhdWx0Om8rMX19aWYoIWl8fCFyKXJldHVybiB0O3ZhciBhPW4/dC54c21hbGwubWF4KzE6TWF0aC5mbG9vcihpLzIpO3Quc21hbGw9e21heDppLG1pbjphLGRlZmF1bHQ6YSsxfTt2YXIgcz10LnNtYWxsLm1heCsxO3QubWVkaXVtPXttYXg6cixtaW46cyxkZWZhdWx0OnMrMX07dmFyIGw9dC5tZWRpdW0ubWF4KzE7cmV0dXJuIHQubGFyZ2U9e21heDoyZTMsbWluOmwsZGVmYXVsdDpsKzF9LHR9LHNldD1mdW5jdGlvbihlLHQsbil7aWYoT2JqZWN0KGUpIT09ZSlyZXR1cm4gZTt2YXIgaT1BcnJheS5pc0FycmF5KHQpP3Q6dC50b1N0cmluZygpLm1hdGNoKC9bXi5bXFxdXSsvZyk7cmV0dXJuIGkuc2xpY2UoMCwtMSkucmVkdWNlKChmdW5jdGlvbihlLHQsbil7cmV0dXJuIE9iamVjdChlW3RdKT09PWVbdF0/ZVt0XTplW3RdPU1hdGguYWJzKE51bWJlcihpW24rMV0pKT4+MD09K2lbbisxXT9bXTp7fX0pLGUpW2lbaS5sZW5ndGgtMV1dPW4sZX0sbm9vcD1mdW5jdGlvbigpe3JldHVybiBudWxsfSxzYWZlRHluYW1pY1JlcXVpcmU7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YobnVsbD09PWdsb2JhbFRoaXN8fHZvaWQgMD09PWdsb2JhbFRoaXM/dm9pZCAwOmdsb2JhbFRoaXMucmVxdWlyZSl8fEJ1aWxkZXIuaXNTZXJ2ZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUpdHJ5e3NhZmVEeW5hbWljUmVxdWlyZT1ldmFsKFwicmVxdWlyZVwiKX1jYXRjaChlKXtzYWZlRHluYW1pY1JlcXVpcmU9KG51bGw9PT1nbG9iYWxUaGlzfHx2b2lkIDA9PT1nbG9iYWxUaGlzP3ZvaWQgMDpnbG9iYWxUaGlzLnJlcXVpcmUpP2dsb2JhbFRoaXMucmVxdWlyZTpub29wfWZ1bmN0aW9uIGlzRGVidWcoKXtyZXR1cm4gQm9vbGVhbihcInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmdm9pZCAwIT09cHJvY2Vzcy5lbnYmJnByb2Nlc3MuZW52LkRFQlVHKX1mdW5jdGlvbiBpc05vZGVSdW50aW1lKCl7dmFyIGU7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHByb2Nlc3MmJkJvb2xlYW4obnVsbD09PShlPW51bGw9PT1wcm9jZXNzfHx2b2lkIDA9PT1wcm9jZXNzP3ZvaWQgMDpwcm9jZXNzLnZlcnNpb25zKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5ub2RlKX1udWxsIT1zYWZlRHluYW1pY1JlcXVpcmV8fChzYWZlRHluYW1pY1JlcXVpcmU9bm9vcCk7dmFyIHNob3VsZEZvcmNlQnJvd3NlclJ1bnRpbWVJbk5vZGU9ZnVuY3Rpb24oKXt2YXIgZTtpZighaXNOb2RlUnVudGltZSgpKXJldHVybiExO3ZhciB0PVwiYXJtNjRcIj09PXByb2Nlc3MuYXJjaCxuPXByb2Nlc3MudmVyc2lvbi5zdGFydHNXaXRoKFwidjIwXCIpLGk9bnVsbD09PShlPXByb2Nlc3MuZW52Lk5PREVfT1BUSU9OUyl8fHZvaWQgMD09PWU/dm9pZCAwOmUuaW5jbHVkZXMoXCItLW5vLW5vZGUtc25hcHNob3RcIik7cmV0dXJuISghdHx8IW58fGkpJiYoY29uc29sZS5sb2coXCJTa2lwcGluZyB1c2FnZSBvZiBgaXNvbGF0ZWQtdm1gIHRvIGF2b2lkIGNyYXNoZXMgaW4gTm9kZSB2MjAgb24gYW4gYXJtNjQgbWFjaGluZS5cXG4gICAgSWYgeW91IHdvdWxkIGxpa2UgdG8gdXNlIHRoZSBgaXNvbGF0ZWQtdm1gIHBhY2thZ2Ugb24gdGhpcyBtYWNoaW5lLCBwbGVhc2UgcHJvdmlkZSB0aGUgYE5PREVfT1BUSU9OUz0tLW5vLW5vZGUtc25hcHNob3RgIGNvbmZpZyB0byB5b3VyIE5vZGUgcHJvY2Vzcy5cXG4gICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9CdWlsZGVySU8vYnVpbGRlci9ibG9iL21haW4vcGFja2FnZXMvcmVhY3QvUkVBRE1FLm1kI25vZGUtdjIwLS1tMS1tYWNzLWFwcGxlLXNpbGljb24tc3VwcG9ydCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cXG4gICAgXCIpLCEwKX0sZm5DYWNoZT17fSxhcGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGJ1aWxkZXJ9O2Z1bmN0aW9uIHN0cmluZ1RvRnVuY3Rpb24oZSx0LG4saSl7aWYodm9pZCAwPT09dCYmKHQ9ITApLCFlfHwhZS50cmltKCkpcmV0dXJuIGZ1bmN0aW9uKCl7fTt2YXIgcj1lK1wiOlwiK3Q7aWYoZm5DYWNoZVtyXSlyZXR1cm4gZm5DYWNoZVtyXTt2YXIgbz10JiYhKGUuaW5jbHVkZXMoXCI7XCIpfHxlLmluY2x1ZGVzKFwiIHJldHVybiBcIil8fGUudHJpbSgpLnN0YXJ0c1dpdGgoXCJyZXR1cm4gXCIpKXx8ZS50cmltKCkuc3RhcnRzV2l0aChcImJ1aWxkZXIucnVuXCIpLGE9ZnVuY3Rpb24oKXt9O3RyeXtCdWlsZGVyLmlzQnJvd3NlciYmKGE9bmV3IEZ1bmN0aW9uKFwic3RhdGVcIixcImV2ZW50XCIsXCJibG9ja1wiLFwiYnVpbGRlclwiLFwiRGV2aWNlXCIsXCJ1cGRhdGVcIixcIkJ1aWxkZXJcIixcImNvbnRleHRcIixcIlxcbiAgICAgICAgICB2YXIgbmFtZXMgPSBbXFxuICAgICAgICAgICAgJ3N0YXRlJyxcXG4gICAgICAgICAgICAnZXZlbnQnLFxcbiAgICAgICAgICAgICdibG9jaycsXFxuICAgICAgICAgICAgJ2J1aWxkZXInLFxcbiAgICAgICAgICAgICdEZXZpY2UnLFxcbiAgICAgICAgICAgICd1cGRhdGUnLFxcbiAgICAgICAgICAgICdCdWlsZGVyJyxcXG4gICAgICAgICAgICAnY29udGV4dCdcXG4gICAgICAgICAgXTtcXG4gICAgICAgICAgdmFyIHJvb3RTdGF0ZSA9IHN0YXRlO1xcbiAgICAgICAgICBpZiAodHlwZW9mIFByb3h5ICE9PSAndW5kZWZpbmVkJykge1xcbiAgICAgICAgICAgIHJvb3RTdGF0ZSA9IG5ldyBQcm94eShyb290U3RhdGUsIHtcXG4gICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XFxuICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHtcXG4gICAgICAgICAgICAgICAgaWYgKG5hbWVzLmluY2x1ZGVzKGtleSkpIHtcXG4gICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9KTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICAvKiBBbGlhcyAqL1xcbiAgICAgICAgICB2YXIgY3R4ID0gY29udGV4dDtcXG4gICAgICAgICAgdmFyIGxvZyA9IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7XFxuICAgICAgICAgIHdpdGggKHJvb3RTdGF0ZSkge1xcbiAgICAgICAgICAgIFwiLmNvbmNhdChvP1wicmV0dXJuIChcIi5jb25jYXQoZSxcIik7XCIpOmUsXCI7XFxuICAgICAgICAgIH1cXG4gICAgICAgIFwiKSkpfWNhdGNoKHQpe24mJm4ucHVzaCh0KTt2YXIgcz10JiZ0Lm1lc3NhZ2U7cyYmXCJzdHJpbmdcIj09dHlwZW9mIHMmJmkmJi0xPT09aS5pbmRleE9mKHMpJiZpLnB1c2gocyksQnVpbGRlci5pc0Jyb3dzZXImJmNvbnNvbGUud2FybihcIkZ1bmN0aW9uIGNvbXBpbGUgZXJyb3IgaW4gXCIuY29uY2F0KGUpLHQpfXZhciBsPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXRbaV09YXJndW1lbnRzW2ldO3RyeXtpZihCdWlsZGVyLmlzQnJvd3Nlcnx8c2hvdWxkRm9yY2VCcm93c2VyUnVudGltZUluTm9kZSgpKXJldHVybiBhLmFwcGx5KHZvaWQgMCx0KTt2YXIgcj1nZXRJc29sYXRlQ29udGV4dCgpLHM9c2FmZUR5bmFtaWNSZXF1aXJlKFwiaXNvbGF0ZWQtdm1cIiksbD1yLmV2YWxDbG9zdXJlU3luYyhtYWtlRm4oZSxvKSx0Lm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZT9uZXcgcy5SZWZlcmVuY2UodD09PWluZGV4T2ZCdWlsZGVySW5zdGFuY2U/X19hc3NpZ24oX19hc3NpZ24oe30sZSkse2dldFVzZXJBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2V0VXNlckF0dHJpYnV0ZXMoXCJcIil9fSk6ZSk6bnVsbH0pKSk7dHJ5e3ZhciB1PUpTT04ucGFyc2UobCk7cmV0dXJuIHV9Y2F0Y2goZSl7cmV0dXJuIGx9fWNhdGNoKHQpe3JldHVybiBCdWlsZGVyLmlzQnJvd3Nlcj9jb25zb2xlLndhcm4oXCJCdWlsZGVyIGN1c3RvbSBjb2RlIGVycm9yOlwiLHQubWVzc2FnZXx8dCxcImluXCIsZSx0LnN0YWNrfHx0KTppc0RlYnVnKCkmJmNvbnNvbGUuZGVidWcoXCJCdWlsZGVyIGN1c3RvbSBjb2RlIGVycm9yOlwiLHQubWVzc2FnZXx8dCxcImluXCIsZSx0LnN0YWNrfHx0KSxuJiZuLnB1c2godCksbnVsbH19O3JldHVybiBCdWlsZGVyLmlzQnJvd3NlciYmKGZuQ2FjaGVbcl09bCksbH12YXIgaW5kZXhPZkJ1aWxkZXJJbnN0YW5jZT0zLG1ha2VGbj1mdW5jdGlvbihlLHQsbil7dmFyIGk9bnx8W1wic3RhdGVcIixcImV2ZW50XCIsXCJibG9ja1wiLFwiYnVpbGRlclwiLFwiRGV2aWNlXCIsXCJ1cGRhdGVcIixcIkJ1aWxkZXJcIixcImNvbnRleHRcIl07cmV0dXJuXCJcXG5cIi5jb25jYXQoXCJcXG4gIHZhciByZWZUb1Byb3h5ID0gKG9iaikgPT4ge1xcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XFxuICAgICAgcmV0dXJuIG9iajtcXG4gICAgfVxcbiAgICByZXR1cm4gbmV3IFByb3h5KHt9LCB7XFxuICAgICAgICBnZXQodGFyZ2V0LCBrZXkpIHtcXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnY29weVN5bmMnKSB7XFxuICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gb2JqLmNvcHlTeW5jKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IG9iai5nZXRTeW5jKGtleSk7XFxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWw/LmNvcHlTeW5jID09PSAnZnVuY3Rpb24nKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cmluZ2lmeSh2YWwpKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcXG4gICAgICAgIH0sXFxuICAgICAgICBzZXQodGFyZ2V0LCBrZXksIHZhbHVlKSB7XFxuICAgICAgICAgICAgb2JqLnNldFN5bmMoa2V5LCB2YWx1ZSk7XFxuICAgICAgICB9LFxcbiAgICAgICAgZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcXG4gICAgICAgICAgICBvYmouZGVsZXRlU3luYyhrZXkpO1xcbiAgICAgICAgfVxcbiAgICAgIH0pXFxuICB9XFxuXCIsXCJcXG5cIikuY29uY2F0KFwiXFxuICAgIHZhciBzdHJpbmdpZnkgPSAodmFsKSA9PiB7XFxuICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCkge1xcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbC5jb3B5U3luYyA/IHZhbC5jb3B5U3luYygpIDogdmFsKTtcXG4gICAgICB9XFxuICAgICAgcmV0dXJuIHZhbDtcXG4gICAgfVxcbiAgXCIsXCJcXG5cIikuY29uY2F0KGkubWFwKChmdW5jdGlvbihlLHQpe3JldHVyblwidmFyIFwiLmNvbmNhdChlLFwiID0gcmVmVG9Qcm94eSgkXCIpLmNvbmNhdCh0LFwiKTtcIil9KSkuam9pbihcIlxcblwiKSkuY29uY2F0KFwiXFxuXCIuY29uY2F0KGkuaW5jbHVkZXMoXCJjb250ZXh0XCIpP1widmFyIGN0eCA9IGNvbnRleHQ7XCI6XCJcIixcIlxcbnZhciBlbmRSZXN1bHQgPSBmdW5jdGlvbigpIHtcXG4gIFwiKS5jb25jYXQodD9cInJldHVybiAoXCIuY29uY2F0KGUsXCIpO1wiKTplLFwiO1xcbn07XFxuXFxucmV0dXJuIHN0cmluZ2lmeShlbmRSZXN1bHQoKSk7XFxuXCIpKX0sZ2V0SXNvbGF0ZUNvbnRleHQ9ZnVuY3Rpb24oKXt2YXIgZT1CdWlsZGVyLnNlcnZlckNvbnRleHQ7ZXx8KGU9bmV3KHNhZmVEeW5hbWljUmVxdWlyZShcImlzb2xhdGVkLXZtXCIpLklzb2xhdGUpKHttZW1vcnlMaW1pdDoxMjh9KS5jcmVhdGVDb250ZXh0U3luYygpLEJ1aWxkZXIuc2V0U2VydmVyQ29udGV4dChlKSk7dmFyIHQ9ZS5nbG9iYWw7cmV0dXJuIHQuc2V0U3luYyhcImdsb2JhbFwiLHQuZGVyZWZJbnRvKCkpLHQuc2V0U3luYyhcImxvZ1wiLChmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtpc0RlYnVnKCkmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsZSl9KSksZX0saXNQcm9taXNlPWZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGhlbn0saXNSZXF1ZXN0SW5mbz1mdW5jdGlvbihlKXtyZXR1cm4haXNQcm9taXNlKGUpfSxCdWlsZGVyQXN5bmNSZXF1ZXN0c0NvbnRleHQ9UmVhY3RfX2RlZmF1bHQuY3JlYXRlQ29udGV4dCh7cmVxdWVzdHM6W10sZXJyb3JzOltdLGxvZ3M6W119KSxCdWlsZGVyU3RvcmVDb250ZXh0PVJlYWN0X19kZWZhdWx0LmNyZWF0ZUNvbnRleHQoe3N0YXRlOnt9LHJvb3RTdGF0ZTp7fSxjb250ZW50Ont9LGNvbnRleHQ6e30sdXBkYXRlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsfX0pLGFwcGx5UGF0Y2hXaXRoTWluaW1hbE11dGF0aW9uQ2hhaW49ZnVuY3Rpb24oZSx0LG4pe2lmKHZvaWQgMD09PW4mJihuPSExKSxPYmplY3QoZSkhPT1lKXJldHVybiBlO3ZhciBpPXQucGF0aCxyPXQub3Asbz10LnZhbHVlLGE9aS5zcGxpdCgvXFwvLyk7XCJcIj09PWFbMF0mJmEuc2hpZnQoKTtmb3IodmFyIHM9bj9lOl9fYXNzaWduKHt9LGUpLGw9cyx1PTA7dTxhLmxlbmd0aDt1Kyspe3ZhciBkPXU9PT1hLmxlbmd0aC0xLGM9YVt1XTtpZihkKXtpZihcInJlcGxhY2VcIj09PXIpbFtjXT1vO2Vsc2UgaWYoXCJhZGRcIj09PXIpe3ZhciBwPU51bWJlcihjKTtBcnJheS5pc0FycmF5KGwpP1wiLVwiPT09Yz9sLnB1c2gobyk6bC5zcGxpY2UocCwwLG8pOmxbY109b31lbHNlIGlmKFwicmVtb3ZlXCI9PT1yKXtwPU51bWJlcihjKTtBcnJheS5pc0FycmF5KGwpP2wuc3BsaWNlKHAsMSk6ZGVsZXRlIGxbY119fWVsc2V7dmFyIGY9YVt1KzFdLG09T2JqZWN0KGxbY10pPT09bFtjXT9sW2NdOlN0cmluZyhOdW1iZXIoZikpPT09Zj9bXTp7fTtsPWxbY109QXJyYXkuaXNBcnJheShtKT9fX3NwcmVhZEFycmF5KFtdLG0sITApOl9fYXNzaWduKHt9LG0pfX1yZXR1cm4gc30saHRtbEVzY2FwZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8mL2csXCImYW1wO1wiKS5yZXBsYWNlKC88L2csXCImbHQ7XCIpLnJlcGxhY2UoLz4vZyxcIiZndDtcIikucmVwbGFjZSgvXCIvZyxcIiZxdW90O1wiKX0sYmxvY2tUb0h0bWxTdHJpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuXCI8XCIuY29uY2F0KGh0bWxFc2NhcGUoZS50YWdOYW1lfHxcImRpdlwiKSwnIFxcbiAgICBjbGFzcz1cImJ1aWxkZXItYmxvY2sgJykuY29uY2F0KGUuaWQsXCIgXCIpLmNvbmNhdChlLmNsYXNzfHxcIlwiLCdcIlxcbiAgICBidWlsZGVyLWlkPVwiJykuY29uY2F0KGUuaWQsJ1wiXFxuICAnKS5jb25jYXQoT2JqZWN0LmtleXMoZS5wcm9wZXJ0aWVzfHx7fSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm5cIlwiLmNvbmNhdChodG1sRXNjYXBlKHQpLCc9XCInKS5jb25jYXQoaHRtbEVzY2FwZShlLnByb3BlcnRpZXNbdF0pLCdcIicpfSkpLmpvaW4oXCIgXCIpLFwiXFxuICA+XCIpLmNvbmNhdChcIlRleHRcIj09PShudWxsPT09KHQ9bnVsbD09ZT92b2lkIDA6ZS5jb21wb25lbnQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lm5hbWUpP2UuY29tcG9uZW50Lm9wdGlvbnMudGV4dDplLmNoaWxkcmVuP2UuY2hpbGRyZW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYmxvY2tUb0h0bWxTdHJpbmcoZSl9KSkuam9pbihcIlwiKTpcIlwiLFwiPC9cIikuY29uY2F0KGUudGFnTmFtZXx8XCJkaXZcIixcIj5cIikucmVwbGFjZSgvXFxzKy9nLFwiIFwiKX0sTGluaz1mdW5jdGlvbihlKXtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyU3RvcmVDb250ZXh0LkNvbnN1bWVyLG51bGwsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlbmRlckxpbms/dC5yZW5kZXJMaW5rKGUpOlJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsX19hc3NpZ24oe30sZSkpfSkpfTtmdW5jdGlvbiB0cmF2ZXJzZShlLHQsbixpLHIpe3ZvaWQgMD09PW4mJihuPW51bGwpLHZvaWQgMD09PWkmJihpPW51bGwpLHZvaWQgMD09PXImJihyPW5ldyBXZWFrU2V0KSxudWxsIT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZT9yLmhhcyhlKXx8KHIuYWRkKGUpLEFycmF5LmlzQXJyYXkoZSk/ZS5mb3JFYWNoKChmdW5jdGlvbihuLGkpe3QobiwoZnVuY3Rpb24odCl7ZVtpXT10fSkpLHRyYXZlcnNlKG4sdCxlLGkscil9KSk6T2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIGk9blswXSxvPW5bMV07dChvLChmdW5jdGlvbih0KXtlW2ldPXR9KSksdHJhdmVyc2Uobyx0LGUsaSxyKX0pKSk6dChlLChmdW5jdGlvbihlKXtudWxsIT09biYmbnVsbCE9PWkmJihuW2ldPWUpfSkpfXZhciBpc0xvY2FsaXplZEZpZWxkPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJAYnVpbGRlci5pby9jb3JlOkxvY2FsaXplZFZhbHVlXCI9PT1lW1wiQHR5cGVcIl19LGNvbnRhaW5zTG9jYWxpemVkVmFsdWVzPWZ1bmN0aW9uKGUpe2lmKCFlfHwhT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkubGVuZ3RoKXJldHVybiExO3ZhciB0PSExO3JldHVybiB0cmF2ZXJzZShlLChmdW5jdGlvbihlKXtpc0xvY2FsaXplZEZpZWxkKGUpJiYodD0hMCl9KSksdH0sZXh0cmFjdExvY2FsaXplZFZhbHVlcz1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5sZW5ndGg/KHRyYXZlcnNlKGUsKGZ1bmN0aW9uKGUsbil7dmFyIGk7aXNMb2NhbGl6ZWRGaWVsZChlKSYmbihudWxsIT09KGk9ZVt0XSkmJnZvaWQgMCE9PWk/aTp2b2lkIDApfSkpLGUpOnt9fSxjYW1lbENhc2VUb0tlYmFiQ2FzZT1mdW5jdGlvbihlKXtyZXR1cm4gZT9lLnJlcGxhY2UoLyhbQS1aXSkvZywoZnVuY3Rpb24oZSl7cmV0dXJuXCItXCIuY29uY2F0KGVbMF0udG9Mb3dlckNhc2UoKSl9KSk6XCJcIn0sa2ViYWJDYXNlVG9DYW1lbENhc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVwiXCIpLGUucmVwbGFjZSgvLShbYS16XSkvZywoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV0udG9VcHBlckNhc2UoKX0pKX0sRGV2aWNlPXtkZXNrdG9wOjAsdGFibGV0OjEsbW9iaWxlOjJ9O2Z1bmN0aW9uIGRlZXBDbG9uZVdpdGhDb25kaXRpb25zKGUpe2lmKG51bGw9PT1lfHxcIm9iamVjdFwiIT10eXBlb2YgZSlyZXR1cm4gZTtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGRlZXBDbG9uZVdpdGhDb25kaXRpb25zKGUpfSkpO2lmKFwiQGJ1aWxkZXIuaW8vc2RrOkVsZW1lbnRcIj09PWVbXCJAdHlwZVwiXSlyZXR1cm4gZTt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlcIm1ldGFcIiE9PW4mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1kZWVwQ2xvbmVXaXRoQ29uZGl0aW9ucyhlW25dKSk7cmV0dXJuIHR9dmFyIHZvaWRFbGVtZW50cz1uZXcgU2V0KFtcImFyZWFcIixcImJhc2VcIixcImJyXCIsXCJjb2xcIixcImVtYmVkXCIsXCJoclwiLFwiaW1nXCIsXCJpbnB1dFwiLFwibGlua1wiLFwibWV0YVwiLFwicGFyYW1cIixcInNvdXJjZVwiLFwidHJhY2tcIixcIndiclwiLFwidGV4dGFyZWFcIl0pLGxhc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5sZW5ndGgtMV19O2Z1bmN0aW9uIG9taXQkMShlLHQpe2Zvcih2YXIgbj1PYmplY3QuYXNzaWduKHt9LGUpLGk9MCxyPXQ7aTxyLmxlbmd0aDtpKyspe2RlbGV0ZSBuW3JbaV1dfXJldHVybiBufXZhciBjc3NDYXNlPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiBlO3ZhciB0PWNhbWVsQ2FzZVRvS2ViYWJDYXNlKGUpO3JldHVybiBlWzBdPT09ZVswXS50b1VwcGVyQ2FzZSgpJiYodD1cIi1cIit0KSx0fTtmdW5jdGlvbiBjYXBpdGFsaXplKGUpe2lmKGUpcmV0dXJuIGVbMF0udG9VcHBlckNhc2UoKStlLnNsaWNlKDEpfXZhciBCdWlsZGVyQmxvY2skMT1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIEJ1aWxkZXJCbG9jaygpe3ZhciBfdGhpcz1udWxsIT09X3N1cGVyJiZfc3VwZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBfdGhpcy5oeWRyYXRlZD0hMSxfdGhpcy5zdGF0ZT17aGFzRXJyb3I6ITEsdXBkYXRlczowfSxfdGhpcy5wcml2YXRlU3RhdGU9e3N0YXRlOnt9LHJvb3RTdGF0ZTp7fSxjb250ZXh0Ont9LHVwZGF0ZTpmdW5jdGlvbigpe319LF90aGlzLm9uV2luZG93TWVzc2FnZT1mdW5jdGlvbihldmVudCl7dmFyIG1lc3NhZ2U9ZXZlbnQuZGF0YTtpZihtZXNzYWdlKXN3aXRjaChtZXNzYWdlLnR5cGUpe2Nhc2VcImJ1aWxkZXIuc2VsZWN0aW9uQ2hhbmdlXCI6dmFyIGRhdGE9bWVzc2FnZS5kYXRhO2lmKCFkYXRhKWJyZWFrO3ZhciBzZWxlY3Rpb249ZGF0YS5zZWxlY3Rpb24saWQ9X3RoaXMuYmxvY2smJl90aGlzLmJsb2NrLmlkO2lkJiZBcnJheS5pc0FycmF5KHNlbGVjdGlvbikmJnNlbGVjdGlvbi5pbmRleE9mKGlkKT4tMSYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXt3aW5kb3cuJGJsb2NrPV90aGlzLHdpbmRvdy4kYmxvY2tzfHwod2luZG93LiRibG9ja3M9W10pLHdpbmRvdy4kYmxvY2tzLnB1c2goX3RoaXMpfSkpO2JyZWFrO2Nhc2VcImJ1aWxkZXIucGF0Y2hVcGRhdGVzXCI6dmFyIGRhdGE9bWVzc2FnZS5kYXRhO2lmKCFkYXRhfHwhZGF0YS5kYXRhKWJyZWFrO3ZhciBwYXRjaGVzPWRhdGEuZGF0YVtfdGhpcy5ibG9jay5pZF07aWYoIXBhdGNoZXMpcmV0dXJuO2xvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCJidWlsZGVyLmRlYnVnPXRydWVcIikmJmV2YWwoXCJkZWJ1Z2dlclwiKTtmb3IodmFyIF9pPTAscGF0Y2hlc18xPXBhdGNoZXM7X2k8cGF0Y2hlc18xLmxlbmd0aDtfaSsrKXt2YXIgcGF0Y2g9cGF0Y2hlc18xW19pXTthcHBseVBhdGNoV2l0aE1pbmltYWxNdXRhdGlvbkNoYWluKF90aGlzLnByb3BzLmJsb2NrLHBhdGNoLCEwKX1fdGhpcy5zZXRTdGF0ZSh7dXBkYXRlczpfdGhpcy5zdGF0ZS51cGRhdGVzKzF9KX19LF90aGlzfXJldHVybiBfX2V4dGVuZHMoQnVpbGRlckJsb2NrLF9zdXBlciksT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1aWxkZXJCbG9jay5wcm90b3R5cGUsXCJzdG9yZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcml2YXRlU3RhdGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksQnVpbGRlckJsb2NrLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcj1mdW5jdGlvbihlKXtyZXR1cm57aGFzRXJyb3I6ITB9fSxCdWlsZGVyQmxvY2sucHJvdG90eXBlLmNvbXBvbmVudERpZENhdGNoPWZ1bmN0aW9uKGUsdCl7Y29uc29sZS5lcnJvcihcIkJ1aWxkZXIgYmxvY2sgZXJyb3I6XCIsZSx0KX0sQnVpbGRlckJsb2NrLnByb3RvdHlwZS5zdHJpbmdUb0Z1bmN0aW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSEwKSxzdHJpbmdUb0Z1bmN0aW9uKGUsdCx0aGlzLl9lcnJvcnMsdGhpcy5fbG9ncyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWlsZGVyQmxvY2sucHJvdG90eXBlLFwiYmxvY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcHMuYmxvY2t9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksQnVpbGRlckJsb2NrLnByb3RvdHlwZS5lbW90aW9uQ3NzPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLG8sYSxzLGwsdT10aGlzLmJsb2NrLGQ9dS5hbmltYXRpb25zJiZ1LmFuaW1hdGlvbnNbMF07aWYoZCYmXCJob3ZlclwiIT09ZC50cmlnZ2VyKXt2YXIgYz1kJiZkLnN0ZXBzJiZkLnN0ZXBzWzBdLHA9YyYmYy5zdHlsZXM7cCYmKGw9cCl9dmFyIGY9c2l6ZU5hbWVzLnNsaWNlKCkucmV2ZXJzZSgpLG09e307aWYoZSlmb3IodmFyIGg9Qm9vbGVhbihudWxsPT09KGk9bnVsbD09PShuPW51bGw9PT0odD10aGlzLnByaXZhdGVTdGF0ZS5jb250ZXh0LmJ1aWxkZXJDb250ZW50KXx8dm9pZCAwPT09dD92b2lkIDA6dC5tZXRhKXx8dm9pZCAwPT09bj92b2lkIDA6bi5icmVha3BvaW50cyl8fHZvaWQgMD09PWk/dm9pZCAwOmkueHNtYWxsKSx2PTAsZz1mO3Y8Zy5sZW5ndGg7disrKXt2YXIgYj1nW3ZdO2lmKGh8fFwieHNtYWxsXCIhPT1iKWlmKFwibGFyZ2VcIj09PWIpdGhpcy5wcm9wcy5lbWFpbE1vZGV8fChtW1wiJi5idWlsZGVyLWJsb2NrXCJdPU9iamVjdC5hc3NpZ24oe30sZVtiXSxsKSk7ZWxzZXt2YXIgeT1nZXRTaXplc0ZvckJyZWFrcG9pbnRzKChudWxsPT09KG89bnVsbD09PShyPXRoaXMucHJpdmF0ZVN0YXRlLmNvbnRleHQuYnVpbGRlckNvbnRlbnQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm1ldGEpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmJyZWFrcG9pbnRzKXx8e30pO21bXCJAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IFwiLmNvbmNhdCh5W2JdLm1heCxcInB4KVwiKV09e1wiJi5idWlsZGVyLWJsb2NrXCI6ZVtiXX19fXZhciBfPXUuYW5pbWF0aW9ucyYmdS5hbmltYXRpb25zLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVyblwiaG92ZXJcIj09PWUudHJpZ2dlcn0pKTtyZXR1cm4gXyYmKG1bXCI6aG92ZXJcIl09KG51bGw9PT0ocz1udWxsPT09KGE9Xy5zdGVwcyl8fHZvaWQgMD09PWE/dm9pZCAwOmFbMV0pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnN0eWxlcyl8fHt9LG0udHJhbnNpdGlvbj1cImFsbCBcIi5jb25jYXQoXy5kdXJhdGlvbixcInMgXCIpLmNvbmNhdChjYW1lbENhc2VUb0tlYmFiQ2FzZShfLmVhc2luZykpLF8uZGVsYXkmJihtLnRyYW5zaXRpb25EZWxheT1fLmRlbGF5K1wic1wiKSksbX0sQnVpbGRlckJsb2NrLnByb3RvdHlwZS5ldmFsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN0cmluZ1RvRnVuY3Rpb24oZSkodGhpcy5wcml2YXRlU3RhdGUuc3RhdGUsdm9pZCAwLHRoaXMuYmxvY2ssYnVpbGRlcixEZXZpY2UsdGhpcy5wcml2YXRlU3RhdGUudXBkYXRlLEJ1aWxkZXIsdGhpcy5wcml2YXRlU3RhdGUuY29udGV4dCl9LEJ1aWxkZXJCbG9jay5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXtCdWlsZGVyLmlzRWRpdGluZyYmcmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLm9uV2luZG93TWVzc2FnZSl9LEJ1aWxkZXJCbG9jay5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXM7dGhpcy5oeWRyYXRlZD0hMDt2YXIgbj10aGlzLmJsb2NrLGk9biYmbi5hbmltYXRpb25zO2lmKEJ1aWxkZXIuaXNFZGl0aW5nJiZhZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMub25XaW5kb3dNZXNzYWdlKSxpKXt2YXIgcj17YW5pbWF0aW9uczpmYXN0Q2xvbmUoaSl9O2lmKG4uYmluZGluZ3MpZm9yKHZhciBvIGluIG4uYmluZGluZ3MpaWYoKG51bGw9PT0oZT1vLnRyaW0pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNhbGwobykpJiZvLnN0YXJ0c1dpdGgoXCJhbmltYXRpb25zLlwiKSl7dmFyIGE9dGhpcy5zdHJpbmdUb0Z1bmN0aW9uKG4uYmluZGluZ3Nbb10pO3ZvaWQgMCE9PWEmJnNldChyLG8sYSh0aGlzLnByaXZhdGVTdGF0ZS5zdGF0ZSxudWxsLG4sYnVpbGRlcixudWxsLG51bGwsQnVpbGRlcix0aGlzLnByaXZhdGVTdGF0ZS5jb250ZXh0KSl9QnVpbGRlci5hbmltYXRvci5iaW5kQW5pbWF0aW9ucyhyLmFuaW1hdGlvbnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cImhvdmVyXCIhPT1lLnRyaWdnZXJ9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sZSkse2VsZW1lbnRJZDp0LmJsb2NrLmlkfSl9KSkpfX0sQnVpbGRlckJsb2NrLnByb3RvdHlwZS5nZXRFbGVtZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLG8sYSxzLGw9dGhpczt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT10JiYodD10aGlzLnByaXZhdGVTdGF0ZS5zdGF0ZSk7dmFyIHU9dGhpcy5wcm9wczt1LmNoaWxkLHUuZmllbGROYW1lO3ZhciBkLGM9dGhpcy5ibG9jayxwPShjLnRhZ05hbWV8fFwiZGl2XCIpLnRvTG93ZXJDYXNlKCk7aWYoXCJ0ZW1wbGF0ZVwiPT09cCl7dmFyIGY9Yy5jaGlsZHJlbj9jLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGJsb2NrVG9IdG1sU3RyaW5nKGUpfSkpLmpvaW4oXCIgXCIpOlwiXCI7cmV0dXJuIGNvbnNvbGUuZGVidWcoXCJ0ZW1wbGF0ZSBodG1sXCIsZiksanN4KFwidGVtcGxhdGVcIixfX2Fzc2lnbih7fSxjLnByb3BlcnRpZXMse2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MOntfX2h0bWw6Zn19KSl9dmFyIG09Yy5jb21wb25lbnQmJihjLmNvbXBvbmVudC5uYW1lfHxjLmNvbXBvbmVudC5jb21wb25lbnQpLGg9bnVsbDtjLmNvbXBvbmVudCYmIWMuY29tcG9uZW50LmNsYXNzJiYoYy5jb21wb25lbnQmJmMuY29tcG9uZW50LnRhZz9kPWMuY29tcG9uZW50LnRhZzooaD1CdWlsZGVyLmNvbXBvbmVudHMuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZT09PW19KSl8fG51bGwpJiZoLmNsYXNzP2Q9aC5jbGFzczpoJiZoLnRhZz9kPWgudGFnOihudWxsPT1tP3ZvaWQgMDptLnN0YXJ0c1dpdGgoXCJCdWlsZGVyOlwiKSk/Y29uc29sZS53YXJuKFwiTWlzc2luZyBAYnVpbGRlci5pby93aWRnZXRzIGluc3RhbGxhdGlvbiwgcGxlYXNlIGluc3RhbGwgYW5kIGltcG9ydCBAYnVpbGRlci5pby93aWRnZXRzIHRvIHVzZSBcIi5jb25jYXQobS5zcGxpdChcIjpcIilbMV0sXCIgaW4geW91ciBjb250ZW50LCBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL0J1aWxkZXJJTy9idWlsZGVyL3RyZWUvbWFpbi9wYWNrYWdlcy93aWRnZXRzXCIpKTptJiZjb25zb2xlLndhcm4oXCJNaXNzaW5nIHJlZ2lzdHJhdGlvbiBmb3IgXCIuY29uY2F0KG0sXCIsIGhhdmUgeW91IGluY2x1ZGVkIHRoZSByZWdpc3RyYXRpb24gaW4geW91ciBidW5kbGU/XCIpKSk7dmFyIHY9X19hc3NpZ24oX19hc3NpZ24oe30sYy5wcm9wZXJ0aWVzKSx7c3R5bGU6e30scmVzcG9uc2l2ZVN0eWxlczpmYXN0Q2xvbmUoYy5yZXNwb25zaXZlU3R5bGVzfHx7fSl9KTtpZih2PV9fYXNzaWduKF9fYXNzaWduKHt9LHYucHJvcGVydGllcyksdiksYy5jb21wb25lbnQmJih2LmNvbXBvbmVudD1kZWVwQ2xvbmVXaXRoQ29uZGl0aW9ucyhjLmNvbXBvbmVudCkpLGMuYmluZGluZ3MpZm9yKHZhciBnIGluIGMuYmluZGluZ3MpaWYobnVsbD09PShpPWcudHJpbSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbChnKSl7dmFyIGI9dGhpcy5zdHJpbmdUb0Z1bmN0aW9uKGMuYmluZGluZ3NbZ10pO3NldCh2LGcsYih0LG51bGwsYyxhcGkoKSxEZXZpY2UsbnVsbCxCdWlsZGVyLHRoaXMucHJpdmF0ZVN0YXRlLmNvbnRleHQpKX1pZih2LmhpZGUpcmV0dXJuIG51bGw7aWYoZGVsZXRlIHYuaGlkZSwoXCJzaG93XCJpbiB2fHxjLmJpbmRpbmdzJiZjLmJpbmRpbmdzLnNob3cpJiYhdi5zaG93KXJldHVybiBudWxsO2lmKGRlbGV0ZSB2LnNob3csYy5hY3Rpb25zKXt2YXIgeT1mdW5jdGlvbihlKXtpZighKG51bGw9PT0ocj1lLnRyaW0pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmNhbGwoZSkpKXJldHVyblwiY29udGludWVcIjt2YXIgbj1jLmFjdGlvbnNbZV07dltcIm9uXCIrY2FwaXRhbGl6ZShlKV09ZnVuY3Rpb24oZSl7dmFyIGk9dDtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJveHkmJihpPW5ldyBQcm94eSh0LHtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW4sbC5wcml2YXRlU3RhdGUucm9vdFN0YXRlW3RdPW4sITB9fSkpLGwuc3RyaW5nVG9GdW5jdGlvbihuLCExKShpLGUsbC5ibG9jayxidWlsZGVyLERldmljZSxsLnByaXZhdGVTdGF0ZS51cGRhdGUsQnVpbGRlcixsLnByaXZhdGVTdGF0ZS5jb250ZXh0KX19O2Zvcih2YXIgZyBpbiBjLmFjdGlvbnMpeShnKX12YXIgXz0odi5jb21wb25lbnR8fHYub3B0aW9ucykmJl9fYXNzaWduKF9fYXNzaWduKHt9LHYub3B0aW9ucyksdi5jb21wb25lbnQub3B0aW9uc3x8di5jb21wb25lbnQuZGF0YSk7Y29udGFpbnNMb2NhbGl6ZWRWYWx1ZXMoXykmJih0aGlzLnByaXZhdGVTdGF0ZS5zdGF0ZS5sb2NhbGV8fGNvbnNvbGUud2FybihcIltCdWlsZGVyLmlvXSBJbiBvcmRlciB0byB1c2UgbG9jYWxpemVkIGZpZWxkcyBpbiBCdWlsZGVyLCB5b3UgbXVzdCBwYXNzIGEgbG9jYWxlIHByb3AgdG8gdGhlIEJ1aWxkZXJDb21wb25lbnQgb3IgdG8gb3B0aW9ucyBvYmplY3Qgd2hpbGUgZmV0Y2hpbmcgdGhlIGNvbnRlbnQgdG8gcmVzb2x2ZSBsb2NhbGl6ZWQgZmllbGRzLiBMZWFybiBtb3JlOiBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9sb2NhbGl6YXRpb24taW5saW5lI3RhcmdldGluZy1hbmQtaW5saW5lLWxvY2FsaXphdGlvblwiKSxfPWV4dHJhY3RMb2NhbGl6ZWRWYWx1ZXMoXyxudWxsIT09KG89dGhpcy5wcml2YXRlU3RhdGUuc3RhdGUubG9jYWxlKSYmdm9pZCAwIT09bz9vOlwiRGVmYXVsdFwiKSk7dmFyIHg9dm9pZEVsZW1lbnRzLmhhcyhwKSxTPWgmJihoLmZyYWdtZW50fHxoLm5vV3JhcCksaz0obnVsbD09PShhPXYuYXR0cil8fHZvaWQgMD09PWE/dm9pZCAwOmEuc3R5bGUpfHwoXCJzdHJpbmdcIj09dHlwZW9mIHYuc3R5bGU/di5zdHlsZTpcIlwiKXx8XCJcIjtpZihcInN0cmluZ1wiPT10eXBlb2Ygayl7XCJvYmplY3RcIiE9dHlwZW9mIHYuc3R5bGUmJih2LnN0eWxlPXt9KTtmb3IodmFyIEI9MCx3PWsuc3BsaXQoXCI7XCIpO0I8dy5sZW5ndGg7QisrKXt2YXIgQz13W0JdLnNwbGl0KFwiOlwiKTtpZighQy5sZW5ndGgpcmV0dXJuO2c9Q1swXSxiPUNbMV07ZyYmKEMubGVuZ3RoPjImJihiPUMuc2xpY2UoMSkuam9pbihcIjpcIikpLHYuc3R5bGVba2ViYWJDYXNlVG9DYW1lbENhc2UoZyldPWIpfX12YXIgRT1fX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbih7fSxvbWl0JDEodixbXCJjbGFzc1wiLFwiY29tcG9uZW50XCIsXCJhdHRyXCIsXCJyZXNwb25zaXZlU3R5bGVzXCJdKSksKChuPXt9KVtcInN0cmluZ1wiIT10eXBlb2YgcHx8cC5pbmNsdWRlcyhcIi1cIik/XCJjbGFzc1wiOlwiY2xhc3NOYW1lXCJdPVwiYnVpbGRlci1ibG9jayBcIi5jb25jYXQodGhpcy5pZCkuY29uY2F0KGMuY2xhc3M/XCIgXCIuY29uY2F0KGMuY2xhc3MpOlwiXCIpLmNvbmNhdCghYy5jb21wb25lbnR8fFtcIkltYWdlXCIsXCJWaWRlb1wiLFwiQmFubmVyXCJdLmluZGV4T2YobSk+LTE/XCJcIjpcIiBidWlsZGVyLWhhcy1jb21wb25lbnRcIikrKHYuY2xhc3M/XCIgXCIrdi5jbGFzczpcIlwiKSsodGhpcy5oeWRyYXRlZCYmQnVpbGRlci5pc0VkaXRpbmcmJihudWxsPT09KHM9dGhpcy5wcml2YXRlU3RhdGUuc3RhdGUuX3NwYWNlcil8fHZvaWQgMD09PXM/dm9pZCAwOnMucGFyZW50KT09PWMuaWQ/XCIgYnVpbGRlci1zcGFjZXItcGFyZW50XCI6XCJcIiksbi5rZXk9dGhpcy5pZCtlLG5bXCJidWlsZGVyLWlkXCJdPXRoaXMuaWQsbikpLDAhPT1lJiZ7XCJidWlsZGVyLWluZGV4XCI6ZX0pO0J1aWxkZXIuaXNFZGl0aW5nJiZ0aGlzLmh5ZHJhdGVkJiYoRVtcImJ1aWxkZXItaW5saW5lLXN0eWxlc1wiXT12LmF0dHImJnYuYXR0ci5zdHlsZT9PYmplY3Qua2V5cyh2LnN0eWxlKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuKGU/XCJcIi5jb25jYXQoZSxcIjtcIik6XCJcIikrXCJcIi5jb25jYXQoY3NzQ2FzZSh0KSxcIjpcIikuY29uY2F0KHYuc3R5bGVbdF0sXCI7XCIpfSksXCJcIik6XCJcIiksKEUucHJvcGVydGllcyYmRS5wcm9wZXJ0aWVzLmhyZWZ8fEUuaHJlZikmJlwiZGl2XCI9PT1wJiYocD1cImFcIiksXCJhXCI9PT1wJiYocD1MaW5rKTt2YXIgUj1jLmNoaWxkcmVufHxFLmNoaWxkcmVufHxbXTtyZXR1cm4ganN4KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LG51bGwsanN4KENsYXNzTmFtZXMsbnVsbCwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jc3M7aWYoZS5jeCwhbC5wcm9wcy5lbWFpbE1vZGUpe3ZhciBuPVwiIFwiK3QobC5lbW90aW9uQ3NzKHYucmVzcG9uc2l2ZVN0eWxlcykpO0UuY2xhc3MmJihFLmNsYXNzKz1uKSxFLmNsYXNzTmFtZSYmKEUuY2xhc3NOYW1lKz1uKX1yZXR1cm4ganN4KEJ1aWxkZXJBc3luY1JlcXVlc3RzQ29udGV4dC5Db25zdW1lcixudWxsLChmdW5jdGlvbihlKXtyZXR1cm4gbC5fYXN5bmNSZXF1ZXN0cz1lJiZlLnJlcXVlc3RzLGwuX2Vycm9ycz1lJiZlLmVycm9ycyxsLl9sb2dzPWUmJmUubG9ncyx4P2pzeChwLF9fYXNzaWduKHt9LEUpKTpkJiYoU3x8bC5wcm9wcy5lbWFpbE1vZGUpP2pzeChkLF9fYXNzaWduKHt9LF8se2F0dHJpYnV0ZXM6RSxidWlsZGVyQmxvY2s6YyxidWlsZGVyU3RhdGU6bC5wcml2YXRlU3RhdGV9KSk6anN4KHAsX19hc3NpZ24oe30sRSksZCYmanN4KGQsX19hc3NpZ24oe2J1aWxkZXJTdGF0ZTpsLnByaXZhdGVTdGF0ZSxidWlsZGVyQmxvY2s6Y30sXykpLGMudGV4dHx8di50ZXh0P3YudGV4dDohZCYmUiYmQXJyYXkuaXNBcnJheShSKSYmUi5sZW5ndGg/Ui5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGpzeChCdWlsZGVyQmxvY2sse2tleToobC5pZHx8XCJcIikrdCxibG9jazplLGluZGV4OnQsc2l6ZTpsLnByb3BzLnNpemUsZmllbGROYW1lOmwucHJvcHMuZmllbGROYW1lLGNoaWxkOmwucHJvcHMuY2hpbGQsZW1haWxNb2RlOmwucHJvcHMuZW1haWxNb2RlfSl9KSk6bnVsbCl9KSl9KSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVpbGRlckJsb2NrLnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuYmxvY2s7cmV0dXJuIGUuaWQmJiFlLmlkLnN0YXJ0c1dpdGgoXCJidWlsZGVyXCIpP1wiYnVpbGRlci1cIitlLmlkOmUuaWR8fFwiXCJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksQnVpbGRlckJsb2NrLnByb3RvdHlwZS5jb250ZW50cz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy5ibG9jaztpZih0aGlzLnByaXZhdGVTdGF0ZT1lLG4ucmVwZWF0JiZuLnJlcGVhdC5jb2xsZWN0aW9uKXt2YXIgaT1uLnJlcGVhdC5jb2xsZWN0aW9uLHI9bGFzdCgoaXx8XCJcIikudHJpbSgpLnNwbGl0KFwiKFwiKVswXS50cmltKCkuc3BsaXQoXCIuXCIpKSxvPW4ucmVwZWF0Lml0ZW1OYW1lfHwocj9yK1wiSXRlbVwiOlwiaXRlbVwiKSxhPXRoaXMuc3RyaW5nVG9GdW5jdGlvbihpKShlLnN0YXRlLG51bGwsbixhcGkoKSxEZXZpY2UsbnVsbCxCdWlsZGVyLHRoaXMucHJpdmF0ZVN0YXRlLmNvbnRleHQpO3JldHVybiBBcnJheS5pc0FycmF5KGEpP2EubWFwKChmdW5jdGlvbihuLGkpe3ZhciByLGE9X19hc3NpZ24oX19hc3NpZ24oe30sZS5zdGF0ZSksKChyPXskaW5kZXg6aSwkaXRlbTpufSlbb109bixyW1wiJFwiLmNvbmNhdChvLFwiSW5kZXhcIildPWkscikpO3JldHVybiBqc3goQnVpbGRlclN0b3JlQ29udGV4dC5Qcm92aWRlcix7a2V5OmksdmFsdWU6X19hc3NpZ24oX19hc3NpZ24oe30sZSkse3N0YXRlOmF9KX0sdC5nZXRFbGVtZW50KGksYSkpfSkpOm51bGx9cmV0dXJuIHRoaXMuZ2V0RWxlbWVudCgpfSxCdWlsZGVyQmxvY2sucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuc3RhdGUuaGFzRXJyb3I/anN4KFwic3BhblwiLHtjc3M6e2Rpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIixwYWRkaW5nOjUsY29sb3I6XCIjOTk5XCIsZm9udFNpemU6MTEsZm9udFN0eWxlOlwiaXRhbGljXCJ9fSxcIkJ1aWxkZXIgYmxvY2sgZXJyb3IgOiggQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlsc1wiKTpqc3goQnVpbGRlclN0b3JlQ29udGV4dC5Db25zdW1lcixudWxsLChmdW5jdGlvbih0KXtyZXR1cm4gZS5jb250ZW50cyh0KX0pKX0sQnVpbGRlckJsb2NrfShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLEJ1aWxkZXJCbG9ja3M9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5oeWRyYXRlZD0hMSx0Lm9uQ2xpY2tFbXB0eUJsb2Nrcz1mdW5jdGlvbigpe3ZhciBlO0J1aWxkZXIuaXNJZnJhbWUmJnQubm9CbG9ja3MmJihudWxsPT09KGU9d2luZG93LnBhcmVudCl8fHZvaWQgMD09PWV8fGUucG9zdE1lc3NhZ2Uoe3R5cGU6XCJidWlsZGVyLmNsaWNrRW1wdHlCbG9ja3NcIixkYXRhOntwYXJlbnRFbGVtZW50SWQ6dC5wYXJlbnRJZCxkYXRhUGF0aDp0LnBhdGh9fSxcIipcIikpfSx0Lm9uSG92ZXJFbXB0eUJsb2Nrcz1mdW5jdGlvbigpe3ZhciBlO0J1aWxkZXIuaXNFZGl0aW5nJiZ0Lm5vQmxvY2tzJiYobnVsbD09PShlPXdpbmRvdy5wYXJlbnQpfHx2b2lkIDA9PT1lfHxlLnBvc3RNZXNzYWdlKHt0eXBlOlwiYnVpbGRlci5ob3ZlckVtcHR5QmxvY2tzXCIsZGF0YTp7cGFyZW50RWxlbWVudElkOnQucGFyZW50SWQsZGF0YVBhdGg6dC5wYXRofX0sXCIqXCIpKX0sdH1yZXR1cm4gX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaXNSb290XCIse2dldDpmdW5jdGlvbigpe3JldHVybiF0aGlzLnByb3BzLmNoaWxkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5vQmxvY2tzXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMuYmxvY2tzO3JldHVybiEoZSYmZS5sZW5ndGgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBhdGhcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcy5kYXRhUGF0aHx8XCJcIjtyZXR1cm4gZS50cmltKCkmJihlLnN0YXJ0c1dpdGgoXCJ0aGlzLlwiKT9lPWUucmVwbGFjZShcInRoaXMuXCIsXCJcIik6ZS5zdGFydHNXaXRoKFwiY29tcG9uZW50Lm9wdGlvbnMuXCIpfHwoZT1cImNvbXBvbmVudC5vcHRpb25zLlwiK2UpKSxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBhcmVudElkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLnBhcmVudEVsZW1lbnRJZD90aGlzLnByb3BzLnBhcmVudEVsZW1lbnRJZDp0aGlzLnByb3BzLnBhcmVudCYmdGhpcy5wcm9wcy5wYXJlbnQuaWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt0aGlzLmh5ZHJhdGVkPSEwfSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5wcm9wcy5ibG9ja3Msbj10aGlzLnByb3BzLmVtYWlsTW9kZT9cInNwYW5cIjpcImRpdlwiO3JldHVybiBqc3gobixfX2Fzc2lnbih7Y2xhc3NOYW1lOlwiYnVpbGRlci1ibG9ja3NcIisodGhpcy5ub0Jsb2Nrcz9cIiBuby1ibG9ja3NcIjpcIlwiKSsodGhpcy5wcm9wcy5jaGlsZD9cIiBidWlsZGVyLWJsb2Nrcy1jaGlsZFwiOlwiXCIpKyh0aGlzLnByb3BzLmNsYXNzTmFtZT9cIiBcIit0aGlzLnByb3BzLmNsYXNzTmFtZTpcIlwiKSxcImJ1aWxkZXItdHlwZVwiOlwiYmxvY2tzXCIsXCJidWlsZGVyLXBhdGhcIjpCdWlsZGVyLmlzSWZyYW1lJiZ0aGlzLmh5ZHJhdGVkP3RoaXMucGF0aDp2b2lkIDAsXCJidWlsZGVyLXBhcmVudC1pZFwiOnRoaXMucGFyZW50SWQsY3NzOl9fYXNzaWduKF9fYXNzaWduKHt9LCF0aGlzLnByb3BzLmVtYWlsTW9kZSYme2Rpc3BsYXk6XCJmbGV4XCIsZmxleERpcmVjdGlvbjpcImNvbHVtblwiLGFsaWduSXRlbXM6XCJzdHJldGNoXCJ9KSx0aGlzLnByb3BzLnN0eWxlKSxvbkNsaWNrOmZ1bmN0aW9uKCl7ZS5ub0Jsb2NrcyYmZS5vbkNsaWNrRW1wdHlCbG9ja3MoKX19LEJ1aWxkZXIuaXNFZGl0aW5nJiZ7b25Nb3VzZUVudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGUub25Ib3ZlckVtcHR5QmxvY2tzKCl9fSksdCYmQXJyYXkuaXNBcnJheSh0KSYmdC5tYXAoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQmJlwiQGJ1aWxkZXIuaW8vc2RrOkVsZW1lbnRcIj09PXRbXCJAdHlwZVwiXT9qc3goQnVpbGRlckJsb2NrJDEse2tleTp0LmlkLGJsb2NrOnQsaW5kZXg6bixmaWVsZE5hbWU6ZS5wcm9wcy5maWVsZE5hbWUsY2hpbGQ6ZS5wcm9wcy5jaGlsZCxlbWFpbE1vZGU6ZS5wcm9wcy5lbWFpbE1vZGV9KTp0fSkpfHx0KX0sdC5yZW5kZXJJbnRvPWZ1bmN0aW9uKGUsbixpKXtpZih2b2lkIDA9PT1uJiYobj17fSksZSl7dmFyIHI9bnVsbDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9yPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSk6ZSBpbnN0YW5jZW9mIEVsZW1lbnQmJihyPWUpLFJlYWN0RE9NLnJlbmRlcihqc3goQnVpbGRlclN0b3JlQ29udGV4dC5Qcm92aWRlcix7dmFsdWU6aX0sanN4KHQsX19hc3NpZ24oe30sbikpKSxyKX19LHR9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksTm9XcmFwPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNoaWxkcmVufTtmdW5jdGlvbiBnZXREYXRhKGUpe2lmKHZvaWQgMCE9PShudWxsPT1lP3ZvaWQgMDplLmRhdGEpKXt2YXIgdD1lLmRhdGEsbj10LmJsb2NrcyxpPXQuYmxvY2tzU3RyaW5nLHI9QXJyYXkuaXNBcnJheShuKXx8XCJzdHJpbmdcIj09dHlwZW9mIGksbz1fX2Fzc2lnbihfX2Fzc2lnbih7fSxlLmRhdGEpLHImJntibG9ja3M6bnx8SlNPTi5wYXJzZShpKX0pO3JldHVybiBkZWxldGUgby5ibG9ja3NTdHJpbmcsb319dmFyIHZhcmlhbnRzU2NyaXB0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJcXG4oZnVuY3Rpb24oKSB7XFxuICBpZiAod2luZG93LmJ1aWxkZXJOb1RyYWNrIHx8ICFuYXZpZ2F0b3IuY29va2llRW5hYmxlZCkge1xcbiAgICByZXR1cm47XFxuICB9XFxuXFxuICB2YXIgdmFyaWFudHMgPSBcIi5jb25jYXQoZSxcIjtcXG4gIGZ1bmN0aW9uIHJlbW92ZVZhcmlhbnRzKCkge1xcbiAgICB2YXJpYW50cy5mb3JFYWNoKGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlW2RhdGEtdGVtcGxhdGUtdmFyaWFudC1pZD1cXFwiJyArIHRlbXBsYXRlLmlkICsgJ1xcXCJdJykucmVtb3ZlKCk7XFxuICAgIH0pO1xcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFyaWFudHMtc2NyaXB0LVwiKS5jb25jYXQodCwnXFwnKS5yZW1vdmUoKTtcXG4gIH1cXG5cXG4gIGlmICh0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpLmNvbnRlbnQgPT09IFxcJ3VuZGVmaW5lZFxcJykge1xcbiAgICByZW1vdmVWYXJpYW50cygpO1xcbiAgICByZXR1cm4gO1xcbiAgfVxcblxcbiAgZnVuY3Rpb24gc2V0Q29va2llKG5hbWUsdmFsdWUsZGF5cykge1xcbiAgICB2YXIgZXhwaXJlcyA9IFwiXCI7XFxuICAgIGlmIChkYXlzKSB7XFxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XFxuICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyAoZGF5cyoyNCo2MCo2MCoxMDAwKSk7XFxuICAgICAgICBleHBpcmVzID0gXCI7IGV4cGlyZXM9XCIgKyBkYXRlLnRvVVRDU3RyaW5nKCk7XFxuICAgIH1cXG4gICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPVwiICsgKHZhbHVlIHx8IFwiXCIpICArIGV4cGlyZXMgKyBcIjsgcGF0aD0vXCIgKyBcIjsgU2VjdXJlOyBTYW1lU2l0ZT1Ob25lXCI7XFxuICB9XFxuXFxuICBmdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xcbiAgICB2YXIgbmFtZUVRID0gbmFtZSArIFwiPVwiO1xcbiAgICB2YXIgY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoXFwnO1xcJyk7XFxuICAgIGZvcih2YXIgaT0wO2kgPCBjYS5sZW5ndGg7aSsrKSB7XFxuICAgICAgICB2YXIgYyA9IGNhW2ldO1xcbiAgICAgICAgd2hpbGUgKGMuY2hhckF0KDApPT1cXCcgXFwnKSBjID0gYy5zdWJzdHJpbmcoMSxjLmxlbmd0aCk7XFxuICAgICAgICBpZiAoYy5pbmRleE9mKG5hbWVFUSkgPT0gMCkgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWVFUS5sZW5ndGgsYy5sZW5ndGgpO1xcbiAgICB9XFxuICAgIHJldHVybiBudWxsO1xcbiAgfVxcbiAgdmFyIGNvb2tpZU5hbWUgPSBcXCdidWlsZGVyLnRlc3RzLicpLmNvbmNhdCh0LFwiJztcXG4gIHZhciB2YXJpYW50SW5Db29raWUgPSBnZXRDb29raWUoY29va2llTmFtZSk7XFxuICB2YXIgYXZhaWxhYmxlSURzID0gdmFyaWFudHMubWFwKGZ1bmN0aW9uKHZyKSB7IHJldHVybiB2ci5pZCB9KS5jb25jYXQoJ1wiKS5jb25jYXQodCxcIicpO1xcbiAgdmFyIHZhcmlhbnRJZDtcXG4gIGlmIChhdmFpbGFibGVJRHMuaW5kZXhPZih2YXJpYW50SW5Db29raWUpID4gLTEpIHtcXG4gICAgdmFyaWFudElkID0gdmFyaWFudEluQ29va2llO1xcbiAgfVxcbiAgaWYgKCF2YXJpYW50SWQpIHtcXG4gICAgdmFyIG4gPSAwO1xcbiAgICB2YXIgcmFuZG9tID0gTWF0aC5yYW5kb20oKTtcXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJpYW50cy5sZW5ndGg7IGkrKykge1xcbiAgICAgIHZhciB2YXJpYW50ID0gdmFyaWFudHNbaV07XFxuICAgICAgdmFyIHRlc3RSYXRpbyA9IHZhcmlhbnQudGVzdFJhdGlvO1xcbiAgICAgIG4gKz0gdGVzdFJhdGlvO1xcbiAgICAgIGlmIChyYW5kb20gPCBuKSB7XFxuICAgICAgICBzZXRDb29raWUoY29va2llTmFtZSwgdmFyaWFudC5pZCk7XFxuICAgICAgICB2YXJpYW50SWQgPSB2YXJpYW50LmlkO1xcbiAgICAgICAgYnJlYWs7XFxuICAgICAgfVxcbiAgICB9XFxuICAgIGlmICghdmFyaWFudElkKSB7XFxuICAgICAgdmFyaWFudElkID0gXFxcIlwiKS5jb25jYXQodCwnXCI7XFxuICAgICAgc2V0Q29va2llKGNvb2tpZU5hbWUsIFwiJykuY29uY2F0KHQsJ1wiKTtcXG4gICAgfVxcbiAgfVxcbiAgaWYgKHZhcmlhbnRJZCAmJiB2YXJpYW50SWQgIT09IFwiJykuY29uY2F0KHQsXCJcXFwiKSB7XFxuICAgIHZhciB3aW5uaW5nVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZVtkYXRhLXRlbXBsYXRlLXZhcmlhbnQtaWQ9XFxcIicgKyB2YXJpYW50SWQgKyAnXFxcIl0nKTtcXG4gICAgaWYgKHdpbm5pbmdUZW1wbGF0ZSkge1xcbiAgICAgIHZhciBwYXJlbnROb2RlID0gd2lubmluZ1RlbXBsYXRlLnBhcmVudE5vZGU7XFxuICAgICAgdmFyIG5ld1BhcmVudCA9IHBhcmVudE5vZGUuY2xvbmVOb2RlKGZhbHNlKTtcXG4gICAgICBuZXdQYXJlbnQuYXBwZW5kQ2hpbGQod2lubmluZ1RlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZCk7XFxuICAgICAgcGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdQYXJlbnQsIHBhcmVudE5vZGUpO1xcbiAgICB9XFxuICB9IGVsc2UgaWYgKHZhcmlhbnRzLmxlbmd0aCA+IDApIHtcXG4gICAgcmVtb3ZlVmFyaWFudHMoKTtcXG4gIH1cXG59KSgpXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIil9LFZhcmlhbnRzUHJvdmlkZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbml0aWFsQ29udGVudCxuPWUuY2hpbGRyZW4saT1lLm5vbmNlO2lmKEJ1aWxkZXIuaXNCcm93c2VyJiYhYnVpbGRlci5jYW5UcmFjaylyZXR1cm4gbihbdF0pO2lmKCFCb29sZWFuKE9iamVjdC5rZXlzKChudWxsPT10P3ZvaWQgMDp0LnZhcmlhdGlvbnMpfHx7fSkubGVuZ3RoKSlyZXR1cm4gbihbdF0pO3ZhciByPU9iamVjdC5rZXlzKHQudmFyaWF0aW9ucykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe2lkOmV9LHQudmFyaWF0aW9uc1tlXSkse2RhdGE6Z2V0RGF0YSh0LnZhcmlhdGlvbnNbZV0pfSl9KSksbz1fX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sciwhMCksW3RdLCExKTtpZihCdWlsZGVyLmlzU2VydmVyKXt2YXIgYT1KU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyh0LnZhcmlhdGlvbnN8fHt9KS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntpZDplLHRlc3RSYXRpbzp0LnZhcmlhdGlvbnNbZV0udGVzdFJhdGlvfX0pKSk7cmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsbnVsbCxuKG8sKGZ1bmN0aW9uKCl7cmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIix7bm9uY2U6aSxpZDpcInZhcmlhbnRzLXNjcmlwdC1cIi5jb25jYXQodC5pZCksZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6e19faHRtbDp2YXJpYW50c1NjcmlwdChhLHQuaWQpfX0pfSkpKX12YXIgcz1cImJ1aWxkZXIudGVzdHMuXCIuY29uY2F0KHQuaWQpLGw9YnVpbGRlci5nZXRDb29raWUocyk7aWYoIWwmJkJ1aWxkZXIuaXNCcm93c2VyKWZvcih2YXIgdT0wLGQ9TWF0aC5yYW5kb20oKSxjPTA7YzxyLmxlbmd0aDtjKyspe3ZhciBwPXJbY107aWYoZDwodSs9cC50ZXN0UmF0aW8pKXtidWlsZGVyLnNldENvb2tpZShzLHAuaWQpLGw9cC5pZDticmVha319cmV0dXJuIGx8fChsPXQuaWQsYnVpbGRlci5zZXRDb29raWUocyxsKSksbihbby5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PWx9KSldKX0sQnVpbGRlckNvbnRlbnQ9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBCdWlsZGVyQ29udGVudCgpe3ZhciBfdGhpcz1udWxsIT09X3N1cGVyJiZfc3VwZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBfdGhpcy5yZWY9bnVsbCxfdGhpcy5zdGF0ZT17bG9hZGluZzohX3RoaXMucHJvcHMuY29udGVudCxkYXRhOmdldENvbnRlbnRXaXRoSW5mbyhfdGhpcy5wcm9wcy5jb250ZW50KSx1cGRhdGVzOjF9LF90aGlzLm9uV2luZG93TWVzc2FnZT1mdW5jdGlvbihldmVudCl7dmFyIF9hLF9iLGlzVHJ1c3RlZD1CdWlsZGVyLmlzVHJ1c3RlZEhvc3RGb3JFdmVudChldmVudCk7aWYoaXNUcnVzdGVkKXt2YXIgbWVzc2FnZT1ldmVudC5kYXRhO2lmKG1lc3NhZ2Upc3dpdGNoKG1lc3NhZ2UudHlwZSl7Y2FzZVwiYnVpbGRlci5wYXRjaFVwZGF0ZXNcIjppZihudWxsPT09KF9hPV90aGlzLnByb3BzLm9wdGlvbnMpfHx2b2lkIDA9PT1fYT92b2lkIDA6X2Eubm9FZGl0b3JVcGRhdGVzKXJldHVybjt2YXIgZGF0YT1tZXNzYWdlLmRhdGE7aWYoIWRhdGF8fCFkYXRhLmRhdGEpYnJlYWs7dmFyIHBhdGNoZXM9ZGF0YS5kYXRhW251bGw9PT0oX2I9X3RoaXMuc3RhdGUuZGF0YSl8fHZvaWQgMD09PV9iP3ZvaWQgMDpfYi5pZF07aWYoIXBhdGNoZXN8fCFwYXRjaGVzLmxlbmd0aClyZXR1cm47bG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcImJ1aWxkZXIuZGVidWc9dHJ1ZVwiKSYmZXZhbChcImRlYnVnZ2VyXCIpO2Zvcih2YXIgbmV3RGF0YT1fdGhpcy5zdGF0ZS5kYXRhLF9pPTAscGF0Y2hlc18xPXBhdGNoZXM7X2k8cGF0Y2hlc18xLmxlbmd0aDtfaSsrKXt2YXIgcGF0Y2g9cGF0Y2hlc18xW19pXTtuZXdEYXRhPWFwcGx5UGF0Y2hXaXRoTWluaW1hbE11dGF0aW9uQ2hhaW4obmV3RGF0YSxwYXRjaCwhMSl9X3RoaXMuc2V0U3RhdGUoe3VwZGF0ZXM6X3RoaXMuc3RhdGUudXBkYXRlcysxLGRhdGE6bmV3RGF0YX0pLF90aGlzLnByb3BzLmNvbnRlbnRMb2FkZWQmJl90aGlzLnByb3BzLmNvbnRlbnRMb2FkZWQobmV3RGF0YS5kYXRhLG5ld0RhdGEpfX19LF90aGlzLnN1YnNjcmlwdGlvbnM9bmV3IFN1YnNjcmlwdGlvbixfdGhpcy5maXJzdExvYWQ9ITAsX3RoaXMuY2xpY2tlZD0hMSxfdGhpcy50cmFja2VkSW1wcmVzc2lvbj0hMSxfdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcj1udWxsLF90aGlzLm9uQ2xpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5uYXRpdmVFdmVudCxuPV90aGlzLmRhdGE7biYmKGJ1aWxkZXIuYXV0b1RyYWNrJiZfdGhpcy5idWlsZGVyLnRyYWNrSW50ZXJhY3Rpb24obi5pZCxfdGhpcy5yZW5kZXJlZFZhcmlhbnRJZCxfdGhpcy5jbGlja2VkLHQse2NvbnRlbnQ6bn0pLF90aGlzLmNsaWNrZWR8fChfdGhpcy5jbGlja2VkPSEwKSl9LF90aGlzfXJldHVybiBfX2V4dGVuZHMoQnVpbGRlckNvbnRlbnQsX3N1cGVyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVpbGRlckNvbnRlbnQucHJvdG90eXBlLFwiYnVpbGRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5idWlsZGVyfHxidWlsZGVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWlsZGVyQ29udGVudC5wcm90b3R5cGUsXCJuYW1lXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHM7cmV0dXJuXCJtb2RlbFwiaW4gZT9lLm1vZGVsOmUubW9kZWxOYW1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWlsZGVyQ29udGVudC5wcm90b3R5cGUsXCJyZW5kZXJlZFZhcmlhbnRJZFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0LG49dGhpcy5wcm9wcy5pc1N0YXRpYz90aGlzLmJ1aWxkZXIuZ2V0Q29va2llKFwiYnVpbGRlci50ZXN0cy5cIi5jb25jYXQobnVsbD09PShlPXRoaXMuZGF0YSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuaWQpKTpudWxsPT09KHQ9dGhpcy5kYXRhKXx8dm9pZCAwPT09dD92b2lkIDA6dC52YXJpYXRpb25JZDtpZihudWxsIT09bilyZXR1cm4gbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVpbGRlckNvbnRlbnQucHJvdG90eXBlLFwib3B0aW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0LG49X19hc3NpZ24oe30sdGhpcy5wcm9wcy5vcHRpb25zfHx7fSk7cmV0dXJuIG4ua2V5fHwhKG51bGw9PT0oZT10aGlzLnByb3BzLmNvbnRlbnQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlkKXx8QnVpbGRlci5pc0VkaXRpbmd8fEJ1aWxkZXIuaXNQcmV2aWV3aW5nfHwobi5rZXk9dGhpcy5wcm9wcy5jb250ZW50LmlkKSwhdGhpcy5wcm9wcy5jb250ZW50fHwobnVsbD09PSh0PW4uaW5pdGlhbENvbnRlbnQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmxlbmd0aCl8fCF0aGlzLnByb3BzLmlubGluZSYmQnVpbGRlci5pc1ByZXZpZXdpbmd8fChuLmluaXRpYWxDb250ZW50PVt0aGlzLnByb3BzLmNvbnRlbnRdKSxufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWlsZGVyQ29udGVudC5wcm90b3R5cGUsXCJkYXRhXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPSh0aGlzLnByb3BzLmlubGluZXx8IUJ1aWxkZXIuaXNCcm93c2VyfHx0aGlzLmZpcnN0TG9hZCkmJnRoaXMub3B0aW9ucy5pbml0aWFsQ29udGVudCYmdGhpcy5vcHRpb25zLmluaXRpYWxDb250ZW50WzBdfHx0aGlzLnN0YXRlLmRhdGE7cmV0dXJuIGdldENvbnRlbnRXaXRoSW5mbyhlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxCdWlsZGVyQ29udGVudC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt2YXIgZSx0O2lmKCF0aGlzLnByb3BzLmlubGluZXx8QnVpbGRlci5pc0VkaXRpbmd8fEJ1aWxkZXIuaXNQcmV2aWV3aW5nKXRoaXMuc3Vic2NyaWJlVG9Db250ZW50KCk7ZWxzZSBpZih0aGlzLnByb3BzLmlubGluZSYmKG51bGw9PT0odD1udWxsPT09KGU9dGhpcy5vcHRpb25zKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pbml0aWFsQ29udGVudCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubGVuZ3RoKSl7dmFyIG49dGhpcy5vcHRpb25zLmluaXRpYWxDb250ZW50WzBdOyhudWxsPT1uP3ZvaWQgMDpuLmlkKSYmdGhpcy5idWlsZGVyLnRyYWNrSW1wcmVzc2lvbihuLmlkLHRoaXMucmVuZGVyZWRWYXJpYW50SWQsdm9pZCAwLHtjb250ZW50Om59KX1CdWlsZGVyLmlzRWRpdGluZyYmYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLm9uV2luZG93TWVzc2FnZSl9LEJ1aWxkZXJDb250ZW50LnByb3RvdHlwZS5zdWJzY3JpYmVUb0NvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO1wiX2lubGluZVwiIT09dGhpcy5uYW1lJiZ0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKHRoaXMuYnVpbGRlci5xdWV1ZUdldENvbnRlbnQodGhpcy5uYW1lLHRoaXMub3B0aW9ucykuc3Vic2NyaWJlKChmdW5jdGlvbih0KXt2YXIgbj10JiZ0WzBdO2Uuc2V0U3RhdGUoe2RhdGE6bixsb2FkaW5nOiExfSk7dmFyIGk9KGUuYnVpbGRlci5lZGl0aW5nTW9kZWx8fGUuYnVpbGRlci5wcmV2aWV3aW5nTW9kZWwpPT09ZS5uYW1lO2lmKCFlLnByb3BzLmlubGluZSYmZS5wcm9wcy5jb250ZW50JiZlLmZpcnN0TG9hZCYmaSYmKGUuZmlyc3RMb2FkPSExLGUuc3Vic2NyaXB0aW9ucy51bnN1YnNjcmliZSgpLGUuc3Vic2NyaWJlVG9Db250ZW50KCkpLG4mJmUuZmlyc3RMb2FkJiYoZS5maXJzdExvYWQ9ITEsYnVpbGRlci5hdXRvVHJhY2smJiFCdWlsZGVyLmlzRWRpdGluZykpe3ZhciByPSExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEludGVyc2VjdGlvbk9ic2VydmVyJiZlLnJlZil0cnl7KGUuaW50ZXJzZWN0aW9uT2JzZXJ2ZXI9bmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChmdW5jdGlvbih0LGkpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5pbnRlcnNlY3Rpb25SYXRpbz4wJiYhZS50cmFja2VkSW1wcmVzc2lvbiYmKGUuYnVpbGRlci50cmFja0ltcHJlc3Npb24obi5pZCxlLnJlbmRlcmVkVmFyaWFudElkLHZvaWQgMCx7Y29udGVudDplLmRhdGF9KSxlLmRhdGEsZS50cmFja2VkSW1wcmVzc2lvbj0hMCxlLnJlZiYmaS51bm9ic2VydmUoZS5yZWYpKX0pKX0pKSkub2JzZXJ2ZShlLnJlZikscj0hMH1jYXRjaChlKXtjb25zb2xlLndhcm4oXCJDb3VsZCBub3QgYmluZCBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXJcIil9cnx8KGUudHJhY2tlZEltcHJlc3Npb249ITAsZS5idWlsZGVyLnRyYWNrSW1wcmVzc2lvbihuLmlkLGUucmVuZGVyZWRWYXJpYW50SWQsdm9pZCAwLHtjb250ZW50Om59KSl9ZS5wcm9wcy5jb250ZW50TG9hZGVkJiZlLnByb3BzLmNvbnRlbnRMb2FkZWQobiYmbi5kYXRhLG4pfSksKGZ1bmN0aW9uKHQpe2UucHJvcHMuY29udGVudEVycm9yJiYoZS5wcm9wcy5jb250ZW50RXJyb3IodCksZS5zZXRTdGF0ZSh7bG9hZGluZzohMX0pKX0pKSl9LEJ1aWxkZXJDb250ZW50LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe0J1aWxkZXIuaXNFZGl0aW5nJiZyZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMub25XaW5kb3dNZXNzYWdlKSx0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKSx0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyJiZ0aGlzLnJlZiYmdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci51bm9ic2VydmUodGhpcy5yZWYpfSxCdWlsZGVyQ29udGVudC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLnByb3BzLmRhdGFPbmx5KXJldHVybiBudWxsO3ZhciB0PXRoaXMuc3RhdGUubG9hZGluZyxuPXRoaXMuZGF0YSxpPXRoaXMucHJvcHMuZGF0YU9ubHk/Tm9XcmFwOlwiZGl2XCI7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVmFyaWFudHNQcm92aWRlcix7aW5pdGlhbENvbnRlbnQ6bixub25jZTp0aGlzLnByb3BzLm5vbmNlfSwoZnVuY3Rpb24ocixvKXtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCxudWxsLHIubWFwKChmdW5jdGlvbihhLHMpe3ZhciBsPXM9PT1yLmxlbmd0aC0xP1JlYWN0X19kZWZhdWx0LkZyYWdtZW50OlwidGVtcGxhdGVcIjtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCx7a2V5OlN0cmluZygobnVsbD09YT92b2lkIDA6YS5pZCkrcyl9LFwidGVtcGxhdGVcIiE9PWwmJihudWxsPT1vP3ZvaWQgMDpvKCkpLFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQobCxfX2Fzc2lnbih7a2V5OlN0cmluZygobnVsbD09YT92b2lkIDA6YS5pZCkrcyl9LFwidGVtcGxhdGVcIj09PWwmJntcImRhdGEtdGVtcGxhdGUtdmFyaWFudC1pZFwiOm51bGw9PWE/dm9pZCAwOmEuaWR9KSxSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KGksX19hc3NpZ24oe30sMD09PXMmJiFlLnByb3BzLmRhdGFPbmx5JiZ7cmVmOmZ1bmN0aW9uKHQpe3JldHVybiBlLnJlZj10fX0se2NsYXNzTmFtZTpcImJ1aWxkZXItY29udGVudFwiLG9uQ2xpY2s6ZS5vbkNsaWNrLFwiYnVpbGRlci1jb250ZW50LWlkXCI6bnVsbD09YT92b2lkIDA6YS5pZCxcImJ1aWxkZXItbW9kZWxcIjplLm5hbWV9KSxlLnByb3BzLmNoaWxkcmVuKG51bGw9PWE/dm9pZCAwOmEuZGF0YSwhZS5wcm9wcy5pbmxpbmUmJnQsbikpKSl9KSkpfSkpfSxCdWlsZGVyQ29udGVudH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxnZXRDb250ZW50V2l0aEluZm89ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSl7dmFyIG49YnVpbGRlci5nZXRDb29raWUoXCJidWlsZGVyLnRlc3RzLlwiLmNvbmNhdChlLmlkKSksaT1uPT09ZS5pZD9lOm51bGw9PT0odD1lLnZhcmlhdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0W25dLHI9KG51bGw9PWk/dm9pZCAwOmkubmFtZSl8fCgobnVsbD09aT92b2lkIDA6aS5pZCk9PT1lLmlkP1wiRGVmYXVsdCB2YXJpYXRpb25cIjpcIlwiKTtyZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sZSkse3ZhcmlhdGlvbklkOm4sdGVzdFZhcmlhdGlvbklkOm4sdGVzdFZhcmlhdGlvbk5hbWU6cn0pfXJldHVybiBudWxsfTtmdW5jdGlvbiB1bndyYXBFeHBvcnRzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVmYXVsdFwiKT9lLmRlZmF1bHQ6ZX1mdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShlLHQpe3JldHVybiBlKHQ9e2V4cG9ydHM6e319LHQuZXhwb3J0cyksdC5leHBvcnRzfXZhciBvbkNoYW5nZV8xPWNyZWF0ZUNvbW1vbmpzTW9kdWxlKChmdW5jdGlvbihlLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPVN5bWJvbChcInRhcmdldFwiKSxpPVN5bWJvbChcInVuc3Vic2NyaWJlXCIpLHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmdC50b1N0cmluZyYmKGUmJihlKz1cIi5cIiksZSs9dC50b1N0cmluZygpKSxlfSxvPWZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2Uuc2xpY2UoKTpPYmplY3QuYXNzaWduKHt9LGUpfSxhPWZ1bmN0aW9uKGUsdCxhKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUHJveHkpcmV0dXJuIGU7dm9pZCAwPT09YSYmKGE9e30pO3ZhciBzLGwsdT1TeW1ib2woXCJQcm94eVRhcmdldFwiKSxkPSExLGM9ITEscD0hMSxmPWEuZXF1YWxzfHxPYmplY3QuaXMsbT1uZXcgV2Vha01hcCxoPW5ldyBXZWFrTWFwLHY9bmV3IFdlYWtNYXAsZz1mdW5jdGlvbihlLG4saSxhKXtpZighcClpZihkKXtpZihkJiZsJiZ2b2lkIDAhPT1pJiZ2b2lkIDAhPT1hJiZcImxlbmd0aFwiIT09bil7dmFyIHU9bDtlIT09cyYmZnVuY3Rpb24oZSx0KXtmb3IodmFyIG47ZTspLTE9PT0obj1lLmluZGV4T2YoXCIuXCIpKSYmKG49ZS5sZW5ndGgpLHQoZS5zbGljZSgwLG4pKSxlPWUuc2xpY2UobisxKX0oZT1lLnJlcGxhY2UocyxcIlwiKS5zbGljZSgxKSwoZnVuY3Rpb24oZSl7dVtlXT1vKHVbZV0pLHU9dVtlXX0pKSx1W25dPWl9Yz0hMH1lbHNlIHQocihlLG4pLGEsaSl9LGI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1tP20uZ2V0KGUpOnZvaWQgMDtuJiZuLmRlbGV0ZSh0KX0seT1mdW5jdGlvbihlLHQpe2lmKHApcmV0dXJuIGU7aC5zZXQoZSx0KTt2YXIgbj12LmdldChlKTtyZXR1cm4gdm9pZCAwPT09biYmKG49bmV3IFByb3h5KGUseCksdi5zZXQoZSxuKSksbn0sXz1mdW5jdGlvbihlKXtyZXR1cm4gcHx8ITA9PT1hLmlnbm9yZVN5bWJvbHMmJlwic3ltYm9sXCI9PXR5cGVvZiBlfSx4PXtnZXQ6ZnVuY3Rpb24oZSx0LG8pe2lmKHQ9PT11fHx0PT09bilyZXR1cm4gZTtpZih0PT09aSYmXCJcIj09PWguZ2V0KGUpKXJldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gcD0hMCxtPW51bGwsaD1udWxsLHY9bnVsbCxlfShlKTt2YXIgcz1SZWZsZWN0LmdldChlLHQsbyk7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZX0ocyl8fGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgUmVnRXhwfHxlIGluc3RhbmNlb2YgTnVtYmVyfShzKXx8XCJjb25zdHJ1Y3RvclwiPT09dHx8ITA9PT1hLmlzU2hhbGxvdylyZXR1cm4gczt2YXIgbD1mdW5jdGlvbihlLHQpe3ZhciBuPW0/bS5nZXQoZSk6dm9pZCAwO2lmKG4pcmV0dXJuIG47bj1uZXcgTWFwLG0uc2V0KGUsbik7dmFyIGk9bi5nZXQodCk7cmV0dXJuIGl8fChpPVJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCksbi5zZXQodCxpKSksaX0oZSx0KTtpZihsJiYhbC5jb25maWd1cmFibGUpe2lmKGwuc2V0JiYhbC5nZXQpcmV0dXJuO2lmKCExPT09bC53cml0YWJsZSlyZXR1cm4gc31yZXR1cm4geShzLHIoaC5nZXQoZSksdCkpfSxzZXQ6ZnVuY3Rpb24oZSx0LG4saSl7biYmdm9pZCAwIT09blt1XSYmKG49blt1XSk7dmFyIHI9Xyh0KSxvPXI/bnVsbDpSZWZsZWN0LmdldChlLHQsaSksYT1SZWZsZWN0LnNldChlW3VdfHxlLHQsbik7cmV0dXJuIHJ8fGYobyxuKXx8ZyhoLmdldChlKSx0LG8sbiksYX0sZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPVJlZmxlY3QuZGVmaW5lUHJvcGVydHkoZSx0LG4pO3JldHVybiBfKHQpfHwoYihlLHQpLGcoaC5nZXQoZSksdCx2b2lkIDAsbi52YWx1ZSkpLGl9LGRlbGV0ZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCl7aWYoIVJlZmxlY3QuaGFzKGUsdCkpcmV0dXJuITA7dmFyIG49Xyh0KSxpPW4/bnVsbDpSZWZsZWN0LmdldChlLHQpLHI9UmVmbGVjdC5kZWxldGVQcm9wZXJ0eShlLHQpO3JldHVybiBufHwoYihlLHQpLGcoaC5nZXQoZSksdCxpKSkscn0sYXBwbHk6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXQgaW5zdGFuY2VvZiBEYXRlO2lmKGkmJih0PXRbdV0pLCFkKXtkPSEwLGkmJihsPXQudmFsdWVPZigpKSwoQXJyYXkuaXNBcnJheSh0KXx8XCJbb2JqZWN0IE9iamVjdF1cIj09PXRvU3RyaW5nLmNhbGwodCkpJiYobD1vKHRbdV0pKSxzPShzPWguZ2V0KGUpKS5zbGljZSgwLE1hdGgubWF4KHMubGFzdEluZGV4T2YoXCIuXCIpLDApKTt2YXIgcj1SZWZsZWN0LmFwcGx5KGUsdCxuKTtyZXR1cm4gZD0hMSwoY3x8aSYmIWYobCx0LnZhbHVlT2YoKSkpJiYoZyhzLFwiXCIsbCx0W3VdfHx0KSxsPW51bGwsYz0hMSkscn1yZXR1cm4gUmVmbGVjdC5hcHBseShlLHQsbil9fSxTPXkoZSxcIlwiKTtyZXR1cm4gdD10LmJpbmQoUyksU307YS50YXJnZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbbl18fGV9LGEudW5zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbaV18fGV9LGUuZXhwb3J0cz1hLHQuZGVmYXVsdD1hfSkpLG9uQ2hhbmdlPXVud3JhcEV4cG9ydHMob25DaGFuZ2VfMSksbmV4dFRpY2s9QnVpbGRlci5uZXh0VGljaztmdW5jdGlvbiBkZWJvdW5jZU5leHRUaWNrKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZT9kZWJvdW5jZU5leHRUaWNrSW1wbChlKTp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6bi5lbnVtZXJhYmxlLGdldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyx0LHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTpuLmVudW1lcmFibGUsdmFsdWU6ZGVib3VuY2VOZXh0VGlja0ltcGwobi52YWx1ZSl9KSx0aGlzW3RdfX19ZnVuY3Rpb24gZGVib3VuY2VOZXh0VGlja0ltcGwoZSl7dmFyIHQ9bnVsbCxuPW51bGw7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dDtpZih0PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxuPXRoaXMsbnVsbCE9PWUpcmV0dXJuO25leHRUaWNrKGkpfTtmdW5jdGlvbiBpKCl7ZS5hcHBseShuLHQpLHQ9bnVsbCxuPW51bGx9fWZ1bmN0aW9uIHRocm90dGxlKGUsdCxuKXt2YXIgaSxyLG87dm9pZCAwPT09biYmKG49e30pO3ZhciBhPW51bGwscz0wLGw9ZnVuY3Rpb24oKXtzPSExPT09bi5sZWFkaW5nPzA6RGF0ZS5ub3coKSxhPW51bGwsbz1lLmFwcGx5KGksciksYXx8KGk9cj1udWxsKX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHU9RGF0ZS5ub3coKTtzfHwhMSE9PW4ubGVhZGluZ3x8KHM9dSk7dmFyIGQ9dC0odS1zKTtyZXR1cm4gaT10aGlzLHI9YXJndW1lbnRzLGQ8PTB8fGQ+dD8oYSYmKGNsZWFyVGltZW91dChhKSxhPW51bGwpLHM9dSxvPWUuYXBwbHkoaSxyKSxhfHwoaT1yPW51bGwpKTphfHwhMT09PW4udHJhaWxpbmd8fChhPXNldFRpbWVvdXQobCxkKSksb319dmFyIEJ1aWxkZXJNZXRhQ29udGV4dD1SZWFjdF9fZGVmYXVsdC5jcmVhdGVDb250ZXh0KHtlbWFpbE1vZGU6ITEsYW1wTW9kZTohMSxpc1NlcnZlcjohMX0pLHRyeUV2YWw9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgaT1lO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBpJiZpLnRyaW0oKSl7dmFyIHI9IShpLmluY2x1ZGVzKFwiO1wiKXx8aS5pbmNsdWRlcyhcIiByZXR1cm4gXCIpKSxvPWZ1bmN0aW9uKCl7fTt0cnl7QnVpbGRlci5pc0Jyb3dzZXImJihvPW5ldyBGdW5jdGlvbihcInN0YXRlXCIsXCJ2YXIgcm9vdFN0YXRlID0gc3RhdGU7XFxuICAgICAgICBpZiAodHlwZW9mIFByb3h5ICE9PSAndW5kZWZpbmVkJykge1xcbiAgICAgICAgICByb290U3RhdGUgPSBuZXcgUHJveHkocm9vdFN0YXRlLCB7XFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XFxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xcbiAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3N0YXRlJykge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGU7XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH0pO1xcbiAgICAgICAgfVxcbiAgICAgICAgd2l0aCAocm9vdFN0YXRlKSB7XFxuICAgICAgICAgIFwiLmNvbmNhdChyP1wicmV0dXJuIChcIi5jb25jYXQoZSxcIik7XCIpOmUsXCI7XFxuICAgICAgICB9XCIpKSl9Y2F0Y2goZSl7QnVpbGRlci5pc0Jyb3dzZXImJmNvbnNvbGUud2FybihcIkNvdWxkIG5vdCBjb21waWxlIGphdmFzY3JpcHRcIixlKX10cnl7aWYoQnVpbGRlci5pc0Jyb3dzZXJ8fHNob3VsZEZvcmNlQnJvd3NlclJ1bnRpbWVJbk5vZGUoKSlyZXR1cm4gbyh0fHx7fSk7dmFyIGE9c2FmZUR5bmFtaWNSZXF1aXJlKFwiaXNvbGF0ZWQtdm1cIikscz1nZXRJc29sYXRlQ29udGV4dCgpLGw9bWFrZUZuKGUscixbXCJzdGF0ZVwiXSksdT1zLmV2YWxDbG9zdXJlU3luYyhsLFtuZXcgYS5SZWZlcmVuY2UodHx8e30pXSk7dHJ5e3JldHVybiBKU09OLnBhcnNlKHUpfWNhdGNoKGUpe3JldHVybiB1fX1jYXRjaCh0KXtuJiZuLnB1c2godCksQnVpbGRlci5pc0Jyb3dzZXI/Y29uc29sZS53YXJuKFwiQnVpbGRlciBjdXN0b20gY29kZSBlcnJvcjpcIix0Lm1lc3NhZ2UsXCJpblwiLGUsdC5zdGFjayk6aXNEZWJ1ZygpJiZjb25zb2xlLmRlYnVnKFwiQnVpbGRlciBjdXN0b20gY29kZSBlcnJvcjpcIix0Lm1lc3NhZ2UsXCJpblwiLGUsdC5zdGFjayl9fX07ZnVuY3Rpb24gdG9FcnJvcihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEVycm9yP2U6bmV3IEVycm9yKFN0cmluZyhlKSl9ZnVuY3Rpb24gZ2V0QnVpbGRlclBpeGVsKGUpe3JldHVybntpZDpcImJ1aWxkZXItcGl4ZWwtXCIrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3BsaXQoXCIuXCIpWzFdLFwiQHR5cGVcIjpcIkBidWlsZGVyLmlvL3NkazpFbGVtZW50XCIsdGFnTmFtZTpcImltZ1wiLHByb3BlcnRpZXM6e3JvbGU6XCJwcmVzZW50YXRpb25cIixcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsc3JjOlwiaHR0cHM6Ly9jZG4uYnVpbGRlci5pby9hcGkvdjEvcGl4ZWw/YXBpS2V5PVwiLmNvbmNhdChlKX0scmVzcG9uc2l2ZVN0eWxlczp7bGFyZ2U6e2hlaWdodDpcIjBcIix3aWR0aDpcIjBcIixkaXNwbGF5OlwiaW5saW5lLWJsb2NrXCIsb3BhY2l0eTpcIjBcIixvdmVyZmxvdzpcImhpZGRlblwiLHBvaW50ZXJFdmVudHM6XCJub25lXCJ9fX19ZnVuY3Rpb24gcGljayhlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTt2YXIgaT17fTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtpW3RdPWVbdF19KSksaX1mdW5jdGlvbiBvbWl0KGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3ZhciBpPV9fYXNzaWduKHt9LGUpO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2RlbGV0ZSBpW2VdfSkpLGl9dmFyIGluc3RhbmNlc01hcD1uZXcgTWFwLHdyYXBDb21wb25lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuLGk9dC5idWlsZGVyVGFnfHxcImRpdlwiLHI9W1wiY2hpbGRyZW5cIl0uY29uY2F0KChudWxsPT09KG49ZS5pbnB1dHMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZX0pKSl8fFtdKSxvPW9taXQuYXBwbHkodm9pZCAwLF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbdF0sciwhMSksW1wiYXR0cmlidXRlc1wiXSwhMSkpLGE9dDtyZXR1cm4gZS5ub1dyYXA/UmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChlLmNsYXNzLF9fYXNzaWduKHthdHRyaWJ1dGVzOm99LGEpKTpSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KGksX19hc3NpZ24oe30sbyksUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChlLmNsYXNzLF9fYXNzaWduKHt9LGEpKSl9fSxzaXplJDE9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmxlbmd0aH07ZnVuY3Rpb24gZGVib3VuY2UoZSx0LG4pe3ZhciBpO3JldHVybiB2b2lkIDA9PT1uJiYobj0hMSksZnVuY3Rpb24oKXt2YXIgcj10aGlzLG89YXJndW1lbnRzO2NsZWFyVGltZW91dChpKSxpPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aT1udWxsLG58fGUuYXBwbHkocixvKX0pLHQpLG4mJiFpJiZlLmFwcGx5KHIsbyl9fXZhciBmb250c0xvYWRlZD1uZXcgU2V0LGZldGNoJDE7Z2xvYmFsVGhpcy5mZXRjaCYmKGZldGNoJDE9Z2xvYmFsVGhpcy5mZXRjaCksbnVsbCE9ZmV0Y2gkMXx8KGZldGNoJDE9cmVxdWlyZShcIm5vZGUtZmV0Y2hcIikpO3ZhciBzaXplTWFwPXtkZXNrdG9wOlwibGFyZ2VcIix0YWJsZXQ6XCJtZWRpdW1cIixtb2JpbGU6XCJzbWFsbFwiLHhzbWFsbDpcInhzbWFsbFwifSxmZXRjaENhY2hlPXt9O2Z1bmN0aW9uIHNlYXJjaFRvT2JqZWN0JDEoZSl7dmFyIHQ9KGUuc2VhcmNofHxcIlwiKS5zdWJzdHJpbmcoMSkuc3BsaXQoXCImXCIpLG49e307Zm9yKHZhciBpIGluIHQpaWYodFtpXSYmXCJzdHJpbmdcIj09dHlwZW9mIHRbaV0pe3ZhciByPXRbaV0uc3BsaXQoXCI9XCIpO25bZGVjb2RlVVJJQ29tcG9uZW50KHJbMF0pXT1kZWNvZGVVUklDb21wb25lbnQoclsxXSl9cmV0dXJuIG59dmFyIEJ1aWxkZXJDb21wb25lbnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbixpLHI9dGhpczsocj1lLmNhbGwodGhpcyx0KXx8dGhpcykuc3Vic2NyaXB0aW9ucz1uZXcgU3Vic2NyaXB0aW9uLHIub25TdGF0ZUNoYW5nZT1uZXcgQmVoYXZpb3JTdWJqZWN0KG51bGwpLHIuYXNTZXJ2ZXI9QnVpbGRlci5pc1NlcnZlcixyLmNvbnRlbnRSZWY9bnVsbCxyLnN0eWxlUmVmPW51bGwsci5yb290U3RhdGU9QnVpbGRlci5pc1NlcnZlcj97fTpvbkNoYW5nZSh7fSwoZnVuY3Rpb24oKXtyZXR1cm4gci51cGRhdGVTdGF0ZSgpfSkpLHIubGFzdEpzQ29kZT1cIlwiLHIubGFzdEh0dHBSZXF1ZXN0cz17fSxyLmh0dHBTdWJzY3JpcHRpb25QZXJLZXk9e30sci5maXJzdExvYWQ9ITAsci5yZWY9bnVsbCxyLm1lc3NhZ2VMaXN0ZW5lcj1mdW5jdGlvbihlKXt2YXIgdDtpZihCdWlsZGVyLmlzVHJ1c3RlZEhvc3RGb3JFdmVudChlKSl7dmFyIG49ZS5kYXRhO3N3aXRjaChuLnR5cGUpe2Nhc2VcImJ1aWxkZXIuY29uZmlndXJlU2RrXCI6dmFyIGk9bi5kYXRhO2lmKCFpLmNvbnRlbnRJZHx8aS5jb250ZW50SWQhPT0obnVsbD09PSh0PXIudXNlQ29udGVudCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaWQpKXJldHVybjtyLnNpemVzPWdldFNpemVzRm9yQnJlYWtwb2ludHMoaS5icmVha3BvaW50c3x8e30pLHIuc2V0U3RhdGUoe3N0YXRlOk9iamVjdC5hc3NpZ24oci5yb290U3RhdGUse2RldmljZVNpemU6ci5kZXZpY2VTaXplU3RhdGUsZGV2aWNlOnIuZGV2aWNlfSksdXBkYXRlczooci5zdGF0ZSYmci5zdGF0ZS51cGRhdGVzfHwwKSsxLGJyZWFrcG9pbnRzOmkuYnJlYWtwb2ludHN9KTticmVhaztjYXNlXCJidWlsZGVyLnVwZGF0ZVNwYWNlclwiOnZhciBvPW4uZGF0YTtyLnJvb3RTdGF0ZS5fc3BhY2VyLHIudXBkYXRlU3RhdGUoKGZ1bmN0aW9uKGUpe2UuX3NwYWNlcj1vfSkpO2JyZWFrO2Nhc2VcImJ1aWxkZXIucmVzZXRTdGF0ZVwiOnZhciBhPW4uZGF0YSxzPWEuc3RhdGU7aWYoYS5tb2RlbD09PXIubmFtZSl7Zm9yKHZhciBsIGluIHIucm9vdFN0YXRlKVwiZnVuY3Rpb25cIiE9dHlwZW9mIHIucm9vdFN0YXRlW2xdJiZkZWxldGUgci5yb290U3RhdGVbbF07T2JqZWN0LmFzc2lnbihyLnJvb3RTdGF0ZSxzKSxyLnNldFN0YXRlKF9fYXNzaWduKF9fYXNzaWduKHt9LHIuc3RhdGUpLHtzdGF0ZTpyLnJvb3RTdGF0ZSx1cGRhdGVzOihyLnN0YXRlJiZyLnN0YXRlLnVwZGF0ZXN8fDApKzF9KSl9YnJlYWs7Y2FzZVwiYnVpbGRlci5yZXNldFN5bWJvbFN0YXRlXCI6dmFyIHU9bi5kYXRhLnN0YXRlLGQ9KHM9dS5zdGF0ZSx1Lm1vZGVsLHUuaWQpO2lmKHIucHJvcHMuYnVpbGRlckJsb2NrJiZyLnByb3BzLmJ1aWxkZXJCbG9jaz09PWQpe2Zvcih2YXIgbCBpbiByLnJvb3RTdGF0ZSlkZWxldGUgci5yb290U3RhdGVbbF07T2JqZWN0LmFzc2lnbihyLnJvb3RTdGF0ZSxzKSxyLnNldFN0YXRlKF9fYXNzaWduKF9fYXNzaWduKHt9LHIuc3RhdGUpLHtzdGF0ZTpyLnJvb3RTdGF0ZSx1cGRhdGVzOihyLnN0YXRlJiZyLnN0YXRlLnVwZGF0ZXN8fDApKzF9KSl9fX19LHIucmVzaXplRm49ZnVuY3Rpb24oKXt2YXIgZT1yLmRldmljZVNpemVTdGF0ZTtlIT09ci5zdGF0ZS5zdGF0ZS5kZXZpY2VTaXplJiZyLnNldFN0YXRlKF9fYXNzaWduKF9fYXNzaWduKHt9LHIuc3RhdGUpLHt1cGRhdGVzOihyLnN0YXRlJiZyLnN0YXRlLnVwZGF0ZXN8fDApKzEsc3RhdGU6T2JqZWN0LmFzc2lnbihyLnJvb3RTdGF0ZSxfX2Fzc2lnbihfX2Fzc2lnbih7fSxyLnN0YXRlLnN0YXRlKSx7ZGV2aWNlU2l6ZTplfSkpfSkpfSxyLnJlc2l6ZUxpc3RlbmVyPUJ1aWxkZXIuaXNFZGl0aW5nP3Rocm90dGxlKHIucmVzaXplRm4sMjAwKTpkZWJvdW5jZShyLnJlc2l6ZUZuLDQwMCksci5tb3VudGVkPSExLHIudXBkYXRlU3RhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ci5yb290U3RhdGU7ZSYmZSh0KSxyLm1vdW50ZWQ/ci5zZXRTdGF0ZSh7dXBkYXRlOnIudXBkYXRlU3RhdGUsc3RhdGU6dCx1cGRhdGVzOihyLnN0YXRlJiZyLnN0YXRlLnVwZGF0ZXN8fDApKzF9KTpyLnN0YXRlPV9fYXNzaWduKF9fYXNzaWduKHt9LHIuc3RhdGUpLHt1cGRhdGU6ci51cGRhdGVTdGF0ZSxzdGF0ZTp0LHVwZGF0ZXM6KHIuc3RhdGUmJnIuc3RhdGUudXBkYXRlc3x8MCkrMX0pLHIubm90aWZ5U3RhdGVDaGFuZ2UoKX0sci5vbkNvbnRlbnRMb2FkZWQ9ZnVuY3Rpb24oZSx0KXtpZihcInBhZ2VcIj09PXIubmFtZSYmQnVpbGRlci5pc0Jyb3dzZXImJmUpe3ZhciBuPWUudGl0bGUsaT1lLnBhZ2VUaXRsZSxvPWUuZGVzY3JpcHRpb24sYT1lLnBhZ2VEZXNjcmlwdGlvbjtpZigobnx8aSkmJihkb2N1bWVudC50aXRsZT1ufHxpKSxvfHxhKXt2YXIgcz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJkZXNjcmlwdGlvblwiXScpO3N8fCgocz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibWV0YVwiKSkuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiZGVzY3JpcHRpb25cIiksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzKSkscy5zZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIsb3x8YSl9fWlmKEJ1aWxkZXIuaXNFZGl0aW5nJiZyLm5vdGlmeVN0YXRlQ2hhbmdlKCksci5wcm9wcy5jb250ZW50TG9hZGVkJiZyLnByb3BzLmNvbnRlbnRMb2FkZWQoZSx0KSxlJiZlLmlucHV0cyYmQXJyYXkuaXNBcnJheShlLmlucHV0cykmJmUuaW5wdXRzLmxlbmd0aCYmKGUuc3RhdGV8fChlLnN0YXRlPXt9KSxlLmlucHV0cy5mb3JFYWNoKChmdW5jdGlvbih0KXt0JiZ0Lm5hbWUmJnZvaWQgMCE9PXQuZGVmYXVsdFZhbHVlJiZ2b2lkIDA9PT1lLnN0YXRlW3QubmFtZV0mJihlLnN0YXRlW3QubmFtZV09dC5kZWZhdWx0VmFsdWUpfSkpKSxlJiZlLnN0YXRlKXt2YXIgbD1fX2Fzc2lnbihfX2Fzc2lnbih7fSxyLnN0YXRlKSx7dXBkYXRlczooci5zdGF0ZSYmci5zdGF0ZS51cGRhdGVzfHwwKSsxLHN0YXRlOk9iamVjdC5hc3NpZ24oci5yb290U3RhdGUsX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sci5zdGF0ZS5zdGF0ZSkse2xvY2F0aW9uOnIubG9jYXRpb25TdGF0ZSxkZXZpY2U6ci5kZXZpY2V9KSxlLnN0YXRlKSxyLmV4dGVybmFsU3RhdGUpLHtkZXZpY2VTaXplOnIuZGV2aWNlU2l6ZVN0YXRlfSkpfSk7ci5tb3VudGVkP3Iuc2V0U3RhdGUobCk6ci5zdGF0ZT1sfWlmKGUmJmUuanNDb2RlJiYhci5vcHRpb25zLmNvZGVnZW4pe3ZhciB1PSExO2lmKEJ1aWxkZXIuaXNFZGl0aW5nJiYoci5sYXN0SnNDb2RlPT09ZS5qc0NvZGU/dT0hMDpyLmxhc3RKc0NvZGU9ZS5qc0NvZGUpLCF1KXt2YXIgZD1yLnN0YXRlLnN0YXRlO3RyeXtuZXcgRnVuY3Rpb24oXCJkYXRhXCIsXCJyZWZcIixcInN0YXRlXCIsXCJ1cGRhdGVcIixcImVsZW1lbnRcIixcIkJ1aWxkZXJcIixcImJ1aWxkZXJcIixcImNvbnRleHRcIixlLmpzQ29kZSkoZSxyLGQsci5zdGF0ZS51cGRhdGUsci5yZWYsQnVpbGRlcixidWlsZGVyLHIuc3RhdGUuY29udGV4dCl9Y2F0Y2godCl7dmFyIGM9dG9FcnJvcih0KTtCdWlsZGVyLmlzQnJvd3Nlcj9jb25zb2xlLndhcm4oXCJCdWlsZGVyIGN1c3RvbSBjb2RlIGVycm9yOlwiLGMubWVzc2FnZSxcImluXCIsZS5qc0NvZGUsYy5zdGFjayk6aXNEZWJ1ZygpJiZjb25zb2xlLmRlYnVnKFwiQnVpbGRlciBjdXN0b20gY29kZSBlcnJvcjpcIixjLm1lc3NhZ2UsXCJpblwiLGUuanNDb2RlLGMuc3RhY2spfX19aWYoZSYmZS5odHRwUmVxdWVzdHMmJiFyLnByb3BzLm5vQXN5bmMmJiEodT0hMSkpe3ZhciBwPWZ1bmN0aW9uKHQpe3ZhciBuPWUuaHR0cFJlcXVlc3RzW3RdO2lmKG4mJighci5kYXRhW3RdfHxCdWlsZGVyLmlzRWRpdGluZykpe3ZhciBpPVwib2JqZWN0XCI9PXR5cGVvZiBuJiZcIkBidWlsZGVyLmlvL2NvcmU6UmVxdWVzdFwiPT09bltcIkB0eXBlXCJdO2lmKEJ1aWxkZXIuaXNCcm93c2VyKXt2YXIgbz1pP3IuZXZhbEV4cHJlc3Npb24obi5yZXF1ZXN0LnVybCk6ci5ldmFsRXhwcmVzc2lvbihuKTtpZihCdWlsZGVyLmlzRWRpdGluZyYmci5sYXN0SHR0cFJlcXVlc3RzW3RdPT09bylyZXR1cm5cImNvbnRpbnVlXCI7ci5sYXN0SHR0cFJlcXVlc3RzW3RdPW8saT9yLmhhbmRsZVJlcXVlc3QodCx7dXJsOm8sbWV0aG9kOm4ucmVxdWVzdC5tZXRob2QsYm9keTpuLnJlcXVlc3QuYm9keSxoZWFkZXJzOm4ucmVxdWVzdC5oZWFkZXJzfSk6ci5oYW5kbGVSZXF1ZXN0KHQse3VybDpvLG1ldGhvZDpcIkdFVFwifSk7dmFyIGE9ci5odHRwU3Vic2NyaXB0aW9uUGVyS2V5W3RdO2EmJmEudW5zdWJzY3JpYmUoKTt2YXIgcz1yLmh0dHBTdWJzY3JpcHRpb25QZXJLZXlbdF09ci5vblN0YXRlQ2hhbmdlLnN1YnNjcmliZSgoZnVuY3Rpb24oKXt2YXIgZT1pP3IuZXZhbEV4cHJlc3Npb24obi5yZXF1ZXN0LnVybCk6ci5ldmFsRXhwcmVzc2lvbihuKTtlIT09byYmKGk/ci5oYW5kbGVSZXF1ZXN0KHQse3VybDplLG1ldGhvZDpuLnJlcXVlc3QubWV0aG9kLGJvZHk6bi5yZXF1ZXN0LmJvZHksaGVhZGVyczpuLnJlcXVlc3QuaGVhZGVyc30pOnIuaGFuZGxlUmVxdWVzdCh0LHt1cmw6ZSxtZXRob2Q6XCJHRVRcIn0pLHIubGFzdEh0dHBSZXF1ZXN0c1t0XT1lKX0pKTtyLnN1YnNjcmlwdGlvbnMuYWRkKHMpfWVsc2UgaT9yLmhhbmRsZVJlcXVlc3QodCx7dXJsOnIuZXZhbEV4cHJlc3Npb24obi5yZXF1ZXN0LnVybCksbWV0aG9kOm4ucmVxdWVzdC5tZXRob2QsYm9keTpuLnJlcXVlc3QuYm9keSxoZWFkZXJzOm4ucmVxdWVzdC5oZWFkZXJzfSk6ci5oYW5kbGVSZXF1ZXN0KHQse3VybDpyLmV2YWxFeHByZXNzaW9uKG4pLG1ldGhvZDpcIkdFVFwifSl9fTtmb3IodmFyIGYgaW4gZS5odHRwUmVxdWVzdHMpcChmKX19O3ZhciBvPXIuaW5saW5lZENvbnRlbnQ7byYmby5jb250ZW50JiYobz1vLmNvbnRlbnQpLHIuc2l6ZXM9Z2V0U2l6ZXNGb3JCcmVha3BvaW50cygobnVsbD09PShuPW51bGw9PW8/dm9pZCAwOm8ubWV0YSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uYnJlYWtwb2ludHMpfHx7fSk7dmFyIGE9bnVsbD09PShpPXIuaW5saW5lZENvbnRlbnQpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmRhdGE7YSYmQXJyYXkuaXNBcnJheShhLmlucHV0cykmJmEuaW5wdXRzLmxlbmd0aD4wJiYoYS5zdGF0ZXx8KGEuc3RhdGU9e30pLGEuaW5wdXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UmJmUubmFtZSYmdm9pZCAwIT09ZS5kZWZhdWx0VmFsdWUmJnZvaWQgMD09PWEuc3RhdGVbZS5uYW1lXSYmKGEuc3RhdGVbZS5uYW1lXT1lLmRlZmF1bHRWYWx1ZSl9KSkpLHIuc3RhdGU9e2NvbnRleHQ6X19hc3NpZ24oX19hc3NpZ24oe30sdC5jb250ZXh0KSx7YXBpS2V5OnIucHJvcHMuYXBpS2V5fHxidWlsZGVyLmFwaUtleSxub25jZTpyLnByb3BzLm5vbmNlfSksc3RhdGU6T2JqZWN0LmFzc2lnbihyLnJvb3RTdGF0ZSxfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbih7fSxyLmlubGluZWRDb250ZW50JiZyLmlubGluZWRDb250ZW50LmRhdGEmJnIuaW5saW5lZENvbnRlbnQuZGF0YS5zdGF0ZSkse2lzQnJvd3NlcjpCdWlsZGVyLmlzQnJvd3Nlcixpc1NlcnZlcjohQnVpbGRlci5pc0Jyb3dzZXIsX2h5ZHJhdGU6dC5oeWRyYXRlLGxvY2F0aW9uOnIubG9jYXRpb25TdGF0ZSxkZXZpY2VTaXplOnIuZGV2aWNlU2l6ZVN0YXRlLGRldmljZTpyLmRldmljZX0pLHIuZ2V0SHRtbERhdGEoKSksdC5kYXRhKSksdXBkYXRlczowLGtleTowLHVwZGF0ZTpyLnVwZGF0ZVN0YXRlfTt2YXIgcz1yLnByb3BzLmFwaUtleTtpZihzJiZzIT09ci5idWlsZGVyLmFwaUtleSYmIWluc3RhbmNlc01hcC5oYXMocykpe3ZhciBsPW5ldyBCdWlsZGVyKHMsdm9pZCAwLHZvaWQgMCwhMCk7aW5zdGFuY2VzTWFwLnNldChzLGwpfWlmKHIuaW5saW5lZENvbnRlbnQpe3ZhciB1PXIuaW5saW5lZENvbnRlbnQuY29udGVudHx8ci5pbmxpbmVkQ29udGVudDtyLm9uQ29udGVudExvYWRlZChudWxsPT11P3ZvaWQgMDp1LmRhdGEsZ2V0Q29udGVudFdpdGhJbmZvKHUpKX1yZXR1cm4gci5yZWdpc3RlckN1c3RvbUNvbXBvbmVudHMoKSxyfXJldHVybiBfX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvcHRpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSx0LmRlZmF1bHRzKSx0aGlzLnByb3BzKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJuYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLm1vZGVsfHx0aGlzLnByb3BzLm1vZGVsTmFtZXx8dGhpcy5wcm9wcy5uYW1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImVsZW1lbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVmfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlubGluZWRDb250ZW50XCIse2dldDpmdW5jdGlvbigpe2lmKCF0aGlzLmlzUHJldmlld2luZ3x8dGhpcy5wcm9wcy5pbmxpbmVDb250ZW50KXJldHVybiB0aGlzLnByb3BzLmNvbnRlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYnVpbGRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5hcGlLZXkmJmluc3RhbmNlc01hcC5nZXQodGhpcy5wcm9wcy5hcGlLZXkpfHx0aGlzLnByb3BzLmJ1aWxkZXJ8fGJ1aWxkZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZ2V0SHRtbERhdGE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmlubGluZWRDb250ZW50JiZ0aGlzLmlubGluZWRDb250ZW50LmlkfHx0aGlzLnByb3BzLmVudHJ5LHQ9ZSYmQnVpbGRlci5pc0Jyb3dzZXImJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtkYXRhLWJ1aWxkZXItanNvbj1cIicuY29uY2F0KGUsJ1wiXSxzY3JpcHRbZGF0YS1idWlsZGVyLXN0YXRlPVwiJykuY29uY2F0KGUsJ1wiXScpKTtpZih0KXRyeXtyZXR1cm4gSlNPTi5wYXJzZSh0LmlubmVyVGV4dCl9Y2F0Y2goZSl7Y29uc29sZS53YXJuKFwiQ291bGQgbm90IHBhcnNlIEJ1aWxkZXIuaW8gSFRNTCBkYXRhIHRyYW5zZmVyXCIsZSx0LmlubmVyVGV4dCl9cmV0dXJue319LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRldmljZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWlsZGVyLmdldFVzZXJBdHRyaWJ1dGVzKCkuZGV2aWNlfHxcImRlc2t0b3BcIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJsb2NhdGlvblN0YXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSxwaWNrKHRoaXMubG9jYXRpb24sXCJwYXRobmFtZVwiLFwiaG9zdG5hbWVcIixcInNlYXJjaFwiLFwiaG9zdFwiKSkse3BhdGg6dGhpcy5sb2NhdGlvbi5wYXRobmFtZSYmdGhpcy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSl8fFwiXCIscXVlcnk6c2VhcmNoVG9PYmplY3QkMSh0aGlzLmxvY2F0aW9uKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRldmljZVNpemVTdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQnVpbGRlci5pc0Jyb3dzZXI/dGhpcy5zaXplcy5nZXRTaXplRm9yV2lkdGgod2luZG93LmlubmVyV2lkdGgpOnNpemVNYXBbdGhpcy5kZXZpY2VdfHxcImxhcmdlXCJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5yZW5kZXJJbnRvPWZ1bmN0aW9uKGUsbixpLHIpe2lmKHZvaWQgMD09PW4mJihuPXt9KSx2b2lkIDA9PT1pJiYoaT0hMCksdm9pZCAwPT09ciYmKHI9ITEpLGNvbnNvbGUuZGVidWcoXCJCdWlsZGVyUGFnZS5yZW5kZXJJbnRvXCIsZSxuLGksdGhpcyksZSl7dmFyIG89bnVsbDtpZihcInN0cmluZ1wiPT10eXBlb2YgZT9vPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSk6ZSBpbnN0YW5jZW9mIEVsZW1lbnQmJihvPWUpLG8pe3ZhciBhPW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnVpbGRlci1oeWRyYXRlZFwiKTtpZighYXx8cil7by5jbGFzc0xpc3QuYWRkKFwiYnVpbGRlci1oeWRyYXRlZFwiKTt2YXIgcz1pJiZvLmlubmVySFRNTC5pbmNsdWRlcyhcImJ1aWxkZXItYmxvY2tcIik7aWYoIW8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnVpbGRlci1jb21wb25lbnRcIikpe3ZhciBsPW8ucXVlcnlTZWxlY3RvcihcIi5idWlsZGVyLWFwaS1zdHlsZXNcIil8fChvLnByZXZpb3VzRWxlbWVudFNpYmxpbmcmJm8ucHJldmlvdXNFbGVtZW50U2libGluZy5tYXRjaGVzKFwiLmJ1aWxkZXItYXBpLXN0eWxlc1wiKT9vLnByZXZpb3VzRWxlbWVudFNpYmxpbmc6bnVsbCksdT1cIlwiO2lmKGwpbC5pbm5lckhUTUwucmVwbGFjZSgvXFwvXFwqc3RhcnQ6KFteXFwqXSs/KVxcKlxcLyhbXFxzXFxTXSo/KVxcL1xcKmVuZDooW15cXCpdKz8pXFwqXFwvL2csKGZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1udWxsO3RyeXtpPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWVtb3Rpb24tY3NzPVwiJy5jb25jYXQodCwnXCJdJykpfWNhdGNoKGUpe2NvbnNvbGUud2FybihlKX1yZXR1cm4gaT9pLmlubmVySFRNTD1uOkJ1aWxkZXIuaXNFZGl0aW5nfHwodSs9ZSksZX0pKSxCdWlsZGVyLm5leHRUaWNrKChmdW5jdGlvbigpe2wuaW5uZXJIVE1MPXV9KSk7dmFyIGQ9by5xdWVyeVNlbGVjdG9yKFwiLmJ1aWxkZXItY29tcG9uZW50XCIpO2Q/bz1kOnM9ITF9bG9jYXRpb24uc2VhcmNoLmluY2x1ZGVzKFwiYnVpbGRlci5kZWJ1Zz10cnVlXCIpJiZjb25zb2xlLmRlYnVnKFwiaHlkcmF0ZVwiLHMsbyk7dmFyIGM9bztpZighYSl7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtvLmluc2VydEFkamFjZW50RWxlbWVudChcImJlZm9yZWJlZ2luXCIscCkscC5hcHBlbmRDaGlsZChvKSxjPXB9aWYoKEJ1aWxkZXIuaXNFZGl0aW5nfHxCdWlsZGVyLmlzQnJvd3NlciYmbG9jYXRpb24uc2VhcmNoLmluY2x1ZGVzKFwiYnVpbGRlci5wcmV2aWV3PVwiKSkmJihzPSExKSxzJiZvKXt2YXIgZj1SZWFjdERPTS5yZW5kZXIoUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudCh0LF9fYXNzaWduKHt9LG4pKSxjLGMuYnVpbGRlclJvb3RSZWYpO3JldHVybiBjLmJ1aWxkZXJSb290UmVmPWYsZn12YXIgbT1SZWFjdERPTS5yZW5kZXIoUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudCh0LF9fYXNzaWduKHt9LG4pKSxjLGMuYnVpbGRlclJvb3RSZWYpO3JldHVybiBjLmJ1aWxkZXJSb290UmVmPW0sbX1jb25zb2xlLmRlYnVnKFwiVHJpZWQgdG8gaHlkcmF0ZSBtdWx0aXBsZSB0aW1lc1wiKX19fSx0LnByb3RvdHlwZS5yZWdpc3RlckN1c3RvbUNvbXBvbmVudHM9ZnVuY3Rpb24oKXtpZih0aGlzLnByb3BzLmN1c3RvbUNvbXBvbmVudHMpZm9yKHZhciBlPTAsdD10aGlzLnByb3BzLmN1c3RvbUNvbXBvbmVudHM7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV07aWYobil7dmFyIGk9bi5jb21wb25lbnQscj1fX3Jlc3QobixbXCJjb21wb25lbnRcIl0pO0J1aWxkZXIucmVnaXN0ZXJDb21wb25lbnQoaSxyKX19fSx0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpczt0aGlzLm1vdW50ZWQ9ITAsdGhpcy5hc1NlcnZlciYmKHRoaXMuYXNTZXJ2ZXI9ITEsdGhpcy51cGRhdGVTdGF0ZSgoZnVuY3Rpb24oZSl7ZS5pc0Jyb3dzZXI9ITAsZS5pc1NlcnZlcj0hMX0pKSksQnVpbGRlci5pc0lmcmFtZSYmKG51bGw9PT0oZT13aW5kb3cucGFyZW50KXx8dm9pZCAwPT09ZXx8ZS5wb3N0TWVzc2FnZSh7dHlwZTpcImJ1aWxkZXIuc2RrSW5qZWN0ZWRcIixkYXRhOnttb2RlbE5hbWU6dGhpcy5uYW1lLGFwaUtleTp0aGlzLnByb3BzLmFwaUtleXx8YnVpbGRlci5hcGlLZXl9fSxcIipcIikpLEJ1aWxkZXIuaXNCcm93c2VyJiYod2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLnJlc2l6ZUxpc3RlbmVyKSxCdWlsZGVyLmlzRWRpdGluZyYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5tZXNzYWdlTGlzdGVuZXIpLChCdWlsZGVyLmlzRWRpdGluZ3x8QnVpbGRlci5pc1ByZXZpZXdpbmcpJiZCdWlsZGVyLm5leHRUaWNrKChmdW5jdGlvbigpe3QuZmlyc3RMb2FkPSExLHQucmVsb2FkKCl9KSksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJidWlsZGVyOmNvbXBvbmVudDpsb2FkXCIse2RldGFpbDp7cmVmOnR9fSkpfSkpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaXNQcmV2aWV3aW5nXCIse2dldDpmdW5jdGlvbigpe3JldHVybihCdWlsZGVyLmlzU2VydmVyfHxCdWlsZGVyLmlzQnJvd3NlciYmQnVpbGRlci5pc1ByZXZpZXdpbmcmJiF0aGlzLmZpcnN0TG9hZCkmJihidWlsZGVyLnByZXZpZXdpbmdNb2RlbD09PXRoaXMubmFtZXx8XCJCVUlMREVSX1NUVURJT1wiPT09YnVpbGRlci5wcmV2aWV3aW5nTW9kZWwpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLm5vdGlmeVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKCl7aWYoIUJ1aWxkZXIuaXNTZXJ2ZXImJnRoaXMmJnRoaXMuc3RhdGUpe3ZhciBlPXRoaXMuc3RhdGUuc3RhdGU7dGhpcy5wcm9wcy5vblN0YXRlQ2hhbmdlJiZ0aGlzLnByb3BzLm9uU3RhdGVDaGFuZ2UoZSksQnVpbGRlci5pc0Jyb3dzZXImJndpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImJ1aWxkZXI6Y29tcG9uZW50OnN0YXRlQ2hhbmdlXCIse2RldGFpbDp7c3RhdGU6ZSxyZWY6dGhpc319KSksdGhpcy5vblN0YXRlQ2hhbmdlLm5leHQoZSl9fSx0LnByb3RvdHlwZS5wcm9jZXNzU3RhdGVGcm9tQXBpPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJsb2NhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5sb2NhdGlvbnx8KEJ1aWxkZXIuaXNCcm93c2VyP2xvY2F0aW9uOnt9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5nZXRDc3NGcm9tRm9udD1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZmFtaWx5KyhlLmtpbmQmJiFlLmtpbmQuaW5jbHVkZXMoXCIjXCIpP1wiLCBcIitlLmtpbmQ6XCJcIiksaT1uLnNwbGl0KFwiLFwiKVswXSxyPWUuZmlsZVVybD9lLmZpbGVVcmw6ZS5maWxlcyYmZS5maWxlcy5yZWd1bGFyLG89XCJcIjtpZihyJiZuJiZpJiYobys9J1xcbkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6IFwiJy5jb25jYXQobiwnXCI7XFxuICBzcmM6IGxvY2FsKFwiJykuY29uY2F0KGksXCJcXFwiKSwgdXJsKCdcIikuY29uY2F0KHIsXCInKSBmb3JtYXQoJ3dvZmYyJyk7XFxuICBmb250LWRpc3BsYXk6IGZhbGxiYWNrO1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG59XFxuICAgICAgICBcIikudHJpbSgpKSxlLmZpbGVzKWZvcih2YXIgYSBpbiBlLmZpbGVzKXtpZihTdHJpbmcoTnVtYmVyKGEpKT09PWEpe3ZhciBzPWUuZmlsZXNbYV07cyYmcyE9PXImJihvKz0nXFxuQGZvbnQtZmFjZSB7XFxuICBmb250LWZhbWlseTogXCInLmNvbmNhdChuLFwiXFxcIjtcXG4gIHNyYzogdXJsKCdcIikuY29uY2F0KHMsXCInKSBmb3JtYXQoJ3dvZmYyJyk7XFxuICBmb250LWRpc3BsYXk6IGZhbGxiYWNrO1xcbiAgZm9udC13ZWlnaHQ6IFwiKS5jb25jYXQoYSxcIjtcXG59XFxuICAgICAgICAgIFwiKS50cmltKCkpfX1yZXR1cm4gb30sdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXt0aGlzLnVuc3Vic2NyaWJlKCksQnVpbGRlci5pc0Jyb3dzZXImJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMucmVzaXplTGlzdGVuZXIpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMubWVzc2FnZUxpc3RlbmVyKSl9LHQucHJvdG90eXBlLmdldEZvbnRDc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5idWlsZGVyLmFsbG93Q3VzdG9tRm9udHMmJihudWxsPT1lP3ZvaWQgMDplLmN1c3RvbUZvbnRzKSYmZS5jdXN0b21Gb250cy5sZW5ndGgmJmUuY3VzdG9tRm9udHMubWFwKChmdW5jdGlvbihuKXtyZXR1cm4gdC5nZXRDc3NGcm9tRm9udChuLGUpfSkpLmpvaW4oXCIgXCIpfHxcIlwifSx0LnByb3RvdHlwZS5lbnN1cmVGb250c0xvYWRlZD1mdW5jdGlvbihlKXtpZih0aGlzLmJ1aWxkZXIuYWxsb3dDdXN0b21Gb250cyYmKG51bGw9PWU/dm9pZCAwOmUuY3VzdG9tRm9udHMpJiZBcnJheS5pc0FycmF5KGUuY3VzdG9tRm9udHMpKWZvcih2YXIgdD0wLG49ZS5jdXN0b21Gb250czt0PG4ubGVuZ3RoO3QrKyl7dmFyIGk9blt0XSxyPWkuZmlsZVVybD9pLmZpbGVVcmw6aS5maWxlcyYmaS5maWxlcy5yZWd1bGFyO2lmKCFmb250c0xvYWRlZC5oYXMocikpe3ZhciBvPXRoaXMuZ2V0Q3NzRnJvbUZvbnQoaSxlKTtpZihmb250c0xvYWRlZC5hZGQociksIW8pY29udGludWU7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2EuY2xhc3NOYW1lPVwiYnVpbGRlci1jdXN0b20tZm9udFwiLGEuc2V0QXR0cmlidXRlKFwiZGF0YS1idWlsZGVyLWN1c3RvbS1mb250XCIsciksYS5pbm5lckhUTUw9byxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGEpfX19LHQucHJvdG90eXBlLmdldENzcz1mdW5jdGlvbihlKXt2YXIgdCxuPW51bGw9PT0odD10aGlzLnVzZUNvbnRlbnQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlkLGk9KG51bGw9PWU/dm9pZCAwOmUuY3NzQ29kZSl8fFwiXCI7cmV0dXJuIG4mJihpPWkucmVwbGFjZSgvJi9nLFwiLmJ1aWxkZXItY29tcG9uZW50LVwiLmNvbmNhdChuKSkpLGkrdGhpcy5nZXRGb250Q3NzKGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkYXRhXCIse2dldDpmdW5jdGlvbigpe3ZhciBlLHQ9X19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sdGhpcy5pbmxpbmVkQ29udGVudCYmKG51bGw9PT0oZT10aGlzLmlubGluZWRDb250ZW50LmRhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnN0YXRlKSksdGhpcy5leHRlcm5hbFN0YXRlKSx0aGlzLnN0YXRlLnN0YXRlKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLnJvb3RTdGF0ZSx0KSx0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMucHJvcHMuZGF0YSYmZS5kYXRhIT09dGhpcy5wcm9wcy5kYXRhJiZ0aGlzLnN0YXRlLnVwZGF0ZSgoZnVuY3Rpb24oZSl7T2JqZWN0LmFzc2lnbihlLHQuZXh0ZXJuYWxTdGF0ZSl9KSksdGhpcy5wcm9wcy5jdXN0b21Db21wb25lbnRzJiZ0aGlzLnByb3BzLmN1c3RvbUNvbXBvbmVudHMhPT1lLmN1c3RvbUNvbXBvbmVudHMmJnRoaXMucmVnaXN0ZXJDdXN0b21Db21wb25lbnRzKCksQnVpbGRlci5pc0VkaXRpbmcmJnRoaXMuaW5saW5lZENvbnRlbnQmJmUuY29udGVudCE9PXRoaXMuaW5saW5lZENvbnRlbnQmJnRoaXMub25Db250ZW50TG9hZGVkKHRoaXMuaW5saW5lZENvbnRlbnQuZGF0YSx0aGlzLmlubGluZWRDb250ZW50KX0sdC5wcm90b3R5cGUuY2hlY2tTdHlsZXM9ZnVuY3Rpb24oZSl7aWYodGhpcy5zdHlsZVJlZil7dmFyIHQ9dGhpcy5nZXRDc3MoZSk7dGhpcy5zdHlsZVJlZi5pbm5lckhUTUwhPT10JiYodGhpcy5zdHlsZVJlZi5pbm5lckhUTUw9dCl9fSx0LnByb3RvdHlwZS5yZWxvYWQ9ZnVuY3Rpb24oKXt0aGlzLnNldFN0YXRlKHtrZXk6dGhpcy5zdGF0ZS5rZXkrMX0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb250ZW50XCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaW5saW5lZENvbnRlbnQ7cmV0dXJuIGUmJmUuY29udGVudCYmKGU9X19hc3NpZ24oX19hc3NpZ24oe30sZSkse2RhdGE6ZS5jb250ZW50fSkpLGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZXh0ZXJuYWxTdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sdGhpcy5wcm9wcy5kYXRhKSx0aGlzLnByb3BzLmxvY2FsZT97bG9jYWxlOnRoaXMucHJvcHMubG9jYWxlfTp7fSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidXNlQ29udGVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50fHx0aGlzLnN0YXRlLmNvbnRleHQuYnVpbGRlckNvbnRlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLG49dGhpcy5jb250ZW50LGk9QnVpbGRlci5pc0Jyb3dzZXImJnRoaXMuZXh0ZXJuYWxTdGF0ZSYmc2l6ZSQxKHRoaXMuZXh0ZXJuYWxTdGF0ZSkmJmhhc2godGhpcy5leHRlcm5hbFN0YXRlKSxyPUJ1aWxkZXIuaXNFZGl0aW5nP3RoaXMubmFtZTp0aGlzLnByb3BzLmVudHJ5O3ImJiFCdWlsZGVyLmlzRWRpdGluZyYmaSYmaS5sZW5ndGg8MzAwJiYocis9XCI6XCIraSk7dmFyIG89dGhpcy5wcm9wcy5kYXRhT25seT9SZWFjdF9fZGVmYXVsdC5GcmFnbWVudDpcImRpdlwiLGE9bnVsbD09PShlPXRoaXMudXNlQ29udGVudCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuaWQ7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQobyx7b25DbGljazpmdW5jdGlvbihlKXshQnVpbGRlci5pc0VkaXRpbmd8fHQucHJvcHMuaXNDaGlsZHx8dC5wcm9wcy5zdG9wQ2xpY2tQcm9wYWdhdGlvbldoZW5FZGl0aW5nfHxlLnN0b3BQcm9wYWdhdGlvbigpfSxjbGFzc05hbWU6XCJidWlsZGVyLWNvbXBvbmVudCBcIi5jb25jYXQoYT9cImJ1aWxkZXItY29tcG9uZW50LVwiLmNvbmNhdChhKTpcIlwiKSxcImRhdGEtbmFtZVwiOnRoaXMubmFtZSxcImRhdGEtc291cmNlXCI6XCJSZW5kZXJlZCBieSBCdWlsZGVyLmlvXCIsa2V5OnRoaXMuc3RhdGUua2V5LHJlZjpmdW5jdGlvbihlKXtyZXR1cm4gdC5yZWY9ZX19LFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlck1ldGFDb250ZXh0LkNvbnN1bWVyLG51bGwsKGZ1bmN0aW9uKGUpe3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1aWxkZXJNZXRhQ29udGV4dC5Qcm92aWRlcix7dmFsdWU6XCJib29sZWFuXCI9PXR5cGVvZiB0LnByb3BzLmFtcE1vZGU/X19hc3NpZ24oX19hc3NpZ24oe30sZSkse2FtcE1vZGU6dC5wcm9wcy5hbXBNb2RlfSk6ZX0sUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyQXN5bmNSZXF1ZXN0c0NvbnRleHQuQ29uc3VtZXIsbnVsbCwoZnVuY3Rpb24oZSl7dmFyIGk7cmV0dXJuIHQuX2FzeW5jUmVxdWVzdHM9ZSYmZS5yZXF1ZXN0cyx0Ll9lcnJvcnM9ZSYmZS5lcnJvcnMsdC5fbG9ncz1lJiZlLmxvZ3MsUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyQ29udGVudCx7aXNTdGF0aWM6dC5wcm9wcy5pc1N0YXRpY3x8QnVpbGRlci5pc1N0YXRpYyxrZXk6KG51bGw9PT0oaT10LmlubGluZWRDb250ZW50KXx8dm9pZCAwPT09aT92b2lkIDA6aS5pZCl8fChcImNvbnRlbnRcImluIHQucHJvcHMmJiF0LmlzUHJldmlld2luZz9cIm51bGwtY29udGVudC1wcm9wXCI6XCJuby1jb250ZW50LXByb3BcIiksYnVpbGRlcjp0LmJ1aWxkZXIscmVmOmZ1bmN0aW9uKGUpe3JldHVybiB0LmNvbnRlbnRSZWY9ZX0sY29udGVudExvYWRlZDpmdW5jdGlvbihlLG4pe3JldHVybiB0Lm9uQ29udGVudExvYWRlZChlLG4pfSxvcHRpb25zOl9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHtrZXk6cixlbnRyeTp0LnByb3BzLmVudHJ5fSxuJiZ7aW5pdGlhbENvbnRlbnQ6W25dfSksIW4mJlwiY29udGVudFwiaW4gdC5wcm9wcyYmIXQuaXNQcmV2aWV3aW5nJiZ7aW5pdGlhbENvbnRlbnQ6W119KSx0LnByb3BzLnVybCYme3VybDp0LnByb3BzLnVybH0pLHQucHJvcHMub3B0aW9ucyksdC5wcm9wcy5sb2NhbGU/e2xvY2FsZTp0LnByb3BzLmxvY2FsZX06e30pLHQub3B0aW9ucy5jb2RlZ2VuJiZ7Zm9ybWF0OlwicmVhY3RcIn0pLGlubGluZTp0LnByb3BzLmlubGluZUNvbnRlbnR8fCF0LmlzUHJldmlld2luZyYmXCJjb250ZW50XCJpbiB0LnByb3BzLGNvbnRlbnRFcnJvcjp0LnByb3BzLmNvbnRlbnRFcnJvcixtb2RlbE5hbWU6dC5uYW1lfHxcInBhZ2VcIixub25jZTp0LnByb3BzLm5vbmNlfSwoZnVuY3Rpb24oZSxuLGkpe3ZhciByO2lmKHQucHJvcHMuZGF0YU9ubHkpcmV0dXJuIG51bGw7aSYmaS5pZCYmKHQuc3RhdGUuYnJlYWtwb2ludHMmJihpLm1ldGE9aS5tZXRhfHx7fSxpLm1ldGEuYnJlYWtwb2ludHM9dC5zdGF0ZS5icmVha3BvaW50cyksdC5zdGF0ZS5jb250ZXh0LmJ1aWxkZXJDb250ZW50PWkpLEJ1aWxkZXIuaXNCcm93c2VyJiZCdWlsZGVyLm5leHRUaWNrKChmdW5jdGlvbigpe3QuY2hlY2tTdHlsZXMoZSl9KSk7dmFyIG89dC5vcHRpb25zLmNvZGVnZW47aWYobyYmIXQuQ29tcG9uZW50JiYobnVsbD09ZT92b2lkIDA6ZS5ibG9ja3NKcykpe3ZhciBhPUFycmF5LmZyb20obmV3IFNldChCdWlsZGVyLmNvbXBvbmVudHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSkpKSkscz1CdWlsZGVyLmNvbXBvbmVudHMuc2xpY2UoKS5yZXZlcnNlKCksbD1hLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2xhc3MmJnQubmFtZT09PWV9KSl9KSksdT1hLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuKGV8fFwiXCIpLnJlcGxhY2UoL1teXFx3XSsvZ2ksXCJcIil9KSksZD1sLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHdyYXBDb21wb25lbnQoZSl9KSk7dC5Db21wb25lbnQ9KG5ldyhGdW5jdGlvbi5iaW5kLmFwcGx5KEZ1bmN0aW9uLF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbdm9pZCAwLFwianN4XCIsXCJfY3NzXCIsXCJCdWlsZGVyXCIsXCJidWlsZGVyXCIsXCJSZWFjdFwiLFwidXNlQnVpbGRlclN0YXRlXCJdLHUsITEpLFtlLmJsb2Nrc0pzXSwhMSkpKSkuYXBwbHkodm9pZCAwLF9fc3ByZWFkQXJyYXkoW2pzeCxjc3MsQnVpbGRlcixidWlsZGVyLFJlYWN0X19kZWZhdWx0LGZ1bmN0aW9uKGUpe3ZhciB0PVJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKDApWzFdO3JldHVybiBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZSgoZnVuY3Rpb24oKXtyZXR1cm4gb25DaGFuZ2UoZSwoZnVuY3Rpb24oKXt0KChmdW5jdGlvbihlKXtyZXR1cm4gZSsxfSkpfSkpfSkpWzBdfV0sZCwhMSkpfXZhciBjPShudWxsPT1lP3ZvaWQgMDplLmJsb2Nrcyl8fFtdLHA9Yy5maW5kKChmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PWUuaWQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnN0YXJ0c1dpdGgoXCJidWlsZGVyLXBpeGVsXCIpfSkpO3JldHVybiBlJiYhcCYmYy5sZW5ndGg+MCYmYy5wdXNoKGdldEJ1aWxkZXJQaXhlbChidWlsZGVyLmFwaUtleSkpLGU/UmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLF9fYXNzaWduKHtcImRhdGEtYnVpbGRlci1jb21wb25lbnRcIjp0Lm5hbWUsXCJkYXRhLWJ1aWxkZXItY29udGVudC1pZFwiOmkuaWR9LHQuaXNQcmV2aWV3aW5nP3tcImRhdGEtYnVpbGRlci12YXJpYXRpb24taWRcIjppLnRlc3RWYXJpYXRpb25JZHx8aS52YXJpYXRpb25JZHx8aS5pZH06e30pLCFvJiZ0LmdldENzcyhlKSYmUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIse25vbmNlOnQucHJvcHMubm9uY2UscmVmOmZ1bmN0aW9uKGUpe3JldHVybiB0LnN0eWxlUmVmPWV9LGNsYXNzTmFtZTpcImJ1aWxkZXItY3VzdG9tLXN0eWxlc1wiLGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOntfX2h0bWw6dC5nZXRDc3MoZSl9fSksUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyU3RvcmVDb250ZXh0LlByb3ZpZGVyLHt2YWx1ZTpfX2Fzc2lnbihfX2Fzc2lnbih7fSx0LnN0YXRlKSx7cm9vdFN0YXRlOnQucm9vdFN0YXRlLHN0YXRlOnQuZGF0YSxjb250ZW50OmkscmVuZGVyTGluazp0LnByb3BzLnJlbmRlckxpbmt9KX0sbyYmdC5Db21wb25lbnQ/UmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudCh0LkNvbXBvbmVudCx7ZGF0YTp0LmRhdGEsY29udGV4dDp0LnN0YXRlLmNvbnRleHR9KTpSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1aWxkZXJCbG9ja3Mse2tleTpTdHJpbmcoISEobnVsbD09PShyPW51bGw9PWU/dm9pZCAwOmUuYmxvY2tzKXx8dm9pZCAwPT09cj92b2lkIDA6ci5sZW5ndGgpKSxlbWFpbE1vZGU6dC5wcm9wcy5lbWFpbE1vZGUsZmllbGROYW1lOlwiYmxvY2tzXCIsYmxvY2tzOmN9KSkpOm4/UmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLHtcImRhdGEtYnVpbGRlci1jb21wb25lbnRcIjp0Lm5hbWUsY2xhc3NOYW1lOlwiYnVpbGRlci1sb2FkaW5nXCJ9LHQucHJvcHMuY2hpbGRyZW4pOlJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7XCJkYXRhLWJ1aWxkZXItY29tcG9uZW50XCI6dC5uYW1lLGNsYXNzTmFtZTpcImJ1aWxkZXItbm8tY29udGVudFwifSl9KSl9KSkpfSkpKX0sdC5wcm90b3R5cGUuZXZhbEV4cHJlc3Npb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXRoaXMuZGF0YTtyZXR1cm4gU3RyaW5nKGUpLnJlcGxhY2UoL3t7KFtefV0rKX19L2csKGZ1bmN0aW9uKGUsaSl7cmV0dXJuIHRyeUV2YWwoaSxuLHQuX2Vycm9ycyl9KSl9LHQucHJvdG90eXBlLmhhbmRsZVJlcXVlc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixpLHIsbyxhLHMsbCx1LGQsYz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihwKXtyZXR1cm4gbj10LnVybCxpPXQubWV0aG9kLHI9dC5ib2R5LG89dC5oZWFkZXJzLGE9SlNPTi5zdHJpbmdpZnkoe3VybDpuLG1ldGhvZDppLGJvZHk6cixoZWFkZXJzOm99KSxCdWlsZGVyLmlzSWZyYW1lJiZmZXRjaENhY2hlW2FdPyh0aGlzLnVwZGF0ZVN0YXRlKChmdW5jdGlvbih0KXt0W2VdPWZldGNoQ2FjaGVbYV19KSksWzIsZmV0Y2hDYWNoZVthXV0pOihzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcihjLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscyxsLHUsZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oYyl7c3dpdGNoKGMubGFiZWwpe2Nhc2UgMDp0PURhdGUubm93KCksQnVpbGRlci5pc0Jyb3dzZXJ8fGNvbnNvbGUudGltZShcIkZldGNoIFwiK2EpLGMubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGMudHJ5cy5wdXNoKFsxLDQsNSw2XSksbD17bWV0aG9kOmksaGVhZGVyczpvLGJvZHk6cn0sXCJHRVRcIj09PWkmJmRlbGV0ZSBsLmJvZHksWzQsZmV0Y2gkMShuLGwpXTtjYXNlIDI6cmV0dXJuWzQsYy5zZW50KCkuanNvbigpXTtjYXNlIDM6cmV0dXJuIHM9Yy5zZW50KCksWzMsNl07Y2FzZSA0OnJldHVybiB1PWMuc2VudCgpLGQ9dG9FcnJvcih1KSx0aGlzLl9lcnJvcnMmJnRoaXMuX2Vycm9ycy5wdXNoKGQpLHRoaXMuX2xvZ3MmJnRoaXMuX2xvZ3MucHVzaChcIkZldGNoIHRvIFwiLmNvbmNhdChhLFwiIGVycm9yZWQgaW4gXCIpLmNvbmNhdChEYXRlLm5vdygpLXQsXCJtc1wiKSksWzJdO2Nhc2UgNTpyZXR1cm4gQnVpbGRlci5pc0Jyb3dzZXJ8fChjb25zb2xlLnRpbWVFbmQoXCJGZXRjaCBcIithKSx0aGlzLl9sb2dzJiZ0aGlzLl9sb2dzLnB1c2goXCJGZXRjaGVkIFwiLmNvbmNhdChhLFwiIGluIFwiKS5jb25jYXQoRGF0ZS5ub3coKS10LFwibXNcIikpKSxbN107Y2FzZSA2OnJldHVybiBzJiYoQnVpbGRlci5pc0lmcmFtZSYmKGZldGNoQ2FjaGVbYV09cyksdGhpcy51cGRhdGVTdGF0ZSgoZnVuY3Rpb24odCl7dFtlXT1zfSkpKSxbMixzXX19KSl9KSl9LChsPXRoaXMuX2FzeW5jUmVxdWVzdHMmJnRoaXMuX2FzeW5jUmVxdWVzdHMuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGlzUmVxdWVzdEluZm8oZSkmJmUudXJsPT09bn0pKSk/KCh1PWwucHJvbWlzZSkudGhlbigoZnVuY3Rpb24odCl7dCYmYy51cGRhdGVTdGF0ZSgoZnVuY3Rpb24obil7bltlXT10fSkpfSkpLFsyLHVdKTooZD1zKCksQnVpbGRlci5uZXh0VGljaygoZnVuY3Rpb24oKXtjLl9hc3luY1JlcXVlc3RzJiZjLl9hc3luY1JlcXVlc3RzLnB1c2goZCl9KSksWzIsZF0pKX0pKX0pKX0sdC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLnN1YnNjcmlwdGlvbnMmJih0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKSx0aGlzLnN1YnNjcmlwdGlvbnM9bmV3IFN1YnNjcmlwdGlvbil9LHQucHJvdG90eXBlLmhhbmRsZUJ1aWxkZXJSZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxpPXRyeUV2YWwodCx0aGlzLmRhdGEsdGhpcy5fZXJyb3JzKTt0aGlzLnN1YnNjcmlwdGlvbnMmJnRoaXMudW5zdWJzY3JpYmUoKSxpJiZ0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKHRoaXMuYnVpbGRlci5xdWV1ZUdldENvbnRlbnQoaS5tb2RlbCxpKS5zdWJzY3JpYmUoKGZ1bmN0aW9uKHQpe3QmJm4udXBkYXRlU3RhdGUoKGZ1bmN0aW9uKG4pe25bZV09dH0pKX0pKSl9LHQuZGVmYXVsdHM9e2NvZGVnZW46Qm9vbGVhbihCdWlsZGVyLmlzQnJvd3NlciYmbG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcImJ1aWxkZXIuY29kZWdlbj10cnVlXCIpKX0sX19kZWNvcmF0ZShbZGVib3VuY2VOZXh0VGljayxfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLHQucHJvdG90eXBlLFwibm90aWZ5U3RhdGVDaGFuZ2VcIixudWxsKSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpO2Z1bmN0aW9uIEJ1aWxkZXJCbG9jayhlKXtyZXR1cm4gZS50eXBlPVwicmVhY3RcIixCdWlsZGVyLkNvbXBvbmVudChlKX1mdW5jdGlvbiB1cGRhdGVNZXRhZGF0YShlLHQpe3ZhciBuPUJ1aWxkZXIuY29tcG9uZW50cy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT90Lm5hbWU9PT1lOnQuY2xhc3M9PT10fSkpfHxudWxsLGk9dChuKTtuJiZpP0J1aWxkZXIucmVnaXN0ZXJDb21wb25lbnQoaS5jbGFzc3x8bi5jbGFzcyxpKTpuJiYhaXx8IW4mJmkmJkJ1aWxkZXIucmVnaXN0ZXJDb21wb25lbnQoaS5jbGFzcyxpKX1mdW5jdGlvbiB3aXRoQnVpbGRlcihlLHQpe3JldHVybiBCdWlsZGVyQmxvY2sodCkoZSksZX12YXIgaXNCdWlsZGVyRWxlbWVudD1mdW5jdGlvbihlKXtyZXR1cm4gQm9vbGVhbihcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmXCJAYnVpbGRlci5pby9zZGs6RWxlbWVudFwiPT09KG51bGw9PWU/dm9pZCAwOmVbXCJAdHlwZVwiXSkpfSx3aXRoQ2hpbGRyZW49ZnVuY3Rpb24oZSl7dmFyIHQ9UmVhY3RfX2RlZmF1bHQuZm9yd2FyZFJlZigoZnVuY3Rpb24odCxuKXt2YXIgaSxyLG89X19hc3NpZ24oe30sdCksYT10LmNoaWxkcmVufHx0LmJ1aWxkZXJCbG9jayYmdC5idWlsZGVyQmxvY2suY2hpbGRyZW4mJnQuYnVpbGRlckJsb2NrLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlckJsb2NrJDEse2tleTplLmlkLGJsb2NrOmV9KX0pKSxzPW51bGw9PT0ocj1udWxsPT09KGk9dC5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNvbXBvbmVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIub3B0aW9ucztyZXR1cm4gcyYmT2JqZWN0LmtleXMocykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9c1tlXTtBcnJheS5pc0FycmF5KHQpJiZ0LmV2ZXJ5KGlzQnVpbGRlckVsZW1lbnQpP29bZV09dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1aWxkZXJCbG9jayQxLHtrZXk6ZS5pZCxibG9jazplfSl9KSk6aXNCdWlsZGVyRWxlbWVudCh0KSYmKG9bZV09UmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyQmxvY2skMSx7YmxvY2s6dH0pKX0pKSxSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KGUsX19hc3NpZ24oe30sbyx7cmVmOm59KSxhKX0pKTtyZXR1cm4gdC5idWlsZGVyT3B0aW9ucz17Y2FuSGF2ZUNoaWxkcmVuOiEwfSx0fSxub1dyYXA9ZnVuY3Rpb24oZSl7dmFyIHQ9UmVhY3RfX2RlZmF1bHQuZm9yd2FyZFJlZigoZnVuY3Rpb24odCxuKXt2YXIgaT1fX2Fzc2lnbihfX2Fzc2lnbih7fSx0KSx0LmF0dHJpYnV0ZXMpO3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KGUsX19hc3NpZ24oe30saSx7cmVmOm59KSl9KSk7cmV0dXJuIHQuYnVpbGRlck9wdGlvbnM9e25vV3JhcDohMH0sdH0saWNvblVybD1cImh0dHBzOi8vZmlyZWJhc2VzdG9yYWdlLmdvb2dsZWFwaXMuY29tL3YwL2IvYnVpbGRlci0zYjBhMi5hcHBzcG90LmNvbS9vL2ltYWdlcyUyRmJhc2VsaW5lLXRleHRfZmllbGRzLTI0cHglMjAoMSkuc3ZnP2FsdD1tZWRpYSZ0b2tlbj0xMjE3N2I3My0wZWUzLTQyY2EtOThjNi0wZGQwMDNkZTE5MjlcIixUZXh0Q29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQudGV4dFJlZj1udWxsLHR9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50PWZ1bmN0aW9uKCl7dGhpcy50ZXh0UmVmJiYhL3t7KFtefV0rKX19Ly50ZXN0KHRoaXMucHJvcHMudGV4dCkmJih0aGlzLnRleHRSZWYuaW5uZXJIVE1MPXRoaXMucHJvcHMudGV4dCl9LHQucHJvdG90eXBlLmV2YWxFeHByZXNzaW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYWxsb3dUZXh0RWRpdD9TdHJpbmcoZSk6U3RyaW5nKGUpLnJlcGxhY2UoL3t7KFtefV0rKX19L2csKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHRyeUV2YWwobix0KX0pKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYWxsb3dUZXh0RWRpdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQnVpbGRlci5pc0Jyb3dzZXImJkJ1aWxkZXIuaXNFZGl0aW5nJiZsb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoXCJidWlsZGVyLmFsbG93VGV4dEVkaXQ9dHJ1ZVwiKSYmISh0aGlzLnByb3BzLmJ1aWxkZXJCbG9jayYmdGhpcy5wcm9wcy5idWlsZGVyQmxvY2suYmluZGluZ3MmJih0aGlzLnByb3BzLmJ1aWxkZXJCbG9jay5iaW5kaW5nc1tcImNvbXBvbmVudC5vcHRpb25zLnRleHRcIl18fHRoaXMucHJvcHMuYnVpbGRlckJsb2NrLmJpbmRpbmdzW1wib3B0aW9ucy50ZXh0XCJdfHx0aGlzLnByb3BzLmJ1aWxkZXJCbG9jay5iaW5kaW5ncy50ZXh0KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXtvdXRsaW5lOlwibm9uZVwiLFwiJiBwOmZpcnN0LW9mLXR5cGUsICYgLmJ1aWxkZXItcGFyYWdyYXBoOmZpcnN0LW9mLXR5cGVcIjp7bWFyZ2luOjB9LFwiJiA+IHAsICYgLmJ1aWxkZXItcGFyYWdyYXBoXCI6e2NvbG9yOlwiaW5oZXJpdFwiLGxpbmVIZWlnaHQ6XCJpbmhlcml0XCIsbGV0dGVyU3BhY2luZzpcImluaGVyaXRcIixmb250V2VpZ2h0OlwiaW5oZXJpdFwiLGZvbnRTaXplOlwiaW5oZXJpdFwiLHRleHRBbGlnbjpcImluaGVyaXRcIixmb250RmFtaWx5OlwiaW5oZXJpdFwifX07cmV0dXJuIGpzeChCdWlsZGVyU3RvcmVDb250ZXh0LkNvbnN1bWVyLG51bGwsKGZ1bmN0aW9uKG4pe3ZhciBpO3JldHVybihudWxsPT09KGk9bi5jb250ZW50Lm1ldGEpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnJ0bE1vZGUpJiYodC5kaXJlY3Rpb249XCJydGxcIiksanN4KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LG51bGwsanN4KFwic3BhblwiLF9fYXNzaWduKHtyZWY6ZnVuY3Rpb24odCl7ZS50ZXh0UmVmPXR9LGNzczp0LGNsYXNzTmFtZTpcImJ1aWxkZXItdGV4dFwifSx7ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6e19faHRtbDplLmV2YWxFeHByZXNzaW9uKGUucHJvcHMudGV4dHx8ZS5wcm9wcy5jb250ZW50fHxcIlwiLG4uc3RhdGUpfX0pKSl9KSl9LHR9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksVGV4dD13aXRoQnVpbGRlcihUZXh0Q29tcG9uZW50LHtuYW1lOlwiVGV4dFwiLHN0YXRpYzohMCxpbWFnZTppY29uVXJsLGlucHV0czpbe25hbWU6XCJ0ZXh0XCIsdHlwZTpcImh0bWxcIixyZXF1aXJlZDohMCxhdXRvRm9jdXM6ITAsYnViYmxlOiEwLGRlZmF1bHRWYWx1ZTpcIkVudGVyIHNvbWUgdGV4dC4uLlwifV0sZGVmYXVsdFN0eWxlczp7bGluZUhlaWdodDpcIm5vcm1hbFwiLGhlaWdodDpcImF1dG9cIix0ZXh0QWxpZ246XCJjZW50ZXJcIn19KTtmdW5jdGlvbiBTbG90KGUpe3ZhciB0PWUubmFtZSxuPXVzZUNvbnRleHQoQnVpbGRlclN0b3JlQ29udGV4dCksaT0hbi5jb250ZXh0LnN5bWJvbElkO3JldHVybiBqc3goXCJkaXZcIixfX2Fzc2lnbih7Y3NzOntwb2ludGVyRXZlbnRzOlwiYXV0b1wifX0saSYme1wiYnVpbGRlci1zbG90XCI6dH0pLGpzeChCdWlsZGVyQmxvY2tzLHtjaGlsZDohMCxwYXJlbnRFbGVtZW50SWQ6bi5jb250ZXh0LnN5bWJvbElkLGRhdGFQYXRoOlwic3ltYm9sLmRhdGEuXCIuY29uY2F0KHQpLGJsb2NrczpuLnN0YXRlW3RdfHxbXX0pKX1CdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50KFNsb3Qse25hbWU6XCJTbG90XCIsZGVzY3JpcHRpb246XCJBbGxvdyBjaGlsZCBibG9ja3MgdG8gYmUgaW5zZXJ0ZWQgaW50byB0aGlzIGNvbnRlbnQgd2hlbiB1c2VkIGFzIGEgU3ltYm9sXCIsZG9jc0xpbms6XCJodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9zeW1ib2xzLXdpdGgtYmxvY2tzXCIsaW1hZ2U6XCJodHRwczovL2Nkbi5idWlsZGVyLmlvL2FwaS92MS9pbWFnZS9hc3NldHMlMkZZSklHYjRpMDFqdncwU1JkTDVCdCUyRjNhYWQ2ZGUzNmVhZTQzYjU5YjUyYzg1MTkwZmRlZjU2XCIsaW5wdXRzOlt7bmFtZTpcIm5hbWVcIix0eXBlOlwic3RyaW5nXCIscmVxdWlyZWQ6ITAsZGVmYXVsdFZhbHVlOlwiY2hpbGRyZW5cIn1dfSk7dmFyIEZyYWdtZW50Q29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5idWlsZGVyQmxvY2smJnRoaXMucHJvcHMuYnVpbGRlckJsb2NrLmNoaWxkcmVuJiZ0aGlzLnByb3BzLmJ1aWxkZXJCbG9jay5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlckJsb2NrJDEse2Jsb2NrOmUsa2V5OmUuaWQsaW5kZXg6dH0pfSkpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLEZyYWdtZW50PXdpdGhCdWlsZGVyKEZyYWdtZW50Q29tcG9uZW50LHtuYW1lOlwiQ29yZTpGcmFnbWVudFwiLGNhbkhhdmVDaGlsZHJlbjohMCxub1dyYXA6ITAsc3RhdGljOiEwLGhpZGVGcm9tSW5zZXJ0TWVudTohMH0pLERFRkFVTFRfQVNQRUNUX1JBVElPJDI9LjcwMDQwNDg1ODI5OTU5NDgsZGVmYXVsdEJsb2Nrcz1be1wiQHR5cGVcIjpcIkBidWlsZGVyLmlvL3NkazpFbGVtZW50XCIscmVzcG9uc2l2ZVN0eWxlczp7bGFyZ2U6e2Rpc3BsYXk6XCJmbGV4XCIsZmxleERpcmVjdGlvbjpcImNvbHVtblwiLGFsaWduSXRlbXM6XCJzdHJldGNoXCIsZmxleFNocmluazpcIjBcIixwb3NpdGlvbjpcInJlbGF0aXZlXCIsbWFyZ2luVG9wOlwiMzBweFwiLHRleHRBbGlnbjpcImNlbnRlclwiLGxpbmVIZWlnaHQ6XCJub3JtYWxcIixoZWlnaHQ6XCJhdXRvXCIsbWluSGVpZ2h0OlwiMjBweFwiLG1pbldpZHRoOlwiMjBweFwiLG92ZXJmbG93OlwiaGlkZGVuXCJ9fSxjb21wb25lbnQ6e25hbWU6XCJJbWFnZVwiLG9wdGlvbnM6e2ltYWdlOlwiaHR0cHM6Ly9idWlsZGVyLmlvL2FwaS92MS9pbWFnZS9hc3NldHMlMkZwd2dqZjBSb1lXYmRuSlNicEJBalhOUk1lOUYyJTJGZmIyN2E3Yzc5MDMyNDI5NGFmOGJlMWMzNWZlMzBmNGRcIixiYWNrZ3JvdW5kUG9zaXRpb246XCJjZW50ZXJcIixiYWNrZ3JvdW5kU2l6ZTpcImNvdmVyXCIsYXNwZWN0UmF0aW86REVGQVVMVF9BU1BFQ1RfUkFUSU8kMn19fSx7XCJAdHlwZVwiOlwiQGJ1aWxkZXIuaW8vc2RrOkVsZW1lbnRcIixyZXNwb25zaXZlU3R5bGVzOntsYXJnZTp7ZGlzcGxheTpcImZsZXhcIixmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIsYWxpZ25JdGVtczpcInN0cmV0Y2hcIixmbGV4U2hyaW5rOlwiMFwiLHBvc2l0aW9uOlwicmVsYXRpdmVcIixtYXJnaW5Ub3A6XCIzMHB4XCIsdGV4dEFsaWduOlwiY2VudGVyXCIsbGluZUhlaWdodDpcIm5vcm1hbFwiLGhlaWdodDpcImF1dG9cIn19LGNvbXBvbmVudDp7bmFtZTpcIlRleHRcIixvcHRpb25zOnt0ZXh0OlwiPHA+RW50ZXIgc29tZSB0ZXh0Li4uPC9wPlwifX19XSxDb2x1bW5zQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb2x1bW5zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLmNvbHVtbnN8fFtdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImd1dHRlclNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHRoaXMucHJvcHMuc3BhY2U/dGhpcy5wcm9wcy5zcGFjZXx8MDoyMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb2x1bW5zW2VdJiZ0aGlzLmNvbHVtbnNbZV0ud2lkdGh8fDEwMC90aGlzLmNvbHVtbnMubGVuZ3RofSx0LnByb3RvdHlwZS5nZXRDb2x1bW5XaWR0aD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbHVtbnMsbj10aGlzLmd1dHRlclNpemUsaT10aGlzLmdldFdpZHRoKGUpLHI9bioodC5sZW5ndGgtMSkqKGkvMTAwKTtyZXR1cm5cImNhbGMoXCIuY29uY2F0KGksXCIlIC0gXCIpLmNvbmNhdChyLFwicHgpXCIpfSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZSx0LG4saSxyPXRoaXMsbz10aGlzLmNvbHVtbnMsYT10aGlzLmd1dHRlclNpemUscz0obnVsbD09PShpPW51bGw9PT0obj1udWxsPT09KHQ9dGhpcy5wcm9wcy5idWlsZGVyU3RhdGUpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNvbnRleHQuYnVpbGRlckNvbnRlbnQpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm1ldGEpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmJyZWFrcG9pbnRzKXx8e30sbD1nZXRTaXplc0ZvckJyZWFrcG9pbnRzKHMpO3JldHVybiBqc3goUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsbnVsbCxqc3goXCJkaXZcIix7Y2xhc3NOYW1lOlwiYnVpbGRlci1jb2x1bW5zXCIsY3NzOl9fYXNzaWduKHtkaXNwbGF5OlwiZmxleFwiLGhlaWdodDpcIjEwMCVcIn0sXCJuZXZlclwiIT09dGhpcy5wcm9wcy5zdGFja0NvbHVtbnNBdCYmKGU9e30sZVtcIkBtZWRpYSAobWF4LXdpZHRoOiBcIi5jb25jYXQoXCJ0YWJsZXRcIiE9PXRoaXMucHJvcHMuc3RhY2tDb2x1bW5zQXQ/bC5zbWFsbC5tYXg6bC5tZWRpdW0ubWF4LFwicHgpXCIpXT17ZmxleERpcmVjdGlvbjp0aGlzLnByb3BzLnJldmVyc2VDb2x1bW5zV2hlblN0YWNrZWQ/XCJjb2x1bW4tcmV2ZXJzZVwiOlwiY29sdW1uXCIsYWxpZ25JdGVtczpcInN0cmV0Y2hcIn0sZSkpfSxvLm1hcCgoZnVuY3Rpb24oZSx0KXt2YXIgbixpLG89ZS5saW5rP0xpbms6XCJkaXZcIjtyZXR1cm4ganN4KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LHtrZXk6dH0sanN4KG8sX19hc3NpZ24oe2NsYXNzTmFtZTpcImJ1aWxkZXItY29sdW1uXCJ9LGUubGluaz97aHJlZjplLmxpbmt9Om51bGwse2NzczpfX2Fzc2lnbigobj17ZGlzcGxheTpcImZsZXhcIixmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIsYWxpZ25JdGVtczpcInN0cmV0Y2hcIixsaW5lSGVpZ2h0Olwibm9ybWFsXCJ9LG5bXCImID4gLmJ1aWxkZXItYmxvY2tzXCJdPXtmbGV4R3JvdzoxfSxuLndpZHRoPXIuZ2V0Q29sdW1uV2lkdGgodCksbi5tYXJnaW5MZWZ0PTA9PT10PzA6YSxuKSxcIm5ldmVyXCIhPT1yLnByb3BzLnN0YWNrQ29sdW1uc0F0JiYoaT17fSxpW1wiQG1lZGlhIChtYXgtd2lkdGg6IFwiLmNvbmNhdChcInRhYmxldFwiIT09ci5wcm9wcy5zdGFja0NvbHVtbnNBdD9sLnNtYWxsLm1heDpsLm1lZGl1bS5tYXgsXCJweClcIildPXt3aWR0aDpcIjEwMCVcIixtYXJnaW5MZWZ0OjB9LGkpKX0pLGpzeChCdWlsZGVyQmxvY2tzLHtrZXk6dCxjaGlsZDohMCxwYXJlbnRFbGVtZW50SWQ6ci5wcm9wcy5idWlsZGVyQmxvY2smJnIucHJvcHMuYnVpbGRlckJsb2NrLmlkLGJsb2NrczplLmJsb2NrcyxkYXRhUGF0aDpcImNvbXBvbmVudC5vcHRpb25zLmNvbHVtbnMuXCIuY29uY2F0KHQsXCIuYmxvY2tzXCIpfSkpKX0pKSkpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLENvbHVtbnM9d2l0aEJ1aWxkZXIoQ29sdW1uc0NvbXBvbmVudCx7bmFtZTpcIkNvbHVtbnNcIixzdGF0aWM6ITAsaW5wdXRzOlt7bmFtZTpcImNvbHVtbnNcIix0eXBlOlwiYXJyYXlcIixicm9hZGNhc3Q6ITAsc3ViRmllbGRzOlt7bmFtZTpcImJsb2Nrc1wiLHR5cGU6XCJhcnJheVwiLGhpZGVGcm9tVUk6ITAsZGVmYXVsdFZhbHVlOmRlZmF1bHRCbG9ja3N9LHtuYW1lOlwid2lkdGhcIix0eXBlOlwibnVtYmVyXCIsaGlkZUZyb21VSTohMCxoZWxwZXJUZXh0OlwiV2lkdGggJSwgZS5nLiBzZXQgdG8gNTAgdG8gZmlsbCBoYWxmIG9mIHRoZSBzcGFjZVwifSx7bmFtZTpcImxpbmtcIix0eXBlOlwidXJsXCIsaGVscGVyVGV4dDpcIk9wdGlvbmFsbHkgc2V0IGEgdXJsIHRoYXQgY2xpY2tpbmcgdGhpcyBjb2x1bW4gd2lsbCBsaW5rIHRvXCJ9XSxkZWZhdWx0VmFsdWU6W3tibG9ja3M6ZGVmYXVsdEJsb2Nrc30se2Jsb2NrczpkZWZhdWx0QmxvY2tzfV0sb25DaGFuZ2U6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe24uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5kZWxldGUoXCJ3aWR0aFwiKX0pKX12YXIgbj1lLmdldChcImNvbHVtbnNcIik7QXJyYXkuaXNBcnJheShuKSYmKCFuLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldChcIndpZHRoXCIpfSkpfHwobi5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4hZS5nZXQoXCJ3aWR0aFwiKX0pKXx8MTAwIT09bi5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdC5nZXQoXCJ3aWR0aFwiKX0pLDApKSYmdCgpKX19LHtuYW1lOlwic3BhY2VcIix0eXBlOlwibnVtYmVyXCIsZGVmYXVsdFZhbHVlOjIwLGhlbHBlclRleHQ6XCJTaXplIG9mIGdhcCBiZXR3ZWVuIGNvbHVtbnNcIixhZHZhbmNlZDohMH0se25hbWU6XCJzdGFja0NvbHVtbnNBdFwiLHR5cGU6XCJzdHJpbmdcIixkZWZhdWx0VmFsdWU6XCJ0YWJsZXRcIixoZWxwZXJUZXh0OlwiQ29udmVydCBob3Jpem9udGFsIGNvbHVtbnMgdG8gdmVydGljYWwgYXQgd2hhdCBkZXZpY2Ugc2l6ZVwiLGVudW06W1widGFibGV0XCIsXCJtb2JpbGVcIixcIm5ldmVyXCJdLGFkdmFuY2VkOiEwfSx7bmFtZTpcInJldmVyc2VDb2x1bW5zV2hlblN0YWNrZWRcIix0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHRWYWx1ZTohMSxoZWxwZXJUZXh0OlwiV2hlbiBzdGFja2luZyBjb2x1bW5zIGZvciBtb2JpbGUgZGV2aWNlcywgcmV2ZXJzZSB0aGUgb3JkZXJpbmdcIixhZHZhbmNlZDohMH1dfSksRW1iZWRDb21wb25lbnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5lbGVtZW50UmVmPW51bGwsdC5zY3JpcHRzSW5zZXJ0ZWQ9bmV3IFNldCx0LnNjcmlwdHNSdW49bmV3IFNldCx0fXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29udGVudCE9PXRoaXMucHJvcHMuY29udGVudH0sdC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMucHJvcHMuY29udGVudCE9PWUuY29udGVudCYmdGhpcy5maW5kQW5kUnVuU2NyaXB0cygpfSx0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3RoaXMuZmluZEFuZFJ1blNjcmlwdHMoKX0sdC5wcm90b3R5cGUuZmluZEFuZFJ1blNjcmlwdHM9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnRSZWYmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpZm9yKHZhciBlPXRoaXMuZWxlbWVudFJlZi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSx0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF07aWYobi5zcmMpe2lmKHRoaXMuc2NyaXB0c0luc2VydGVkLmhhcyhuLnNyYykpY29udGludWU7dGhpcy5zY3JpcHRzSW5zZXJ0ZWQuYWRkKG4uc3JjKTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2kuYXN5bmM9ITAsaS5zcmM9bi5zcmMsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChpKX1lbHNle2lmKHRoaXMuc2NyaXB0c1J1bi5oYXMobi5pbm5lclRleHQpKWNvbnRpbnVlO3RoaXMuc2NyaXB0c1J1bi5hZGQobi5pbm5lclRleHQpO3RyeXtuZXcgRnVuY3Rpb24obi5pbm5lclRleHQpKCl9Y2F0Y2goZSl7Y29uc29sZS53YXJuKFwiQnVpbGRlciBjdXN0b20gY29kZSBjb21wb25lbnQgZXJyb3I6XCIsZSl9fX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNvbnRlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEJ1aWxkZXIuaXNTZXJ2ZXI/KHRoaXMucHJvcHMuY29udGVudHx8XCJcIikucmVwbGFjZSgvPHNjcmlwdFtcXHNcXFNdKj88XFwvc2NyaXB0Pi9nLFwiXCIpOnRoaXMucHJvcHMuY29udGVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIse3JlZjpmdW5jdGlvbih0KXtyZXR1cm4gZS5lbGVtZW50UmVmPXR9LGNsYXNzTmFtZTpcImJ1aWxkZXItZW1iZWRcIixkYW5nZXJvdXNseVNldElubmVySFRNTDp7X19odG1sOnRoaXMuY29udGVudH19KX0sdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxFbWJlZD13aXRoQnVpbGRlcihFbWJlZENvbXBvbmVudCx7bmFtZTpcIkVtYmVkXCIsc3RhdGljOiEwLGlucHV0czpbe25hbWU6XCJ1cmxcIix0eXBlOlwidXJsXCIscmVxdWlyZWQ6ITAsZGVmYXVsdFZhbHVlOlwiXCIsaGVscGVyVGV4dDpcImUuZy4gZW50ZXIgYSB5b3V0dWJlIHVybCwgZ29vZ2xlIG1hcCwgZXRjXCJ9LHtuYW1lOlwiY29udGVudFwiLHR5cGU6XCJodG1sXCIsZGVmYXVsdFZhbHVlOic8ZGl2IHN0eWxlPVwicGFkZGluZzogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyXCI+KENob29zZSBhbiBlbWJlZCBVUkwpPGRpdj4nLGhpZGVGcm9tVUk6ITB9XX0pLGdsb2JhbFJlcGxhY2VOb2Rlcz17fXx8bnVsbCxpc1Nob3BpZnkkMT1CdWlsZGVyLmlzQnJvd3NlciYmXCJTaG9waWZ5XCJpbiB3aW5kb3c7aWYoQnVpbGRlci5pc0Jyb3dzZXImJmdsb2JhbFJlcGxhY2VOb2Rlcyl7dmFyIGN1c3RvbUNvZGVRdWVyeVNlbGVjdG9yXzE9XCIuYnVpbGRlci1jdXN0b20tY29kZVwiO3RyeXt2YXIgYWxsQ3VzdG9tQ29kZUVsZW1lbnRzXzE9QXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGN1c3RvbUNvZGVRdWVyeVNlbGVjdG9yXzEpKSxidWlsZGVyVGVtcGxhdGVzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ZW1wbGF0ZVtkYXRhLXRlbXBsYXRlLXZhcmlhbnQtaWRdXCIpO2J1aWxkZXJUZW1wbGF0ZXMubGVuZ3RoJiZBcnJheS5mcm9tKGJ1aWxkZXJUZW1wbGF0ZXMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKGN1c3RvbUNvZGVRdWVyeVNlbGVjdG9yXzEpO3QubGVuZ3RoJiYoYWxsQ3VzdG9tQ29kZUVsZW1lbnRzXzE9YWxsQ3VzdG9tQ29kZUVsZW1lbnRzXzEuY29uY2F0KEFycmF5LmZyb20odCkpKX0pKSxhbGxDdXN0b21Db2RlRWxlbWVudHNfMS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudEVsZW1lbnQsbj10JiZ0LmdldEF0dHJpYnV0ZShcImJ1aWxkZXItaWRcIik7biYmKGdsb2JhbFJlcGxhY2VOb2Rlc1tuXT1nbG9iYWxSZXBsYWNlTm9kZXNbbl18fFtdLGdsb2JhbFJlcGxhY2VOb2Rlc1tuXS5wdXNoKGlzU2hvcGlmeSQxP2U6ZS5jbG9uZU5vZGUoITApKSl9KSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIkJ1aWxkZXIgcmVwbGFjZSBub2RlcyBlcnJvcjpcIixlKX19dmFyIEN1c3RvbUNvZGVDb21wb25lbnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbixpPXRoaXM7aWYoKGk9ZS5jYWxsKHRoaXMsdCl8fHRoaXMpLmVsZW1lbnRSZWY9bnVsbCxpLm9yaWdpbmFsUmVmPW51bGwsaS5zY3JpcHRzSW5zZXJ0ZWQ9bmV3IFNldCxpLnNjcmlwdHNSdW49bmV3IFNldCxpLmZpcnN0TG9hZD0hMCxpLnJlcGxhY2VOb2Rlcz0hMSxpLnN0YXRlPXtoeWRyYXRlZDohMX0sQnVpbGRlci5pc0Jyb3dzZXIpe3ZhciByPW51bGw9PT0obj1pLnByb3BzLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PW4/dm9pZCAwOm4uaWQ7aWYoaS5yZXBsYWNlTm9kZXM9Qm9vbGVhbihCdWlsZGVyLmlzQnJvd3NlciYmKHQucmVwbGFjZU5vZGVzfHxpc1Nob3BpZnkkMSkmJnImJihudWxsPT1nbG9iYWxSZXBsYWNlTm9kZXM/dm9pZCAwOmdsb2JhbFJlcGxhY2VOb2Rlc1tyXSkpLGkuZmlyc3RMb2FkJiZpLnByb3BzLmJ1aWxkZXJCbG9jaylpZihyJiYobnVsbD09Z2xvYmFsUmVwbGFjZU5vZGVzP3ZvaWQgMDpnbG9iYWxSZXBsYWNlTm9kZXNbcl0pKXt2YXIgbz1nbG9iYWxSZXBsYWNlTm9kZXNbcl0uc2hpZnQoKXx8bnVsbDtpLm9yaWdpbmFsUmVmPW8sMD09PWdsb2JhbFJlcGxhY2VOb2Rlc1tyXS5sZW5ndGgmJmRlbGV0ZSBnbG9iYWxSZXBsYWNlTm9kZXNbcl19ZWxzZSBpZihpLnJlcGxhY2VOb2Rlcyl7dmFyIGE9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5cIi5jb25jYXQoaS5wcm9wcy5idWlsZGVyQmxvY2suaWQsXCIgLmJ1aWxkZXItY3VzdG9tLWNvZGVcIikpO2lmKDE9PT1hLmxlbmd0aCl7dmFyIHM9YVswXTtpLm9yaWdpbmFsUmVmPXMsaS5vcmlnaW5hbFJlZi5yZW1vdmUoKX19fXJldHVybiBpfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29kZSE9PXRoaXMucHJvcHMuY29kZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibm9SZWFjdFJlbmRlclwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gQm9vbGVhbihpc1Nob3BpZnkkMSYmKG51bGw9PT0oZT10aGlzLnByb3BzLmNvZGUpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm1hdGNoKC97W3slXS9nKSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlzSHlkcmF0aW5nXCIse2dldDpmdW5jdGlvbigpe3JldHVybiFpc1Nob3BpZnkkMSYmdGhpcy5vcmlnaW5hbFJlZn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy5wcm9wcy5jb2RlIT09ZS5jb2RlJiZ0aGlzLmZpbmRBbmRSdW5TY3JpcHRzKCl9LHQucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmZpcnN0TG9hZD0hMSx0aGlzLnJlcGxhY2VOb2Rlc3x8KHRoaXMuaXNIeWRyYXRpbmc/KHRoaXMuc2V0U3RhdGUoe2h5ZHJhdGVkOiEwfSksQnVpbGRlci5uZXh0VGljaygoZnVuY3Rpb24oKXtyZXR1cm4gZS5maW5kQW5kUnVuU2NyaXB0cygpfSkpKTp0aGlzLmZpbmRBbmRSdW5TY3JpcHRzKCkpLEJ1aWxkZXIuaXNCcm93c2VyJiZ0aGlzLnJlcGxhY2VOb2RlcyYmdGhpcy5vcmlnaW5hbFJlZiYmdGhpcy5lbGVtZW50UmVmJiZ0aGlzLmVsZW1lbnRSZWYuYXBwZW5kQ2hpbGQodGhpcy5vcmlnaW5hbFJlZil9LHQucHJvdG90eXBlLmZpbmRBbmRSdW5TY3JpcHRzPWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50UmVmJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KWZvcih2YXIgZT10aGlzLmVsZW1lbnRSZWYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIiksdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO2lmKG4uc3JjKXtpZih0aGlzLnNjcmlwdHNJbnNlcnRlZC5oYXMobi5zcmMpKWNvbnRpbnVlO3RoaXMuc2NyaXB0c0luc2VydGVkLmFkZChuLnNyYyk7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtpLmFzeW5jPSEwLGkuc3JjPW4uc3JjLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoaSl9ZWxzZSBpZighbi50eXBlfHxbXCJ0ZXh0L2phdmFzY3JpcHRcIixcImFwcGxpY2F0aW9uL2phdmFzY3JpcHRcIixcImFwcGxpY2F0aW9uL2VjbWFzY3JpcHRcIl0uaW5jbHVkZXMobi50eXBlKSl7aWYodGhpcy5zY3JpcHRzUnVuLmhhcyhuLmlubmVyVGV4dCkpY29udGludWU7dHJ5e3RoaXMuc2NyaXB0c1J1bi5hZGQobi5pbm5lclRleHQpLG5ldyBGdW5jdGlvbihuLmlubmVyVGV4dCkoKX1jYXRjaChlKXtjb25zb2xlLndhcm4oXCJCdWlsZGVyIGN1c3RvbSBjb2RlIGNvbXBvbmVudCBlcnJvcjpcIixlKX19fX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY29kZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4oQnVpbGRlci5pc1NlcnZlcnx8dGhpcy5pc0h5ZHJhdGluZyYmdGhpcy5maXJzdExvYWQpJiZ0aGlzLnByb3BzLnNjcmlwdHNDbGllbnRPbmx5Pyh0aGlzLnByb3BzLmNvZGV8fFwiXCIpLnJlcGxhY2UoLzxzY3JpcHRcXGJbXjxdKig/Oig/ITxcXC9zY3JpcHQ+KTxbXjxdKikqPFxcL3NjcmlwdD4vZ2ksXCJcIik6dGhpcy5wcm9wcy5jb2RlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixfX2Fzc2lnbih7cmVmOmZ1bmN0aW9uKHQpe3JldHVybiBlLmVsZW1lbnRSZWY9dH0sY2xhc3NOYW1lOlwiYnVpbGRlci1jdXN0b20tY29kZVwifSwhdGhpcy5yZXBsYWNlTm9kZXMmJiF0aGlzLm5vUmVhY3RSZW5kZXImJntkYW5nZXJvdXNseVNldElubmVySFRNTDp7X19odG1sOnRoaXMuY29kZX19KSl9LHR9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksQ3VzdG9tQ29kZT13aXRoQnVpbGRlcihDdXN0b21Db2RlQ29tcG9uZW50LHtuYW1lOlwiQ3VzdG9tIENvZGVcIixzdGF0aWM6ITAscmVxdWlyZWRQZXJtaXNzaW9uczpbXCJlZGl0Q29kZVwiXSxpbnB1dHM6W3tuYW1lOlwiY29kZVwiLHR5cGU6XCJodG1sXCIscmVxdWlyZWQ6ITAsZGVmYXVsdFZhbHVlOlwiPHA+SGVsbG8gdGhlcmUsIEkgYW0gY3VzdG9tIEhUTUwgY29kZSE8L3A+XCIsY29kZTohMH0sX19hc3NpZ24oe25hbWU6XCJyZXBsYWNlTm9kZXNcIix0eXBlOlwiYm9vbGVhblwiLGhlbHBlclRleHQ6XCJQcmVzZXJ2ZSBzZXJ2ZXIgcmVuZGVyZWQgZG9tIG5vZGVzXCIsYWR2YW5jZWQ6ITB9LGlzU2hvcGlmeSQxJiZ7ZGVmYXVsdFZhbHVlOiEwfSksX19hc3NpZ24oe25hbWU6XCJzY3JpcHRzQ2xpZW50T25seVwiLHR5cGU6XCJib29sZWFuXCIsaGVscGVyVGV4dDpcIk9ubHkgcHJpbnQgYW5kIHJ1biBzY3JpcHRzIG9uIHRoZSBjbGllbnQuIEltcG9ydGFudCB3aGVuIHNjcmlwdHMgaW5mbHVlbmNlIERPTSB0aGF0IGNvdWxkIGJlIHJlcGxhY2VkIHdoZW4gY2xpZW50IGxvYWRzXCIsYWR2YW5jZWQ6ITB9LCFpc1Nob3BpZnkkMSYme2RlZmF1bHRWYWx1ZTohMH0pXX0pLElNQUdFX0ZJTEVfVFlQRVM9W1wianBlZ1wiLFwianBnXCIsXCJwbmdcIixcInN2Z1wiLFwid2VicFwiLFwiZ2lmXCIsXCJqZmlmXCIsXCJwanBlZ1wiLFwicGpwXCIsXCJhcG5nXCIsXCJhdmlmXCIsXCJ0aWZcIixcInRpZmZcIixcImhlaWZcIixcImJtcFwiLFwiZXBzXCIsXCJyYXdcIixcImNyMlwiLFwibmVmXCIsXCJvcmZcIixcInNyMlwiLFwicHNkXCIsXCJoZWljXCIsXCJkaWJcIixcImFpXCJdLFZJREVPX0ZJTEVfVFlQRVM9W1wibXA0XCIsXCJ3ZWJtXCIsXCJta3ZcIixcImZsdlwiLFwidm9iXCIsXCJvZ3ZcIixcIm9nZ1wiLFwiZHJjXCIsXCJnaWZcIixcImdpZnZcIixcIm1uZ1wiLFwiYXZpXCIsXCJtb3ZcIixcInF0XCIsXCJtdHNcIixcIm0ydHNcIixcInRzXCIsXCJ3bXZcIixcInl1dlwiLFwicm1cIixcInJtdmJcIixcInZpdlwiLFwiYXNmXCIsXCJhbXZcIixcIm00cFwiLFwibXBlZ1wiLFwibXBlXCIsXCJtMnZcIixcIm00dlwiLFwic3ZpXCIsXCIzZ3BcIixcIjNnMlwiLFwibXhmXCIsXCJyb3FcIixcIm5zdlwiLFwiZjR2XCIsXCJmNHBcIixcImY0YVwiLFwiZjRiXCJdO2Z1bmN0aW9uIHJlbW92ZVByb3RvY29sKGUpe3JldHVybiBlLnJlcGxhY2UoL2h0dHAocyk/Oi8sXCJcIil9ZnVuY3Rpb24gaXNFbGVtZW50SW5WaWV3cG9ydChlKXt2YXIgdD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiB0LnRvcD49MCYmdC5sZWZ0Pj0wJiZ0LmJvdHRvbTw9KHdpbmRvdy5pbm5lckhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkmJnQucmlnaHQ8PSh3aW5kb3cuaW5uZXJXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKX1mdW5jdGlvbiBnZXRTaG9waWZ5SW1hZ2VVcmwoZSx0KXtpZighZXx8IShudWxsPT1lP3ZvaWQgMDplLm1hdGNoKC9jZG5cXC5zaG9waWZ5XFwuY29tLykpfHwhdClyZXR1cm4gZTtpZihcIm1hc3RlclwiPT09dClyZXR1cm4gcmVtb3ZlUHJvdG9jb2woZSk7dmFyIG49ZS5tYXRjaCgvKF9cXGQreChcXGQrKT8pPyhcXC4oanBnfGpwZWd8Z2lmfHBuZ3xibXB8Yml0bWFwfHRpZmZ8dGlmKShcXD92PVxcZCspPykvaSk7aWYobil7dmFyIGk9ZS5zcGxpdChuWzBdKSxyPW5bM10sbz10Lm1hdGNoKFwieFwiKT90OlwiXCIuY29uY2F0KHQsXCJ4XCIpO3JldHVybiByZW1vdmVQcm90b2NvbChcIlwiLmNvbmNhdChpWzBdLFwiX1wiKS5jb25jYXQobykuY29uY2F0KHIpKX1yZXR1cm4gbnVsbH12YXIgREVGQVVMVF9BU1BFQ1RfUkFUSU8kMT0uNzA0MTtmdW5jdGlvbiB1cGRhdGVRdWVyeVBhcmFtKGUsdCxuKXt2b2lkIDA9PT1lJiYoZT1cIlwiKTt2YXIgaT1uZXcgUmVnRXhwKFwiKFs/Jl0pXCIrdCtcIj0uKj8oJnwkKVwiLFwiaVwiKSxyPS0xIT09ZS5pbmRleE9mKFwiP1wiKT9cIiZcIjpcIj9cIjtyZXR1cm4gZS5tYXRjaChpKT9lLnJlcGxhY2UoaSxcIiQxXCIrdCtcIj1cIitlbmNvZGVVUklDb21wb25lbnQobikrXCIkMlwiKTplK3IrdCtcIj1cIitlbmNvZGVVUklDb21wb25lbnQobil9ZnVuY3Rpb24gZ2V0U3JjU2V0KGUpe2lmKCFlKXJldHVybiBlO3ZhciB0PVsxMDAsMjAwLDQwMCw4MDAsMTIwMCwxNjAwLDJlM107aWYoZS5tYXRjaCgvYnVpbGRlclxcLmlvLykpe3ZhciBuPWUsaT1OdW1iZXIoZS5zcGxpdChcIj93aWR0aD1cIilbMV0pO3JldHVybiBpc05hTihpKXx8KG49XCJcIi5jb25jYXQobixcIiBcIikuY29uY2F0KGksXCJ3XCIpKSx0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1pfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuXCJcIi5jb25jYXQodXBkYXRlUXVlcnlQYXJhbShlLFwid2lkdGhcIix0KSxcIiBcIikuY29uY2F0KHQsXCJ3XCIpfSkpLmNvbmNhdChbbl0pLmpvaW4oXCIsIFwiKX1yZXR1cm4gZS5tYXRjaCgvY2RuXFwuc2hvcGlmeVxcLmNvbS8pP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm5bZ2V0U2hvcGlmeUltYWdlVXJsKGUsXCJcIi5jb25jYXQodCxcInhcIikuY29uY2F0KHQpKSx0XX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhZVswXX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0sbj1lWzFdO3JldHVyblwiXCIuY29uY2F0KHQsXCIgXCIpLmNvbmNhdChuLFwid1wiKX0pKS5jb25jYXQoW2VdKS5qb2luKFwiLCBcIik6ZX12YXIgZ2V0U2l6ZXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbyxhLHMsbCx1LGQ7dm9pZCAwPT09biYmKG49e30pO3ZhciBjPVwiXCI7aWYoZSl7dmFyIHA9ZS5zcGxpdChcIixcIiksZj1wLmxlbmd0aDtjPXAubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBmPT09dCsxP2UucmVwbGFjZSgvXFwoW1xcc1xcU10qP1xcKS9nLFwiXCIpLnRyaW0oKTplfSkpLmpvaW4oXCIsIFwiKX1lbHNlIGlmKHQmJnQucmVzcG9uc2l2ZVN0eWxlcyl7dmFyIG09W10saD0hMSx2PS9eXFxkKy8sZz1nZXRTaXplc0ZvckJyZWFrcG9pbnRzKG4pO2lmKG51bGw9PT0obz1udWxsPT09KHI9bnVsbD09PShpPXQucmVzcG9uc2l2ZVN0eWxlcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc21hbGwpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLndpZHRoKXx8dm9pZCAwPT09bz92b2lkIDA6by5tYXRjaCh2KSl7aD0hMDt2YXIgYj1cIihtYXgtd2lkdGg6IFwiLmNvbmNhdChnLnNtYWxsLm1heCxcInB4KVwiKSx5PVwiXCIuY29uY2F0KGIsXCIgXCIpLmNvbmNhdCh0LnJlc3BvbnNpdmVTdHlsZXMuc21hbGwud2lkdGgucmVwbGFjZShcIiVcIixcInZ3XCIpKTttLnB1c2goeSl9aWYobnVsbD09PShsPW51bGw9PT0ocz1udWxsPT09KGE9dC5yZXNwb25zaXZlU3R5bGVzKXx8dm9pZCAwPT09YT92b2lkIDA6YS5tZWRpdW0pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLndpZHRoKXx8dm9pZCAwPT09bD92b2lkIDA6bC5tYXRjaCh2KSl7aD0hMDtiPVwiKG1heC13aWR0aDogXCIuY29uY2F0KGcubWVkaXVtLm1heCxcInB4KVwiKSx5PVwiXCIuY29uY2F0KGIsXCIgXCIpLmNvbmNhdCh0LnJlc3BvbnNpdmVTdHlsZXMubWVkaXVtLndpZHRoLnJlcGxhY2UoXCIlXCIsXCJ2d1wiKSk7bS5wdXNoKHkpfWlmKG51bGw9PT0oZD1udWxsPT09KHU9dC5yZXNwb25zaXZlU3R5bGVzKXx8dm9pZCAwPT09dT92b2lkIDA6dS5sYXJnZSl8fHZvaWQgMD09PWQ/dm9pZCAwOmQud2lkdGgpe3ZhciBfPXQucmVzcG9uc2l2ZVN0eWxlcy5sYXJnZS53aWR0aC5yZXBsYWNlKFwiJVwiLFwidndcIik7bS5wdXNoKF8pfWVsc2UgaCYmbS5wdXNoKFwiMTAwdndcIik7bS5sZW5ndGgmJihjPW0uam9pbihcIiwgXCIpKX1yZXR1cm4gY30sSW1hZ2VDb21wb25lbnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5zdGF0ZT17aW1hZ2VMb2FkZWQ6IXQudXNlTGF6eUxvYWRpbmcsbG9hZDohdC51c2VMYXp5TG9hZGluZ30sdC5waWN0dXJlUmVmPW51bGwsdC5zY3JvbGxMaXN0ZW5lcj1udWxsLHQuaW50ZXJzZWN0aW9uT2JzZXJ2ZXI9bnVsbCx0fXJldHVybiBfX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ1c2VMYXp5TG9hZGluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5wcm9wcy5oaWdoUHJpb3JpdHkmJigoIUJ1aWxkZXIuaXNCcm93c2VyfHwhbG9jYXRpb24uc2VhcmNoLmluY2x1ZGVzKFwiYnVpbGRlci5sYXp5TG9hZEltYWdlcz1mYWxzZVwiKSkmJighKCFCdWlsZGVyLmlzQnJvd3Nlcnx8IWxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCJidWlsZGVyLmxhenlMb2FkSW1hZ2VzPXRydWVcIikpfHx0aGlzLnByb3BzLmxhenkpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe0J1aWxkZXIuaXNCcm93c2VyJiYodGhpcy5zY3JvbGxMaXN0ZW5lciYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5zY3JvbGxMaXN0ZW5lciksdGhpcy5zY3JvbGxMaXN0ZW5lcj1udWxsKSx0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyJiZ0aGlzLnBpY3R1cmVSZWYmJnRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMucGljdHVyZVJlZikpfSx0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5wcm9wcy5sYXp5JiZCdWlsZGVyLmlzQnJvd3NlcilpZih0aGlzLnBpY3R1cmVSZWYmJmlzRWxlbWVudEluVmlld3BvcnQodGhpcy5waWN0dXJlUmVmKSl0aGlzLnNldFN0YXRlKHtsb2FkOiEwfSk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciYmdGhpcy5waWN0dXJlUmVmKXsodGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcj1uZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKHQsbil7dC5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmludGVyc2VjdGlvblJhdGlvPjAmJihlLnNldFN0YXRlKHtsb2FkOiEwfSksZS5waWN0dXJlUmVmJiZuLnVub2JzZXJ2ZShlLnBpY3R1cmVSZWYpKX0pKX0pKSkub2JzZXJ2ZSh0aGlzLnBpY3R1cmVSZWYpfWVsc2V7dmFyIHQ9dGhyb3R0bGUoKGZ1bmN0aW9uKG4pe2lmKGUucGljdHVyZVJlZil7dmFyIGk9ZS5waWN0dXJlUmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9d2luZG93LmlubmVySGVpZ2h0LzI7aS50b3A8d2luZG93LmlubmVySGVpZ2h0K3ImJihlLnNldFN0YXRlKF9fYXNzaWduKF9fYXNzaWduKHt9LGUuc3RhdGUpLHtsb2FkOiEwfSkpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdCksZS5zY3JvbGxMaXN0ZW5lcj1udWxsKX19KSw0MDAse2xlYWRpbmc6ITEsdHJhaWxpbmc6ITB9KTt0aGlzLnNjcm9sbExpc3RlbmVyPXQsd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0LHtjYXB0dXJlOiEwLHBhc3NpdmU6ITB9KSx0KCl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpbWFnZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5pbWFnZXx8dGhpcy5wcm9wcy5zcmN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZ2V0U3JjU2V0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pbWFnZTtpZihlJiZcInN0cmluZ1wiPT10eXBlb2YgZSYmIXRoaXMucHJvcHMubm9XZWJwJiYoZS5tYXRjaCgvYnVpbGRlclxcLmlvLyl8fGUubWF0Y2goL2NkblxcLnNob3BpZnlcXC5jb20vKSkpcmV0dXJuIGdldFNyY1NldChlKX0sdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGUsdCxuPXRoaXMsaT10aGlzLnByb3BzLHI9aS5hc3BlY3RSYXRpbyxvPWkubGF6eSxhPWkuYnVpbGRlckJsb2NrLHM9aS5idWlsZGVyU3RhdGUsbD10aGlzLnByb3BzLmJ1aWxkZXJCbG9jayYmdGhpcy5wcm9wcy5idWlsZGVyQmxvY2suY2hpbGRyZW4sdT10aGlzLnByb3BzLnNyY3NldCxkPWdldFNpemVzKHRoaXMucHJvcHMuc2l6ZXMsYSwobnVsbD09PSh0PW51bGw9PT0oZT1udWxsPT1zP3ZvaWQgMDpzLmNvbnRleHQuYnVpbGRlckNvbnRlbnQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm1ldGEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmJyZWFrcG9pbnRzKXx8e30pLGM9dGhpcy5pbWFnZTt1JiZjJiZjLmluY2x1ZGVzKFwiYnVpbGRlci5pby9hcGkvdjEvaW1hZ2VcIik/dS5pbmNsdWRlcyhjLnNwbGl0KFwiP1wiKVswXSl8fChjb25zb2xlLmRlYnVnKFwiUmVtb3ZlZCBnaXZlbiBzcmNzZXRcIiksdT10aGlzLmdldFNyY1NldCgpKTpjJiYhdSYmKHU9dGhpcy5nZXRTcmNTZXQoKSk7dmFyIHA9KG51bGw9PWE/dm9pZCAwOmEuaWQuc3RhcnRzV2l0aChcImJ1aWxkZXItcGl4ZWwtXCIpKXx8dGhpcy5wcm9wcy5oaWdoUHJpb3JpdHksZj10aGlzLnByb3BzLmZpdENvbnRlbnQ7cmV0dXJuIGpzeChCdWlsZGVyTWV0YUNvbnRleHQuQ29uc3VtZXIsbnVsbCwoZnVuY3Rpb24oZSl7dmFyIHQsaT1lLmFtcE1vZGUsYT1pP1wiYW1wLWltZ1wiOlwiaW1nXCIscz0oIW98fG4uc3RhdGUubG9hZHx8aSkmJmpzeChhLF9fYXNzaWduKHt9LGk/e2xheW91dDpcInJlc3BvbnNpdmVcIixoZWlnaHQ6bi5wcm9wcy5oZWlnaHR8fChyP01hdGgucm91bmQoMWUzKnIpOnZvaWQgMCksd2lkdGg6bi5wcm9wcy53aWR0aHx8KHI/TWF0aC5yb3VuZCgxZTMvcik6dm9pZCAwKX06bnVsbCx7YWx0Om4ucHJvcHMuYWx0VGV4dCx0aXRsZTpuLnByb3BzLnRpdGxlLGtleTpCdWlsZGVyLmlzRWRpdGluZyYmXCJzdHJpbmdcIj09dHlwZW9mIG4uaW1hZ2UmJm4uaW1hZ2Uuc3BsaXQoXCI/XCIpWzBdfHx2b2lkIDAscm9sZTpuLnByb3BzLmFsdFRleHQ/dm9pZCAwOlwicHJlc2VudGF0aW9uXCIsY3NzOl9fYXNzaWduKF9fYXNzaWduKHtvcGFjaXR5Omk/MTpuLnVzZUxhenlMb2FkaW5nJiYhbi5zdGF0ZS5pbWFnZUxvYWRlZD8wOjEsdHJhbnNpdGlvbjpcIm9wYWNpdHkgMC4ycyBlYXNlLWluLW91dFwiLG9iamVjdEZpdDpuLnByb3BzLmJhY2tncm91bmRTaXplfHxcImNvdmVyXCIsb2JqZWN0UG9zaXRpb246bi5wcm9wcy5iYWNrZ3JvdW5kUG9zaXRpb258fFwiY2VudGVyXCJ9LHImJiFpJiZ7cG9zaXRpb246XCJhYnNvbHV0ZVwiLGhlaWdodDpcIjEwMCVcIix3aWR0aDpcIjEwMCVcIixsZWZ0OjAsdG9wOjB9KSxpJiYodD17fSx0W1wiJiBpbWdcIl09e29iamVjdEZpdDpuLnByb3BzLmJhY2tncm91bmRTaXplLG9iamVjdFBvc2l0aW9uOm4ucHJvcHMuYmFja2dyb3VuZFBvc2l0aW9ufSx0KSksbG9hZGluZzpwP1wiZWFnZXJcIjpcImxhenlcIixmZXRjaFByaW9yaXR5OnA/XCJoaWdoXCI6XCJhdXRvXCIsY2xhc3NOYW1lOlwiYnVpbGRlci1pbWFnZVwiKyhuLnByb3BzLmNsYXNzTmFtZT9cIiBcIituLnByb3BzLmNsYXNzTmFtZTpcIlwiKSxzcmM6bi5pbWFnZX0sIWkmJntvbkxvYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zZXRTdGF0ZSh7aW1hZ2VMb2FkZWQ6ITB9KX19LHtzcmNTZXQ6dSxzaXplczohaSYmZD9kOnZvaWQgMH0pKTtyZXR1cm4ganN4KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LG51bGwsaT9zOmpzeChcInBpY3R1cmVcIix7cmVmOmZ1bmN0aW9uKGUpe3JldHVybiBuLnBpY3R1cmVSZWY9ZX19LHUmJnUubWF0Y2goL2J1aWxkZXJcXC5pby8pJiYhbi5wcm9wcy5ub1dlYnAmJmpzeChcInNvdXJjZVwiLHtzcmNTZXQ6dS5yZXBsYWNlKC9cXD8vZyxcIj9mb3JtYXQ9d2VicCZcIiksdHlwZTpcImltYWdlL3dlYnBcIn0pLHMpLCFyfHxpfHxmJiZsJiZsLmxlbmd0aD9udWxsOmpzeChcImRpdlwiLHtjbGFzc05hbWU6XCJidWlsZGVyLWltYWdlLXNpemVyXCIsY3NzOnt3aWR0aDpcIjEwMCVcIixwYWRkaW5nVG9wOjEwMCpyK1wiJVwiLHBvaW50ZXJFdmVudHM6XCJub25lXCIsZm9udFNpemU6MH19LFwiIFwiKSxsJiZsLmxlbmd0aD9mP2wubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBqc3goQnVpbGRlckJsb2NrJDEse2tleTplLmlkLGJsb2NrOmV9KX0pKTpqc3goXCJkaXZcIix7Y3NzOntkaXNwbGF5OlwiZmxleFwiLGZsZXhEaXJlY3Rpb246XCJjb2x1bW5cIixhbGlnbkl0ZW1zOlwic3RyZXRjaFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6MCxsZWZ0OjAsd2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwifX0sbC5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGpzeChCdWlsZGVyQmxvY2skMSx7a2V5OmUuaWQsYmxvY2s6ZX0pfSkpKTpudWxsKX0pKX0sdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxJbWFnZT13aXRoQnVpbGRlcihJbWFnZUNvbXBvbmVudCx7bmFtZTpcIkltYWdlXCIsc3RhdGljOiEwLGltYWdlOlwiaHR0cHM6Ly9maXJlYmFzZXN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vdjAvYi9idWlsZGVyLTNiMGEyLmFwcHNwb3QuY29tL28vaW1hZ2VzJTJGYmFzZWxpbmUtaW5zZXJ0X3Bob3RvLTI0cHguc3ZnP2FsdD1tZWRpYSZ0b2tlbj00ZTVkMGVmNC1mNWU4LTRlNTctYjNhOS0zOGQ2M2E5YjlkYzRcIixkZWZhdWx0U3R5bGVzOntwb3NpdGlvbjpcInJlbGF0aXZlXCIsbWluSGVpZ2h0OlwiMjBweFwiLG1pbldpZHRoOlwiMjBweFwiLG92ZXJmbG93OlwiaGlkZGVuXCJ9LGNhbkhhdmVDaGlsZHJlbjohMCxpbnB1dHM6W3tuYW1lOlwiaW1hZ2VcIix0eXBlOlwiZmlsZVwiLGJ1YmJsZTohMCxhbGxvd2VkRmlsZVR5cGVzOklNQUdFX0ZJTEVfVFlQRVMscmVxdWlyZWQ6ITAsZGVmYXVsdFZhbHVlOlwiaHR0cHM6Ly9jZG4uYnVpbGRlci5pby9hcGkvdjEvaW1hZ2UvYXNzZXRzJTJGWUpJR2I0aTAxanZ3MFNSZEw1QnQlMkY3MmM4MGYxMTRkYzE0OTAxOTA1MWI2ODUyYTllM2I3YVwiLG9uQ2hhbmdlOmZ1bmN0aW9uKGUpe2UuZGVsZXRlKFwic3Jjc2V0XCIpLGUuZGVsZXRlKFwibm9XZWJwXCIpO3ZhciB0LG4saT1lLmdldChcImltYWdlXCIpLHI9ZS5nZXQoXCJhc3BlY3RSYXRpb1wiKTtpZihmZXRjaChpKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5ibG9iKCl9KSkudGhlbigoZnVuY3Rpb24odCl7dC50eXBlLmluY2x1ZGVzKFwic3ZnXCIpJiZlLnNldChcIm5vV2VicFwiLCEwKX0pKSxpJiYoIXJ8fC43MDQxPT09cikpcmV0dXJuKHQ9aSx2b2lkIDA9PT1uJiYobj02ZTQpLG5ldyBQcm9taXNlKChmdW5jdGlvbihlLGkpe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksbz0hMTtyLm9ubG9hZD1mdW5jdGlvbigpe289ITAsZShyKX0sci5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwoZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiSW1hZ2UgbG9hZCBmYWlsZWRcIixlLmVycm9yKSxpKGUuZXJyb3IpfSkpLHIuc3JjPXQsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtvfHxpKG5ldyBFcnJvcihcIkltYWdlIGxvYWQgdGltZWQgb3V0XCIpKX0pLG4pfSkpKS50aGVuKChmdW5jdGlvbih0KXt2YXIgbixyPWUuZ2V0KFwiYXNwZWN0UmF0aW9cIik7ZS5nZXQoXCJpbWFnZVwiKSE9PWl8fHImJi43MDQxIT09cnx8dC53aWR0aCYmdC5oZWlnaHQmJihlLnNldChcImFzcGVjdFJhdGlvXCIsKG49dC5oZWlnaHQvdC53aWR0aCxNYXRoLnJvdW5kKDFlMypuKS8xZTMpKSxlLnNldChcImhlaWdodFwiLHQuaGVpZ2h0KSxlLnNldChcIndpZHRoXCIsdC53aWR0aCkpfSkpfX0se25hbWU6XCJiYWNrZ3JvdW5kU2l6ZVwiLHR5cGU6XCJ0ZXh0XCIsZGVmYXVsdFZhbHVlOlwiY292ZXJcIixlbnVtOlt7bGFiZWw6XCJjb250YWluXCIsdmFsdWU6XCJjb250YWluXCIsaGVscGVyVGV4dDpcIlRoZSBpbWFnZSBzaG91bGQgbmV2ZXIgZ2V0IGNyb3BwZWRcIn0se2xhYmVsOlwiY292ZXJcIix2YWx1ZTpcImNvdmVyXCIsaGVscGVyVGV4dDpcIlRoZSBpbWFnZSBzaG91bGQgZmlsbCBpdHMgYm94LCBjcm9wcGluZyB3aGVuIG5lZWRlZFwifV19LHtuYW1lOlwiYmFja2dyb3VuZFBvc2l0aW9uXCIsdHlwZTpcInRleHRcIixkZWZhdWx0VmFsdWU6XCJjZW50ZXJcIixlbnVtOltcImNlbnRlclwiLFwidG9wXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwiYm90dG9tXCIsXCJ0b3AgbGVmdFwiLFwidG9wIHJpZ2h0XCIsXCJib3R0b20gbGVmdFwiLFwiYm90dG9tIHJpZ2h0XCJdfSx7bmFtZTpcImFsdFRleHRcIix0eXBlOlwic3RyaW5nXCIsaGVscGVyVGV4dDpcIlRleHQgdG8gZGlzcGxheSB3aGVuIHRoZSB1c2VyIGhhcyBpbWFnZXMgb2ZmXCJ9LHtuYW1lOlwidGl0bGVcIix0eXBlOlwic3RyaW5nXCIsaGVscGVyVGV4dDpcIlRleHQgdG8gZGlzcGxheSB3aGVuIGhvdmVyaW5nIG92ZXIgdGhlIGFzc2V0XCJ9LHtuYW1lOlwiaGlnaFByaW9yaXR5XCIsdHlwZTpcImJvb2xlYW5cIixhZHZhbmNlZDohMCxoZWxwZXJUZXh0OlwiTWFyayB0aGlzIGltYWdlIGFzIGhpZ2ggcHJpb3JpdHkgY29tcGFyZWQgdG8gb3RoZXIgaW1hZ2VzIG9uIHRoZSBwYWdlLiBUaGlzIHByZXZlbnRzIGxhenkgbG9hZGluZyBvZiB0aGUgaW1hZ2UgYW5kIHRlbGxzIHRoZSBicm93c2VyIHRvIGxvYWQgdGhpcyBpbWFnZSBiZWZvcmUgb3RoZXJzIG9uIHRoZSBwYWdlLlwifSx7bmFtZTpcImhlaWdodFwiLHR5cGU6XCJudW1iZXJcIixoaWRlRnJvbVVJOiEwfSx7bmFtZTpcIndpZHRoXCIsdHlwZTpcIm51bWJlclwiLGhpZGVGcm9tVUk6ITB9LHtuYW1lOlwic2l6ZXNcIix0eXBlOlwic3RyaW5nXCIsaGlkZUZyb21VSTohMH0se25hbWU6XCJzcmNzZXRcIix0eXBlOlwic3RyaW5nXCIsaGlkZUZyb21VSTohMH0se25hbWU6XCJsYXp5XCIsdHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6ITAsaGlkZUZyb21VSTohMH0se25hbWU6XCJmaXRDb250ZW50XCIsdHlwZTpcImJvb2xlYW5cIixoZWxwZXJUZXh0OlwiV2hlbiBjaGlsZCBibG9ja3MgYXJlIHByb3ZpZGVkLCBmaXQgdG8gdGhlbSBpbnN0ZWFkIG9mIHVzaW5nIHRoZSBpbWFnZSdzIGFzcGVjdCByYXRpb1wiLGRlZmF1bHRWYWx1ZTohMH0se25hbWU6XCJhc3BlY3RSYXRpb1wiLHR5cGU6XCJudW1iZXJcIixoZWxwZXJUZXh0OlwiVGhpcyBpcyB0aGUgcmF0aW8gb2YgaGVpZ2h0L3dpZHRoLCBlLmcuIHNldCB0byAxLjUgZm9yIGEgMzAwcHggd2lkZSBhbmQgMjAwcHggdGFsbCBwaG90by4gU2V0IHRvIDAgdG8gbm90IGZvcmNlIHRoZSBpbWFnZSB0byBtYWludGFpbiBpdCdzIGFzcGVjdCByYXRpb1wiLGFkdmFuY2VkOiEwLGRlZmF1bHRWYWx1ZTpERUZBVUxUX0FTUEVDVF9SQVRJTyQxfV19KSxERUZBVUxUX0FTUEVDVF9SQVRJTz0uNzAwNDA0ODU4Mjk5NTk0OCxWaWRlb0NvbXBvbmVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0LnZpZGVvPW51bGwsdC5jb250YWluZXJSZWY9bnVsbCx0LmxhenlWaWRlb09ic2VydmVyPW51bGwsdC5zdGF0ZT17bG9hZDohdC5sYXp5TG9hZH0sdH1yZXR1cm4gX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibGF6eUxvYWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITEhPT10aGlzLnByb3BzLmxhenlMb2FkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnVwZGF0ZVZpZGVvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMudmlkZW87aWYodCl7W1wibXV0ZWRcIixcInBsYXlzSW5saW5lXCIsXCJhdXRvUGxheVwiXS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgaT1uLnRvTG93ZXJDYXNlKCk7ZS5wcm9wc1tuXT90LnNldEF0dHJpYnV0ZShpLGkpOnQucmVtb3ZlQXR0cmlidXRlKGkpfSkpfX0sdC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVWaWRlbygpfSx0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy51cGRhdGVWaWRlbygpLHRoaXMubGF6eUxvYWQmJkJ1aWxkZXIuaXNCcm93c2VyKXt2YXIgdD1uZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5pc0ludGVyc2VjdGluZyYmKGUuc2V0U3RhdGUoKGZ1bmN0aW9uKGUpe3JldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSxlKSx7bG9hZDohMH0pfSkpLGUubGF6eVZpZGVvT2JzZXJ2ZXImJihlLmxhenlWaWRlb09ic2VydmVyLmRpc2Nvbm5lY3QoKSxlLmxhenlWaWRlb09ic2VydmVyPW51bGwpKX0pKX0pKTt0aGlzLmNvbnRhaW5lclJlZiYmKHQub2JzZXJ2ZSh0aGlzLmNvbnRhaW5lclJlZiksdGhpcy5sYXp5VmlkZW9PYnNlcnZlcj10KX19LHQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dGhpcy5sYXp5VmlkZW9PYnNlcnZlciYmKHRoaXMubGF6eVZpZGVvT2JzZXJ2ZXIuZGlzY29ubmVjdCgpLHRoaXMubGF6eVZpZGVvT2JzZXJ2ZXI9bnVsbCl9LHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnByb3BzLG49dC5hc3BlY3RSYXRpbyxpPXQuY2hpbGRyZW47cmV0dXJuIGpzeChcImRpdlwiLHtyZWY6ZnVuY3Rpb24odCl7cmV0dXJuIGUuY29udGFpbmVyUmVmPXR9LGNzczp7cG9zaXRpb246XCJyZWxhdGl2ZVwifX0sanN4KFwidmlkZW9cIix7a2V5OnRoaXMucHJvcHMudmlkZW98fFwibm8tc3JjXCIscG9zdGVyOnRoaXMucHJvcHMucG9zdGVySW1hZ2UscmVmOmZ1bmN0aW9uKHQpe3JldHVybiBlLnZpZGVvPXR9LGF1dG9QbGF5OnRoaXMucHJvcHMuYXV0b1BsYXksbXV0ZWQ6dGhpcy5wcm9wcy5tdXRlZCxjb250cm9sczp0aGlzLnByb3BzLmNvbnRyb2xzLGxvb3A6dGhpcy5wcm9wcy5sb29wLHByZWxvYWQ6dGhpcy5wcm9wcy5wcmVsb2FkfHxcIm1ldGFkYXRhXCIsY2xhc3NOYW1lOlwiYnVpbGRlci12aWRlb1wiLGNzczpfX2Fzc2lnbih7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLG9iamVjdEZpdDp0aGlzLnByb3BzLmZpdCxvYmplY3RQb3NpdGlvbjp0aGlzLnByb3BzLnBvc2l0aW9uLGJvcmRlclJhZGl1czoxfSxuP3twb3NpdGlvbjpcImFic29sdXRlXCJ9Om51bGwpfSwoIXRoaXMubGF6eUxvYWR8fHRoaXMuc3RhdGUubG9hZCkmJmpzeChcInNvdXJjZVwiLHt0eXBlOlwidmlkZW8vbXA0XCIsc3JjOnRoaXMucHJvcHMudmlkZW99KSksIW58fHRoaXMucHJvcHMuZml0Q29udGVudCYmaT9udWxsOmpzeChcImRpdlwiLHtjc3M6e3dpZHRoOlwiMTAwJVwiLHBhZGRpbmdUb3A6MTAwKm4rXCIlXCIscG9pbnRlckV2ZW50czpcIm5vbmVcIixmb250U2l6ZTowfX0pLGkmJnRoaXMucHJvcHMuZml0Q29udGVudD9qc3goXCJkaXZcIix7Y3NzOntkaXNwbGF5OlwiZmxleFwiLGZsZXhEaXJlY3Rpb246XCJjb2x1bW5cIixhbGlnbkl0ZW1zOlwic3RyZXRjaFwifX0saSk6aT9qc3goXCJkaXZcIix7Y3NzOntwb2ludGVyRXZlbnRzOlwibm9uZVwiLGRpc3BsYXk6XCJmbGV4XCIsZmxleERpcmVjdGlvbjpcImNvbHVtblwiLGFsaWduSXRlbXM6XCJzdHJldGNoXCIscG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDowLGxlZnQ6MCx3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCJ9fSxpKTpudWxsKX0sdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxWaWRlbz1CdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50KHdpdGhDaGlsZHJlbihWaWRlb0NvbXBvbmVudCkse25hbWU6XCJWaWRlb1wiLGNhbkhhdmVDaGlsZHJlbjohMCxkZWZhdWx0U3R5bGVzOnttaW5IZWlnaHQ6XCIyMHB4XCIsbWluV2lkdGg6XCIyMHB4XCJ9LGltYWdlOlwiaHR0cHM6Ly9maXJlYmFzZXN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vdjAvYi9idWlsZGVyLTNiMGEyLmFwcHNwb3QuY29tL28vaW1hZ2VzJTJGYmFzZWxpbmUtdmlkZW9jYW0tMjRweCUyMCgxKS5zdmc/YWx0PW1lZGlhJnRva2VuPTQ5YTg0ZTRhLWIyMGUtNDk3Ny1hNjUwLTA0N2Y5ODY4NzRiYlwiLGlucHV0czpbe25hbWU6XCJ2aWRlb1wiLHR5cGU6XCJmaWxlXCIsYWxsb3dlZEZpbGVUeXBlczpWSURFT19GSUxFX1RZUEVTLGJ1YmJsZTohMCxkZWZhdWx0VmFsdWU6XCJodHRwczovL2Nkbi5idWlsZGVyLmlvL28vYXNzZXRzJTJGWUpJR2I0aTAxanZ3MFNSZEw1QnQlMkZkMjc3MzFhNTI2NDY0ZGViYTAwMTYyMTZmNWY5ZTU3MCUyRmNvbXByZXNzZWQ/YXBpS2V5PVlKSUdiNGkwMWp2dzBTUmRMNUJ0JnRva2VuPWQyNzczMWE1MjY0NjRkZWJhMDAxNjIxNmY1ZjllNTcwJmFsdD1tZWRpYSZvcHRpbWl6ZWQ9dHJ1ZVwiLHJlcXVpcmVkOiEwfSx7bmFtZTpcInBvc3RlckltYWdlXCIsdHlwZTpcImZpbGVcIixhbGxvd2VkRmlsZVR5cGVzOklNQUdFX0ZJTEVfVFlQRVMsaGVscGVyVGV4dDpcIkltYWdlIHRvIHNob3cgYmVmb3JlIHRoZSB2aWRlbyBwbGF5c1wifSx7bmFtZTpcImF1dG9QbGF5XCIsdHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6ITB9LHtuYW1lOlwiY29udHJvbHNcIix0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHRWYWx1ZTohMX0se25hbWU6XCJtdXRlZFwiLHR5cGU6XCJib29sZWFuXCIsZGVmYXVsdFZhbHVlOiEwfSx7bmFtZTpcImxvb3BcIix0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHRWYWx1ZTohMH0se25hbWU6XCJwbGF5c0lubGluZVwiLHR5cGU6XCJib29sZWFuXCIsZGVmYXVsdFZhbHVlOiEwfSx7bmFtZTpcImZpdFwiLHR5cGU6XCJ0ZXh0XCIsZGVmYXVsdFZhbHVlOlwiY292ZXJcIixlbnVtOltcImNvbnRhaW5cIixcImNvdmVyXCIsXCJmaWxsXCIsXCJhdXRvXCJdfSx7bmFtZTpcInByZWxvYWRcIix0eXBlOlwidGV4dFwiLGRlZmF1bHRWYWx1ZTpcIm1ldGFkYXRhXCIsZW51bTpbXCJhdXRvXCIsXCJtZXRhZGF0YVwiLFwibm9uZVwiXX0se25hbWU6XCJmaXRDb250ZW50XCIsdHlwZTpcImJvb2xlYW5cIixoZWxwZXJUZXh0OlwiV2hlbiBjaGlsZCBibG9ja3MgYXJlIHByb3ZpZGVkLCBmaXQgdG8gdGhlbSBpbnN0ZWFkIG9mIHVzaW5nIHRoZSBhc3BlY3QgcmF0aW9cIixkZWZhdWx0VmFsdWU6ITAsYWR2YW5jZWQ6ITB9LHtuYW1lOlwicG9zaXRpb25cIix0eXBlOlwidGV4dFwiLGRlZmF1bHRWYWx1ZTpcImNlbnRlclwiLGVudW06W1wiY2VudGVyXCIsXCJ0b3BcIixcImxlZnRcIixcInJpZ2h0XCIsXCJib3R0b21cIixcInRvcCBsZWZ0XCIsXCJ0b3AgcmlnaHRcIixcImJvdHRvbSBsZWZ0XCIsXCJib3R0b20gcmlnaHRcIl19LHtuYW1lOlwiaGVpZ2h0XCIsdHlwZTpcIm51bWJlclwiLGFkdmFuY2VkOiEwfSx7bmFtZTpcIndpZHRoXCIsdHlwZTpcIm51bWJlclwiLGFkdmFuY2VkOiEwfSx7bmFtZTpcImFzcGVjdFJhdGlvXCIsdHlwZTpcIm51bWJlclwiLGFkdmFuY2VkOiEwLGRlZmF1bHRWYWx1ZTpERUZBVUxUX0FTUEVDVF9SQVRJT30se25hbWU6XCJsYXp5TG9hZFwiLHR5cGU6XCJib29sZWFuXCIsaGVscGVyVGV4dDonTG9hZCB0aGlzIHZpZGVvIFwibGF6aWx5XCIgLSBhcyBpbiBvbmx5IHdoZW4gYSB1c2VyIHNjcm9sbHMgbmVhciB0aGUgdmlkZW8uIFJlY29tbWVuZGVkIGZvciBvcHRtaXplZCBwZXJmb3JtYW5jZSBhbmQgYmFuZHdpZHRoIGNvbnN1bXB0aW9uJyxkZWZhdWx0VmFsdWU6ITAsYWR2YW5jZWQ6ITB9XX0pLHNpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmxlbmd0aH0saXNTaG9waWZ5PUJ1aWxkZXIuaXNCcm93c2VyJiZcIlNob3BpZnlcImluIHdpbmRvdyxyZWZzPXt9O2lmKEJ1aWxkZXIuaXNCcm93c2VyKXRyeXtBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbYnVpbGRlci1zdGF0aWMtc3ltYm9sXVwiKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRBdHRyaWJ1dGUoXCJidWlsZGVyLXN0YXRpYy1zeW1ib2xcIik7dCYmKHJlZnNbdF09ZSl9KSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIkJ1aWxkZXIgcmVwbGFjZSBub2RlcyBlcnJvcjpcIixlKX12YXIgU3ltYm9sQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQucmVmPW51bGwsdC5zdGF0aWNSZWY9bnVsbCx0LmlzRWRpdGluZ1RoaXNTeW1ib2w9ITEsdH1yZXR1cm4gX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicGxhY2Vob2xkZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGpzeChcImRpdlwiLHtjc3M6e3BhZGRpbmc6MTB9fSxcIlN5bWJvbHMgbGV0IHlvdSByZXVzZSBkeW5hbWljIGVsZW1lbnRzIGFjcm9zcyB5b3VyIGNvbnRlbnQuIFBsZWFzZSBjaG9vc2UgYSBtb2RlbCBhbmQgZW50cnkgZm9yIHRoaXMgc3ltYm9sLlwiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3ZhciBlLHQsbixpPXRoaXM7dGhpcy51c2VTdGF0aWMmJnRoaXMuc3RhdGljUmVmJiZyZWZzW251bGw9PT0oZT10aGlzLnByb3BzLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PWU/dm9pZCAwOmUuaWRdJiYobnVsbD09PSh0PXRoaXMuc3RhdGljUmVmLnBhcmVudE5vZGUpfHx2b2lkIDA9PT10fHx0LnJlcGxhY2VDaGlsZChyZWZzW251bGw9PT0obj10aGlzLnByb3BzLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PW4/dm9pZCAwOm4uaWRdLHRoaXMuc3RhdGljUmVmKSksQnVpbGRlci5uZXh0VGljaygoZnVuY3Rpb24oKXt2YXIgZT1pLnByb3BzLnN5bWJvbHx8e30sdD1lLm1vZGVsLG49ZS5lbnRyeTtpLmlzRWRpdGluZ1RoaXNTeW1ib2w9Qm9vbGVhbihCdWlsZGVyLmlzRWRpdGluZyYmdD09PWJ1aWxkZXIuZWRpdGluZ01vZGVsJiZuJiZsb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoXCJvdmVycmlkZXMuXCIuY29uY2F0KG4pKSl9KSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInVzZVN0YXRpY1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gQm9vbGVhbihCdWlsZGVyLmlzQnJvd3NlciYmcmVmc1tudWxsPT09KGU9dGhpcy5wcm9wcy5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlkXSYmIShCdWlsZGVyLmlzRWRpdGluZ3x8QnVpbGRlci5pc1ByZXZpZXdpbmcpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZSx0LG49dGhpcztpZih0aGlzLnVzZVN0YXRpYylyZXR1cm4ganN4KFwiZGl2XCIse3JlZjpmdW5jdGlvbihlKXtyZXR1cm4gbi5zdGF0aWNSZWY9ZX19KTt2YXIgaT10aGlzLnByb3BzLnN5bWJvbCxyPSExO2l8fChyPSEwKTt2YXIgbz10aGlzLnByb3BzLmRhdGFPbmx5P05vV3JhcDp0aGlzLnByb3BzLmJ1aWxkZXJCbG9jayYmdGhpcy5wcm9wcy5idWlsZGVyQmxvY2sudGFnTmFtZXx8XCJkaXZcIixhPWl8fHt9LHM9YS5tb2RlbCxsPWEuZW50cnksdT1hLmRhdGEsZD1hLmNvbnRlbnQsYz1hLmlubGluZSxwPWEub3duZXJJZCxmPShudWxsPT1pP3ZvaWQgMDppLmR5bmFtaWMpfHx0aGlzLnByb3BzLmR5bmFtaWM7cyYmKGx8fGYpfHwobnVsbD09PShlPW51bGw9PWQ/dm9pZCAwOmQuZGF0YSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuYmxvY2tzSnMpfHxjfHwocj0hMCksdGhpcy5pc0VkaXRpbmdUaGlzU3ltYm9sJiYocj0hMSk7dmFyIG09Zj9udWxsPT09KHQ9dGhpcy5wcm9wcy5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlkOltzLGxdLmpvaW4oXCI6XCIpLGg9dSYmc2l6ZSh1KSYmaGFzaCh1KTttJiZoJiZoLmxlbmd0aDwzMDAmJihtKz1cIjpcIitoKTt2YXIgdj10aGlzLnByb3BzLmF0dHJpYnV0ZXN8fHt9O3JldHVybiBqc3goQnVpbGRlclN0b3JlQ29udGV4dC5Db25zdW1lcix7a2V5OihzfHxcIm5vIG1vZGVsXCIpK1wiOlwiKyhsfHxcIm5vIGVudHJ5XCIrdGhpcy5pc0VkaXRpbmdUaGlzU3ltYm9sKX0sKGZ1bmN0aW9uKGUpe3ZhciB0LGEsYyxmLGgsZyxiLHksXyx4LFMsaz1cIlwiLmNvbmNhdChtLFwiX1wiKS5jb25jYXQoKG51bGw9PT0odD1udWxsPT1lP3ZvaWQgMDplLnN0YXRlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5sb2NhbGUpfHxcIkRlZmF1bHRcIik7cmV0dXJuIGpzeChvLF9fYXNzaWduKHtcImRhdGEtbW9kZWxcIjpzfSx2LHtjbGFzc05hbWU6KHYuY2xhc3N8fHYuY2xhc3NOYW1lfHxcIlwiKStcIiBidWlsZGVyLXN5bWJvbFwiKygobnVsbD09aT92b2lkIDA6aS5pbmxpbmUpP1wiIGJ1aWxkZXItaW5saW5lLXN5bWJvbFwiOlwiXCIpKygobnVsbD09aT92b2lkIDA6aS5keW5hbWljKXx8bi5wcm9wcy5keW5hbWljP1wiIGJ1aWxkZXItZHluYW1pYy1zeW1ib2xcIjpcIlwiKX0pLHI/bi5wbGFjZWhvbGRlcjpqc3goQnVpbGRlckNvbXBvbmVudCxfX2Fzc2lnbih7fSxwJiZ7YXBpS2V5OnB9LChudWxsPT09KGE9ZS5zdGF0ZSl8fHZvaWQgMD09PWE/dm9pZCAwOmEubG9jYWxlKSYme2xvY2FsZTplLnN0YXRlLmxvY2FsZX0se2lzQ2hpbGQ6ITAscmVmOmZ1bmN0aW9uKGUpe3JldHVybiBuLnJlZj1lfSxjb250ZXh0Ol9fYXNzaWduKF9fYXNzaWduKHt9LGUuY29udGV4dCkse3N5bWJvbElkOm51bGw9PT0oYz1uLnByb3BzLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PWM/dm9pZCAwOmMuaWR9KSxtb2RlbDpzLGVudHJ5OmwsZGF0YTpfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbih7fSx1KSwhIW4ucHJvcHMuaW5oZXJpdFN0YXRlJiZvbWl0JDIoZS5zdGF0ZSxcImNoaWxkcmVuXCIpKSxudWxsPT09KF89bnVsbD09PSh5PW51bGw9PT0oYj1udWxsPT09KGc9bnVsbD09PShoPW51bGw9PT0oZj1uLnByb3BzLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PWY/dm9pZCAwOmYuY29tcG9uZW50KXx8dm9pZCAwPT09aD92b2lkIDA6aC5vcHRpb25zKXx8dm9pZCAwPT09Zz92b2lkIDA6Zy5zeW1ib2wpfHx2b2lkIDA9PT1iP3ZvaWQgMDpiLmNvbnRlbnQpfHx2b2lkIDA9PT15P3ZvaWQgMDp5LmRhdGEpfHx2b2lkIDA9PT1fP3ZvaWQgMDpfLnN0YXRlKSxyZW5kZXJMaW5rOmUucmVuZGVyTGluayxpbmxpbmVDb250ZW50Om51bGw9PWk/dm9pZCAwOmkuaW5saW5lfSxkJiZ7Y29udGVudDpkfSx7a2V5Omssb3B0aW9uczpfX2Fzc2lnbihfX2Fzc2lnbih7fSwhbi5pc0VkaXRpbmdUaGlzU3ltYm9sJiZ7a2V5Omssbm9FZGl0b3JVcGRhdGVzOiEwfSksXCJjb250ZW50XCI9PT1CdWlsZGVyLnNpbmdsZXRvbkluc3RhbmNlLmFwaUVuZHBvaW50JiZsJiZ7cXVlcnk6e2lkOmx9fSksY29kZWdlbjohIShudWxsPT09KHg9bnVsbD09ZD92b2lkIDA6ZC5kYXRhKXx8dm9pZCAwPT09eD92b2lkIDA6eC5ibG9ja3NKcyksaHlkcmF0ZTpudWxsPT09KFM9ZS5zdGF0ZSl8fHZvaWQgMD09PVM/dm9pZCAwOlMuX2h5ZHJhdGUsYnVpbGRlckJsb2NrOm4ucHJvcHMuYnVpbGRlckJsb2NrLGRhdGFPbmx5Om4ucHJvcHMuZGF0YU9ubHksbm9uY2U6ZS5jb250ZXh0Lm5vbmNlfSksbi5wcm9wcy5jaGlsZHJlbikpfSkpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLFN5bWJvbCQxPXdpdGhCdWlsZGVyKFN5bWJvbENvbXBvbmVudCx7bmFtZTpcIlN5bWJvbFwiLG5vV3JhcDohMCxzdGF0aWM6ITAsaW5wdXRzOlt7bmFtZTpcInN5bWJvbFwiLHR5cGU6XCJ1aVN5bWJvbFwifSx7bmFtZTpcImRhdGFPbmx5XCIsaGVscGVyVGV4dDpcIk1ha2UgdGhpcyBhIGRhdGEgc3ltYm9sIHRoYXQgZG9lc24ndCBkaXNwbGF5IGFueSBVSVwiLHR5cGU6XCJib29sZWFuXCIsZGVmYXVsdFZhbHVlOiExLGFkdmFuY2VkOiEwLGhpZGVGcm9tVUk6ITB9LHtuYW1lOlwiaW5oZXJpdFN0YXRlXCIsaGVscGVyVGV4dDpcIkluaGVyaXQgdGhlIHBhcmVudCBjb21wb25lbnQgc3RhdGUgYW5kIGRhdGFcIix0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHRWYWx1ZTppc1Nob3BpZnksYWR2YW5jZWQ6ITB9LHtuYW1lOlwicmVuZGVyVG9MaXF1aWRcIixoZWxwZXJUZXh0OlwiUmVuZGVyIHRoaXMgc3ltYm9scyBjb250ZW50cyB0byBsaXF1aWQuIFR1cm4gb2ZmIHRvIGZldGNoIHdpdGggamF2YXNjcmlwdCBhbmQgdXNlIGN1c3RvbSB0YXJnZXRpbmdcIix0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHRWYWx1ZTppc1Nob3BpZnksYWR2YW5jZWQ6ITAsaGlkZUZyb21VSTohMH0se25hbWU6XCJ1c2VDaGlsZHJlblwiLGhpZGVGcm9tVUk6ITAsdHlwZTpcImJvb2xlYW5cIn1dfSksQnV0dG9uQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLmxpbms/TGluazpcInNwYW5cIjtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChlLF9fYXNzaWduKHtyb2xlOlwiYnV0dG9uXCIsaHJlZjp0aGlzLnByb3BzLmxpbmssdGFyZ2V0OnRoaXMucHJvcHMub3BlbkxpbmtJbk5ld1RhYj9cIl9ibGFua1wiOnZvaWQgMH0sdGhpcy5wcm9wcy5hdHRyaWJ1dGVzKSx0aGlzLnByb3BzLnRleHQpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLEJ1dHRvbj13aXRoQnVpbGRlcihCdXR0b25Db21wb25lbnQse25hbWU6XCJDb3JlOkJ1dHRvblwiLGltYWdlOlwiaHR0cHM6Ly9jZG4uYnVpbGRlci5pby9hcGkvdjEvaW1hZ2UvYXNzZXRzJTJGSXN4UEtNbzJnUFJSS2Vha1V6dGoxRDZ1cWVkMiUyRjgxYTE1NjgxYzNlNzRkZjA5Njc3ZGZjNTdhNjE1YjEzXCIsZGVmYXVsdFN0eWxlczp7YXBwZWFyYW5jZTpcIm5vbmVcIixwYWRkaW5nVG9wOlwiMTVweFwiLHBhZGRpbmdCb3R0b206XCIxNXB4XCIscGFkZGluZ0xlZnQ6XCIyNXB4XCIscGFkZGluZ1JpZ2h0OlwiMjVweFwiLGJhY2tncm91bmRDb2xvcjpcIiMwMDAwMDBcIixjb2xvcjpcIndoaXRlXCIsYm9yZGVyUmFkaXVzOlwiNHB4XCIsdGV4dEFsaWduOlwiY2VudGVyXCIsY3Vyc29yOlwicG9pbnRlclwifSxpbnB1dHM6W3tuYW1lOlwidGV4dFwiLHR5cGU6XCJ0ZXh0XCIsZGVmYXVsdFZhbHVlOlwiQ2xpY2sgbWUhXCIsYnViYmxlOiEwfSx7bmFtZTpcImxpbmtcIix0eXBlOlwidXJsXCIsYnViYmxlOiEwfSx7bmFtZTpcIm9wZW5MaW5rSW5OZXdUYWJcIix0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHRWYWx1ZTohMSxmcmllbmRseU5hbWU6XCJPcGVuIGxpbmsgaW4gbmV3IHRhYlwifV0sc3RhdGljOiEwLG5vV3JhcDohMH0pLFNlY3Rpb25Db21wb25lbnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5yZWY9bnVsbCx0LnVubW91bnRDYWxsYmFja3M9W10sdC5zdGF0ZT17aW5WaWV3OiExfSx0fXJldHVybiBfX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyZW5kZXJDb250ZW50c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMCE9PXRoaXMucHJvcHMubGF6eUxvYWR8fHRoaXMuc3RhdGUuaW5WaWV3fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dGhpcy51bm1vdW50Q2FsbGJhY2tzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlKCl9KSl9LHQucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLnByb3BzLmxhenlMb2FkKWlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciYmdGhpcy5yZWYpe3ZhciB0PW5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZnVuY3Rpb24odCxuKXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuaW50ZXJzZWN0aW9uUmF0aW8+MCYmKGUuc2V0U3RhdGUoe2luVmlldzohMH0pLGUucmVmJiZuLnVub2JzZXJ2ZShlLnJlZikpfSkpfSkse3Jvb3RNYXJnaW46XCIxMHB4XCJ9KTt0Lm9ic2VydmUodGhpcy5yZWYpLHRoaXMudW5tb3VudENhbGxiYWNrcy5wdXNoKChmdW5jdGlvbigpe2UucmVmJiZ0LnVub2JzZXJ2ZShlLnJlZil9KSl9ZWxzZSB0aGlzLnNldFN0YXRlKHtpblZpZXc6ITB9KX0sdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4ganN4KFwic2VjdGlvblwiLHtyZWY6ZnVuY3Rpb24odCl7cmV0dXJuIGUucmVmPXR9LGNzczpfX2Fzc2lnbih7d2lkdGg6XCIxMDAlXCIsYWxpZ25TZWxmOlwic3RyZXRjaFwiLGZsZXhHcm93OjEsYm94U2l6aW5nOlwiYm9yZGVyLWJveFwiLG1heFdpZHRoOnRoaXMucHJvcHMubWF4V2lkdGgsZGlzcGxheTpcImZsZXhcIixmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIsYWxpZ25JdGVtczpcInN0cmV0Y2hcIixtYXJnaW5MZWZ0OlwiYXV0b1wiLG1hcmdpblJpZ2h0OlwiYXV0b1wifSx0aGlzLnJlbmRlckNvbnRlbnRzP251bGw6dGhpcy5wcm9wcy5sYXp5U3R5bGVzKX0sdGhpcy5yZW5kZXJDb250ZW50cz9qc3goUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsbnVsbCx0aGlzLnByb3BzLmNoaWxkcmVuLHRoaXMucHJvcHMuYnVpbGRlckJsb2NrJiZ0aGlzLnByb3BzLmJ1aWxkZXJCbG9jay5jaGlsZHJlbiYmdGhpcy5wcm9wcy5idWlsZGVyQmxvY2suY2hpbGRyZW4ubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBqc3goQnVpbGRlckJsb2NrJDEse2tleTplLmlkLGJsb2NrOmV9KX0pKSk6bnVsbCl9LHR9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksU2VjdGlvbj13aXRoQnVpbGRlcihTZWN0aW9uQ29tcG9uZW50LHtuYW1lOlwiQ29yZTpTZWN0aW9uXCIsc3RhdGljOiEwLGltYWdlOlwiaHR0cHM6Ly9jZG4uYnVpbGRlci5pby9hcGkvdjEvaW1hZ2UvYXNzZXRzJTJGSXN4UEtNbzJnUFJSS2Vha1V6dGoxRDZ1cWVkMiUyRjY4MmVmZWYyM2FjZTQ5YWZhYzYxNzQ4ZGQzMDVjNzBhXCIsaW5wdXRzOlt7bmFtZTpcIm1heFdpZHRoXCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZToxMjAwfSx7bmFtZTpcImxhenlMb2FkXCIsdHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6ITEsYWR2YW5jZWQ6ITAsZGVzY3JpcHRpb246XCJPbmx5IHJlbmRlciB0aGlzIHNlY3Rpb24gd2hlbiBpbiB2aWV3XCJ9XSxkZWZhdWx0U3R5bGVzOntwYWRkaW5nTGVmdDpcIjIwcHhcIixwYWRkaW5nUmlnaHQ6XCIyMHB4XCIscGFkZGluZ1RvcDpcIjUwcHhcIixwYWRkaW5nQm90dG9tOlwiNTBweFwiLG1hcmdpblRvcDpcIjBweFwiLHdpZHRoOlwiMTAwdndcIixtYXJnaW5MZWZ0OlwiY2FsYyg1MCUgLSA1MHZ3KVwifSxjYW5IYXZlQ2hpbGRyZW46ITAsZGVmYXVsdENoaWxkcmVuOlt7XCJAdHlwZVwiOlwiQGJ1aWxkZXIuaW8vc2RrOkVsZW1lbnRcIixyZXNwb25zaXZlU3R5bGVzOntsYXJnZTp7dGV4dEFsaWduOlwiY2VudGVyXCJ9fSxjb21wb25lbnQ6e25hbWU6XCJUZXh0XCIsb3B0aW9uczp7dGV4dDpcIjxwPjxiPkkgYW0gYSBzZWN0aW9uISBNeSBjb250ZW50IGtlZXBzIGZyb20gZ2V0dGluZyB0b28gd2lkZSwgc28gdGhhdCBpdCdzIGVhc3kgdG8gcmVhZCBldmVuIG9uIGJpZyBzY3JlZW5zLjwvYj48L3A+PHA+TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCwgc2VkIGRvIGVpdXNtb2QgdGVtcG9yIGluY2lkaWR1bnQgdXQgbGFib3JlIGV0IGRvbG9yZSBtYWduYSBhbGlxdWEuIFV0IGVuaW0gYWQgbWluaW0gdmVuaWFtLCBxdWlzIG5vc3RydWQgZXhlcmNpdGF0aW9uIHVsbGFtY28gbGFib3JpcyBuaXNpIHV0IGFsaXF1aXAgZXggZWEgY29tbW9kbyBjb25zZXF1YXQuIER1aXMgYXV0ZSBpcnVyZSBkb2xvciBpbiByZXByZWhlbmRlcml0IGluIHZvbHVwdGF0ZSB2ZWxpdCBlc3NlIGNpbGx1bSBkb2xvcmUgZXUgZnVnaWF0IG51bGxhIHBhcmlhdHVyPC9wPlwifX19XX0pLFN0YXRlUHJvdmlkZXJDb21wb25lbnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlclN0b3JlQ29udGV4dC5Db25zdW1lcixudWxsLChmdW5jdGlvbih0KXtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyU3RvcmVDb250ZXh0LlByb3ZpZGVyLHt2YWx1ZTpfX2Fzc2lnbihfX2Fzc2lnbih7fSx0KSx7c3RhdGU6X19hc3NpZ24oX19hc3NpZ24oe30sdC5zdGF0ZSksZS5wcm9wcy5zdGF0ZSksY29udGV4dDpfX2Fzc2lnbihfX2Fzc2lnbih7fSx0LmNvbnRleHQpLGUucHJvcHMuY29udGV4dCl9KX0sZS5wcm9wcy5idWlsZGVyQmxvY2smJmUucHJvcHMuYnVpbGRlckJsb2NrLmNoaWxkcmVuJiZlLnByb3BzLmJ1aWxkZXJCbG9jay5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlckJsb2NrJDEse2Jsb2NrOmUsa2V5OmUuaWQsaW5kZXg6dCxjaGlsZDohMH0pfSkpLGUucHJvcHMuY2hpbGRyZW4pfSkpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLFN0YXRlUHJvdmlkZXI9d2l0aEJ1aWxkZXIoU3RhdGVQcm92aWRlckNvbXBvbmVudCx7bmFtZTpcIkJ1aWxkZXI6U3RhdGVQcm92aWRlclwiLGNhbkhhdmVDaGlsZHJlbjohMCxzdGF0aWM6ITAsbm9XcmFwOiEwLGhpZGVGcm9tSW5zZXJ0TWVudTohMH0pLHByZWZldGNoZWQ9bmV3IFNldDtmdW5jdGlvbiBzZWFyY2hUb09iamVjdChlKXt2YXIgdD0oZS5zZWFyY2h8fFwiXCIpLnN1YnN0cmluZygxKS5zcGxpdChcIiZcIiksbj17fTtmb3IodmFyIGkgaW4gdClpZih0W2ldJiZcInN0cmluZ1wiPT10eXBlb2YgdFtpXSl7dmFyIHI9dFtpXS5zcGxpdChcIj1cIik7bltkZWNvZGVVUklDb21wb25lbnQoclswXSldPWRlY29kZVVSSUNvbXBvbmVudChyWzFdKX1yZXR1cm4gbn12YXIgUm91dGVyQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuYnVpbGRlcj1idWlsZGVyLHQucm91dGVkPSExLHQucHJlbG9hZFF1ZXVlPTAsdC5vblBvcFN0YXRlPWZ1bmN0aW9uKGUpe3QudXBkYXRlTG9jYXRpb25TdGF0ZSgpfSx0Lm9uTW91c2VPdmVyT3JUb3VjaFN0YXJ0PWZ1bmN0aW9uKGUpe2lmKCEodC5wcmVsb2FkUXVldWU+NCkmJiExIT09dC5wcm9wcy5wcmVsb2FkT25Ib3Zlcil7dmFyIG49dC5maW5kSHJlZlRhcmdldChlKTtpZihuKXt2YXIgaT1uLmdldEF0dHJpYnV0ZShcImhyZWZcIik7aWYoaSl7aWYoIXQuaXNSZWxhdGl2ZShpKSl7dmFyIHI9dC5jb252ZXJ0VG9SZWxhdGl2ZShpKTtpZighcilyZXR1cm47aT1yfWlmKCFpLnN0YXJ0c1dpdGgoXCIjXCIpJiYhcHJlZmV0Y2hlZC5oYXMoaSkpe3ByZWZldGNoZWQuYWRkKGkpO3ZhciBvPXQucGFyc2VVcmwoaSk7dC5wcmVsb2FkUXVldWUrKzt2YXIgYT1idWlsZGVyLmdldFVzZXJBdHRyaWJ1dGVzKCk7YS51cmxQYXRoPW8ucGF0aG5hbWUsYS5xdWVyeVN0cmluZz1vLnNlYXJjaDt2YXIgcz1idWlsZGVyLmdldCh0Lm1vZGVsLHt1c2VyQXR0cmlidXRlczphLGtleTp0Lm1vZGVsK1wiOlwiK28ucGF0aG5hbWUrby5zZWFyY2h9KS5zdWJzY3JpYmUoKGZ1bmN0aW9uKCl7dC5wcmVsb2FkUXVldWUtLSxzLnVuc3Vic2NyaWJlKCl9KSl9fX19fSx0Lm9uQ2xpY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIF9fYXdhaXRlcih0LHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbixpLHI7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG8pe2lmKCExPT09dGhpcy5wcm9wcy5oYW5kbGVSb3V0aW5nKXJldHVyblsyXTtpZigwIT09ZS5idXR0b258fGUuY3RybEtleXx8ZS5kZWZhdWx0UHJldmVudGVkfHxlLm1ldGFLZXkpcmV0dXJuWzJdO2lmKCEodD10aGlzLmZpbmRIcmVmVGFyZ2V0KGUpKSlyZXR1cm5bMl07aWYodC50YXJnZXQmJlwiX2NsaWVudFwiIT09dC50YXJnZXQpcmV0dXJuWzJdO2lmKCEobj10LmdldEF0dHJpYnV0ZShcImhyZWZcIikpKXJldHVyblsyXTtpZih0aGlzLnByb3BzLm9uUm91dGUmJihpPXt1cmw6bixhbmNob3JOb2RlOnQscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGRlZmF1bHRQcmV2ZW50ZWQ6ITF9LHRoaXMucHJvcHMub25Sb3V0ZShpKSxpLmRlZmF1bHRQcmV2ZW50ZWQpKXJldHVyblsyXTtpZighdGhpcy5pc1JlbGF0aXZlKG4pKXtpZighKHI9dGhpcy5jb252ZXJ0VG9SZWxhdGl2ZShuKSkpcmV0dXJuWzJdO249cn1yZXR1cm4gbi5zdGFydHNXaXRoKFwiI1wiKXx8KGUucHJldmVudERlZmF1bHQoKSx0aGlzLnJvdXRlKG4pKSxbMl19KSl9KSl9LHQucHJpdmF0ZVN0YXRlPW51bGwsdH1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUucm91dGU9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHRoaXMucm91dGVkPSEwLFwiZnVuY3Rpb25cIj09dHlwZW9mKG51bGw9PT0odD13aW5kb3cuaGlzdG9yeSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucHVzaFN0YXRlKT8oaGlzdG9yeS5wdXNoU3RhdGUobnVsbCxcIlwiLGUpLHRoaXMudXBkYXRlTG9jYXRpb25TdGF0ZSgpLCEwKToobG9jYXRpb24uaHJlZj1lLCExKX0sdC5wcm90b3R5cGUudXBkYXRlTG9jYXRpb25TdGF0ZT1mdW5jdGlvbigpe3RoaXMucHJpdmF0ZVN0YXRlJiZ0aGlzLnByaXZhdGVTdGF0ZS51cGRhdGUoKGZ1bmN0aW9uKGUpe2UubG9jYXRpb249X19hc3NpZ24oX19hc3NpZ24oe30sZS5sb2NhdGlvbikse3BhdGhuYW1lOmxvY2F0aW9uLnBhdGhuYW1lLHNlYXJjaDpsb2NhdGlvbi5zZWFyY2gscGF0aDpsb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSkscXVlcnk6c2VhcmNoVG9PYmplY3QobG9jYXRpb24pfSl9KSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm1vZGVsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLm1vZGVsfHxcInBhZ2VcIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25DbGljayksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLHRoaXMub25Qb3BTdGF0ZSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLHRoaXMub25Nb3VzZU92ZXJPclRvdWNoU3RhcnQpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbk1vdXNlT3Zlck9yVG91Y2hTdGFydCkpfSx0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25DbGljayksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLHRoaXMub25Nb3VzZU92ZXJPclRvdWNoU3RhcnQpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIix0aGlzLm9uUG9wU3RhdGUpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbk1vdXNlT3Zlck9yVG91Y2hTdGFydCkpfSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5tb2RlbDtyZXR1cm4ganN4KEJ1aWxkZXJTdG9yZUNvbnRleHQuQ29uc3VtZXIsbnVsbCwoZnVuY3Rpb24obil7ZS5wcml2YXRlU3RhdGU9bjt2YXIgaT1uLnN0YXRlJiZuLnN0YXRlLmxvY2F0aW9uJiZuLnN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lK24uc3RhdGUubG9jYXRpb24uc2VhcmNoO3JldHVybiBqc3goXCJkaXZcIix7Y2xhc3NOYW1lOlwiYnVpbGRlci1yb3V0ZXJcIixcImRhdGEtbW9kZWxcIjp0fSxqc3goXCJzdHlsZVwiLHtub25jZTpuLmNvbnRleHQubm9uY2V9LFwiXFxuICAgICAgICAgICAgICAgIEBrZXlmcmFtZXMgYnVpbGRlckxvYWRpbmdTcGlubmVyIHtcXG4gICAgICAgICAgICAgICAgICAwJSB7XFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcXG4gICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgMTAwJSB7XFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xcbiAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAvKiBUT0RPOiBvdmVycmlkYWJsZSB0YWcgKi9cXG4gICAgICAgICAgICAgICAgLmJ1aWxkZXItcGFnZS1sb2FkaW5nIHtcXG4gICAgICAgICAgICAgICAgICAtd2Via2l0LWFuaW1hdGlvbjogYnVpbGRlckxvYWRpbmdTcGlubmVyIDFzIGluZmluaXRlIGxpbmVhcjtcXG4gICAgICAgICAgICAgICAgICBhbmltYXRpb246IGJ1aWxkZXJMb2FkaW5nU3Bpbm5lciAxcyBpbmZpbml0ZSBsaW5lYXI7XFxuICAgICAgICAgICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XFxuICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xcbiAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gICAgICAgICAgICAgICAgICB3aWR0aDogMzZweDtcXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IDM2cHg7XFxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiA2cHggYXV0bztcXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICAgICAgICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjODA4Mjg0O1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICBcIiksanN4KEJ1aWxkZXJDb21wb25lbnQse2tleTppLGRhdGE6ZS5wcm9wcy5kYXRhLGNvbnRlbnQ6ZS5yb3V0ZWQ/dm9pZCAwOmUucHJvcHMuY29udGVudCxtb2RlbE5hbWU6dCxvcHRpb25zOntrZXk6QnVpbGRlci5pc0VkaXRpbmc/dm9pZCAwOmUubW9kZWwrXCI6XCIraX0sbm9uY2U6bi5jb250ZXh0Lm5vbmNlfSxlLnByb3BzLmNoaWxkcmVufHxqc3goXCJkaXZcIix7Y3NzOntkaXNwbGF5OlwiZmxleFwifX0sanN4KFwiZGl2XCIse2Nzczp7bWFyZ2luOlwiNDB2aCBhdXRvXCJ9LGNsYXNzTmFtZTpcImJ1aWxkZXItcGFnZS1sb2FkaW5nXCJ9KSkpKX0pKX0sdC5wcm90b3R5cGUuZmluZEhyZWZUYXJnZXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUudGFyZ2V0O3Q7KXtpZih0IGluc3RhbmNlb2YgSFRNTEFuY2hvckVsZW1lbnQmJnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSlyZXR1cm4gdDtpZih0PT09ZS5jdXJyZW50VGFyZ2V0KWJyZWFrO3Q9dC5wYXJlbnRFbGVtZW50fXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5pc1JlbGF0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiFlLm1hdGNoKC9eKFxcL1xcL3xodHRwcz86XFwvXFwvKS9pKX0sdC5wcm90b3R5cGUucGFyc2VVcmw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIHQuaHJlZj1lLHR9LHQucHJvdG90eXBlLmNvbnZlcnRUb1JlbGF0aXZlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyc2VVcmwobG9jYXRpb24uaHJlZiksbj10aGlzLnBhcnNlVXJsKGUpO2lmKHQuaG9zdD09PW4uaG9zdCl7dmFyIGk9bi5wYXRobmFtZSsobi5zZWFyY2g/bi5zZWFyY2g6XCJcIik7cmV0dXJuIGkuc3RhcnRzV2l0aChcIiNcIik/bnVsbDppfHxcIi9cIn1yZXR1cm4gbnVsbH0sdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxSb3V0ZXI9d2l0aEJ1aWxkZXIoUm91dGVyQ29tcG9uZW50LHtuYW1lOlwiQ29yZTpSb3V0ZXJcIixoaWRlRnJvbUluc2VydE1lbnU6ITAsaW5wdXRzOlt7bmFtZTpcIm1vZGVsXCIsdHlwZTpcInN0cmluZ1wiLGRlZmF1bHRWYWx1ZTpcInBhZ2VcIixhZHZhbmNlZDohMH0se25hbWU6XCJoYW5kbGVSb3V0aW5nXCIsdHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6ITAsYWR2YW5jZWQ6ITB9LHtuYW1lOlwicHJlbG9hZE9uSG92ZXJcIix0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHRWYWx1ZTohMCxhZHZhbmNlZDohMH0se25hbWU6XCJvblJvdXRlXCIsdHlwZTpcImZ1bmN0aW9uXCIsYWR2YW5jZWQ6ITB9XX0pO2Z1bmN0aW9uIE11dGF0aW9uKGUpe3ZhciB0LG4saT1SZWFjdF9fZGVmYXVsdC51c2VSZWYobnVsbCk7dXNlV2FpdEZvclNlbGVjdG9yKGUuc2VsZWN0b3IsKGZ1bmN0aW9uKHQpe1wiYWZ0ZXJFbmRcIiE9PWUudHlwZSYmKHQuaW5uZXJIVE1MPVwiXCIpLHQuYXBwZW5kQ2hpbGQoaS5jdXJyZW50LmZpcnN0RWxlbWVudENoaWxkKX0pKTt2YXIgcj1udWxsPT09KHQ9ZS5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNoaWxkcmVuO3JldHVybiBqc3goXCJzcGFuXCIse3N0eWxlOntkaXNwbGF5Olwibm9uZVwifSxyZWY6aX0sanN4KEJ1aWxkZXJCbG9ja3Mse3N0eWxlOntkaXNwbGF5OlwiaW5saW5lXCJ9LGNoaWxkOiEwLHBhcmVudEVsZW1lbnRJZDpudWxsPT09KG49ZS5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmlkLGRhdGFQYXRoOlwidGhpcy5jaGlsZHJlblwiLGJsb2NrczpyfSkpfWZ1bmN0aW9uIHVzZVdhaXRGb3JTZWxlY3RvcihlLHQpe1JlYWN0X19kZWZhdWx0LnVzZUxheW91dEVmZmVjdCgoZnVuY3Rpb24oKXt0cnl7dmFyIG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTtpZihuKXJldHVybiB2b2lkIHQobil9Y2F0Y2goZSl7Y29uc29sZS53YXJuKGUpfXZhciBpPW5ldyBNdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbigpe3RyeXt2YXIgbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpO24mJihpLmRpc2Nvbm5lY3QoKSx0KG4pKX1jYXRjaChlKXtjb25zb2xlLndhcm4oZSl9fSkpO3JldHVybiBpLm9ic2VydmUoZG9jdW1lbnQuYm9keSx7YXR0cmlidXRlczohMCxzdWJ0cmVlOiEwLGNoYXJhY3RlckRhdGE6ITB9KSxmdW5jdGlvbigpe2kuZGlzY29ubmVjdCgpfX0pLFtlXSl9QnVpbGRlci5yZWdpc3RlckNvbXBvbmVudChNdXRhdGlvbix7bmFtZTpcIkJ1aWxkZXI6TXV0YXRpb25cIixjYW5IYXZlQ2hpbGRyZW46ITAsbm9XcmFwOiEwLGhpZGVGcm9tSW5zZXJ0TWVudTohMCxpbnB1dHM6W3tuYW1lOlwidHlwZVwiLHR5cGU6XCJzdHJpbmdcIixkZWZhdWx0VmFsdWU6XCJyZXBsYWNlXCIsZW51bTpbe2xhYmVsOlwiUmVwbGFjZVwiLHZhbHVlOlwicmVwbGFjZVwiLGhlbHBlclRleHQ6XCJSZXBsYWNlIHRoZSBjb250ZW50cyBvZiB0aGlzIHNpdGUgcmVnaW9uIHdpdGggY29udGVudCBmcm9tIEJ1aWxkZXJcIn0se2xhYmVsOlwiQXBwZW5kXCIsdmFsdWU6XCJhZnRlckVuZFwiLGhlbHBlclRleHQ6XCJBcHBlbmQgQnVpbGRlciBjb250ZW50IGFmdGVyIHRoZSBjaG9zZW4gc2l0ZSByZWdpb25cIn1dfSx7bmFtZTpcInNlbGVjdG9yXCIsdHlwZTpcImJ1aWxkZXI6ZG9tU2VsZWN0b3JcIn1dfSk7dmFyIGdldD1mdW5jdGlvbihlLHQsbil7dmFyIGk9U3RyaW5nLnByb3RvdHlwZS5zcGxpdC5jYWxsKHQsL1ssW1xcXS5dKz8vKS5maWx0ZXIoQm9vbGVhbikucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBudWxsIT1lP2VbdF06ZX0pLGUpO3JldHVybiB2b2lkIDA9PT1pfHxpPT09ZT9uOml9LE1VTFRJUEFSVF9DT05URU5UX1RZUEU9XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIsSlNPTl9DT05URU5UX1RZUEU9XCJhcHBsaWNhdGlvbi9qc29uXCIsRU5DT0RFRF9DT05URU5UX1RZUEU9XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixGb3JtQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQucmVmPW51bGwsdC5zdGF0ZT17c3RhdGU6XCJ1bnN1Ym1pdHRlZFwiLHJlc3BvbnNlRGF0YTpudWxsLGZvcm1FcnJvck1lc3NhZ2U6XCJcIn0sdH1yZXR1cm4gX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwic3VibWlzc2lvblN0YXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBCdWlsZGVyLmlzRWRpdGluZyYmdGhpcy5wcm9wcy5wcmV2aWV3U3RhdGV8fHRoaXMuc3RhdGUuc3RhdGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4ganN4KEJ1aWxkZXJTdG9yZUNvbnRleHQuQ29uc3VtZXIsbnVsbCwoZnVuY3Rpb24odCl7cmV0dXJuIGpzeChCdWlsZGVyU3RvcmVDb250ZXh0LlByb3ZpZGVyLHt2YWx1ZTpfX2Fzc2lnbihfX2Fzc2lnbih7fSx0KSx7c3RhdGU6X19hc3NpZ24oX19hc3NpZ24oe30sdC5zdGF0ZSkse2Zvcm1FcnJvck1lc3NhZ2U6ZS5zdGF0ZS5mb3JtRXJyb3JNZXNzYWdlfSl9KX0sanN4KFwiZm9ybVwiLF9fYXNzaWduKHt9LGUucHJvcHMudmFsaWRhdGU/e306e25vVmFsaWRhdGU6ITB9LHtyZWY6ZnVuY3Rpb24odCl7cmV0dXJuIGUucmVmPXR9LGFjdGlvbjohZS5wcm9wcy5zZW5kV2l0aEpzJiZlLnByb3BzLmFjdGlvbj9lLnByb3BzLmFjdGlvbjp2b2lkIDAsbWV0aG9kOmUucHJvcHMubWV0aG9kLG5hbWU6ZS5wcm9wcy5uYW1lLG9uU3VibWl0OmZ1bmN0aW9uKHQpe3ZhciBuLGk9ZS5wcm9wcy5zZW5kV2l0aEpzfHxcImVtYWlsXCI9PT1lLnByb3BzLnNlbmRTdWJtaXNzaW9uc1RvO2lmKFwiemFwaWVyXCI9PT1lLnByb3BzLnNlbmRTdWJtaXNzaW9uc1RvKXQucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKGkpe2lmKCFlLnByb3BzLmFjdGlvbiYmXCJlbWFpbFwiIT09ZS5wcm9wcy5zZW5kU3VibWlzc2lvbnNUbylyZXR1cm4gdm9pZCB0LnByZXZlbnREZWZhdWx0KCk7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciByPXQuY3VycmVudFRhcmdldCxvPWUucHJvcHMuY3VzdG9tSGVhZGVyc3x8e30sYT12b2lkIDAscz1uZXcgRm9ybURhdGEociksbD1BcnJheS5mcm9tKHQuY3VycmVudFRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXQsc2VsZWN0LHRleHRhcmVhXCIpKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhZS5uYW1lfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuISFlLm5hbWUmJihcInJhZGlvXCIhPT1lLnR5cGV8fGUuY2hlY2tlZCl9KSkubWFwKChmdW5jdGlvbihlKXt2YXIgdCxuPWUubmFtZTtpZihlIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudClpZihcInJhZGlvXCI9PT1lLnR5cGUpe2lmKGUuY2hlY2tlZClyZXR1cm57a2V5Om4sdmFsdWU6dD1lLnZhbHVlfX1lbHNlIGlmKFwiY2hlY2tib3hcIj09PWUudHlwZSl0PWUuY2hlY2tlZDtlbHNlIGlmKFwibnVtYmVyXCI9PT1lLnR5cGV8fFwicmFuZ2VcIj09PWUudHlwZSl7dmFyIGk9ZS52YWx1ZUFzTnVtYmVyO2lzTmFOKGkpfHwodD1pKX1lbHNlIHQ9XCJmaWxlXCI9PT1lLnR5cGU/ZS5maWxlczplLnZhbHVlO2Vsc2UgdD1lLnZhbHVlO3JldHVybntrZXk6bix2YWx1ZTp0fX0pKSx1PWUucHJvcHMuY29udGVudFR5cGU7aWYoXCJlbWFpbFwiPT09ZS5wcm9wcy5zZW5kU3VibWlzc2lvbnNUbyYmKHU9TVVMVElQQVJUX0NPTlRFTlRfVFlQRSksQXJyYXkuZnJvbShsKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLnZhbHVlOyh0IGluc3RhbmNlb2YgRmlsZXx8QXJyYXkuaXNBcnJheSh0KSYmdFswXWluc3RhbmNlb2YgRmlsZXx8dCBpbnN0YW5jZW9mIEZpbGVMaXN0KSYmKHU9TVVMVElQQVJUX0NPTlRFTlRfVFlQRSl9KSksdT09PU1VTFRJUEFSVF9DT05URU5UX1RZUEUpYT1zO2Vsc2UgaWYodT09PUpTT05fQ09OVEVOVF9UWVBFKXt2YXIgZD17fTtBcnJheS5mcm9tKGwpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWUsbj1lLmtleTtzZXQoZCxuLHQpfSkpLGE9SlNPTi5zdHJpbmdpZnkoZCl9ZWxzZXtpZih1IT09RU5DT0RFRF9DT05URU5UX1RZUEUpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlVuc3VwcG9ydGVkIGNvbnRlbnQgdHlwZTogXCIsdSk7YT1BcnJheS5mcm9tKGwpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZSxuPWUua2V5O3JldHVybiBlbmNvZGVVUklDb21wb25lbnQobikrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHQpfSkpLmpvaW4oXCImXCIpfXUmJnUhPT1NVUxUSVBBUlRfQ09OVEVOVF9UWVBFJiYoaSYmKG51bGw9PT0obj1lLnByb3BzLmFjdGlvbil8fHZvaWQgMD09PW4/dm9pZCAwOm4uaW5jbHVkZXMoXCJ6YXBpZXIuY29tXCIpKXx8KG9bXCJjb250ZW50LXR5cGVcIl09dSkpO3ZhciBjPW5ldyBDdXN0b21FdmVudChcInByZXN1Ym1pdFwiLHtkZXRhaWw6e2JvZHk6YX19KTtpZihlLnJlZiYmKGUucmVmLmRpc3BhdGNoRXZlbnQoYyksYy5kZWZhdWx0UHJldmVudGVkKSlyZXR1cm47ZS5zZXRTdGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSxlLnN0YXRlKSx7c3RhdGU6XCJzZW5kaW5nXCJ9KSk7dmFyIHA9XCJcIi5jb25jYXQoXCJkZXZcIj09PWJ1aWxkZXIuZW52P1wiaHR0cDovL2xvY2FsaG9zdDo1MDAwXCI6XCJodHRwczovL2J1aWxkZXIuaW9cIixcIi9hcGkvdjEvZm9ybS1zdWJtaXQ/YXBpS2V5PVwiKS5jb25jYXQoYnVpbGRlci5hcGlLZXksXCImdG89XCIpLmNvbmNhdChidG9hKGUucHJvcHMuc2VuZFN1Ym1pc3Npb25zVG9FbWFpbHx8XCJcIiksXCImbmFtZT1cIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLnByb3BzLm5hbWV8fFwiXCIpKTtmZXRjaChcImVtYWlsXCI9PT1lLnByb3BzLnNlbmRTdWJtaXNzaW9uc1RvP3A6ZS5wcm9wcy5hY3Rpb24se2JvZHk6YSxoZWFkZXJzOm8sbWV0aG9kOmUucHJvcHMubWV0aG9kfHxcInBvc3RcIn0pLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBfX2F3YWl0ZXIoZSx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4saSxyLG87cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6cmV0dXJuKG49dC5oZWFkZXJzLmdldChcImNvbnRlbnQtdHlwZVwiKSkmJi0xIT09bi5pbmRleE9mKEpTT05fQ09OVEVOVF9UWVBFKT9bNCx0Lmpzb24oKV06WzMsMl07Y2FzZSAxOnJldHVybiBlPWEuc2VudCgpLFszLDRdO2Nhc2UgMjpyZXR1cm5bNCx0LnRleHQoKV07Y2FzZSAzOmU9YS5zZW50KCksYS5sYWJlbD00O2Nhc2UgNDppZighdC5vayYmdGhpcy5wcm9wcy5lcnJvck1lc3NhZ2VQYXRoJiYoaT1nZXQoZSx0aGlzLnByb3BzLmVycm9yTWVzc2FnZVBhdGgpKSYmKFwic3RyaW5nXCIhPXR5cGVvZiBpJiYoaT1KU09OLnN0cmluZ2lmeShpKSksdGhpcy5zZXRTdGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSx0aGlzLnN0YXRlKSx7Zm9ybUVycm9yTWVzc2FnZTppfSkpKSx0aGlzLnNldFN0YXRlKF9fYXNzaWduKF9fYXNzaWduKHt9LHRoaXMuc3RhdGUpLHtyZXNwb25zZURhdGE6ZSxzdGF0ZTp0Lm9rP1wic3VjY2Vzc1wiOlwiZXJyb3JcIn0pKSx0Lm9rKXtpZihyPW5ldyBDdXN0b21FdmVudChcInN1Ym1pdDpzdWNjZXNzXCIse2RldGFpbDp7cmVzOnQsYm9keTplfX0pLHRoaXMucmVmKXtpZih0aGlzLnJlZi5kaXNwYXRjaEV2ZW50KHIpLHIuZGVmYXVsdFByZXZlbnRlZClyZXR1cm5bMl07ITEhPT10aGlzLnByb3BzLnJlc2V0Rm9ybU9uU3VibWl0JiZ0aGlzLnJlZi5yZXNldCgpfXRoaXMucHJvcHMuc3VjY2Vzc1VybCYmKHRoaXMucmVmPyhvPW5ldyBDdXN0b21FdmVudChcInJvdXRlXCIse2RldGFpbDp7dXJsOnRoaXMucHJvcHMuc3VjY2Vzc1VybH19KSx0aGlzLnJlZi5kaXNwYXRjaEV2ZW50KG8pLG8uZGVmYXVsdFByZXZlbnRlZHx8KGxvY2F0aW9uLmhyZWY9dGhpcy5wcm9wcy5zdWNjZXNzVXJsKSk6bG9jYXRpb24uaHJlZj10aGlzLnByb3BzLnN1Y2Nlc3NVcmwpfXJldHVyblsyXX19KSl9KSl9KSwoZnVuY3Rpb24odCl7dmFyIG49bmV3IEN1c3RvbUV2ZW50KFwic3VibWl0OmVycm9yXCIse2RldGFpbDp7ZXJyb3I6dH19KTtlLnJlZiYmKGUucmVmLmRpc3BhdGNoRXZlbnQobiksbi5kZWZhdWx0UHJldmVudGVkKXx8ZS5zZXRTdGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSxlLnN0YXRlKSx7cmVzcG9uc2VEYXRhOnQsc3RhdGU6XCJlcnJvclwifSkpfSkpfX19LGUucHJvcHMuYXR0cmlidXRlcyksZS5wcm9wcy5idWlsZGVyQmxvY2smJmUucHJvcHMuYnVpbGRlckJsb2NrLmNoaWxkcmVuJiZlLnByb3BzLmJ1aWxkZXJCbG9jay5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGpzeChCdWlsZGVyQmxvY2skMSx7a2V5OmUuaWQsYmxvY2s6ZX0pfSkpLFwiZXJyb3JcIj09PWUuc3VibWlzc2lvblN0YXRlJiZqc3goQnVpbGRlckJsb2Nrcyx7ZGF0YVBhdGg6XCJlcnJvck1lc3NhZ2VcIixibG9ja3M6ZS5wcm9wcy5lcnJvck1lc3NhZ2V9KSxcInNlbmRpbmdcIj09PWUuc3VibWlzc2lvblN0YXRlJiZqc3goQnVpbGRlckJsb2Nrcyx7ZGF0YVBhdGg6XCJzZW5kaW5nTWVzc2FnZVwiLGJsb2NrczplLnByb3BzLnNlbmRpbmdNZXNzYWdlfSksXCJlcnJvclwiPT09ZS5zdWJtaXNzaW9uU3RhdGUmJmUuc3RhdGUucmVzcG9uc2VEYXRhJiZqc3goXCJwcmVcIix7Y2xhc3NOYW1lOlwiYnVpbGRlci1mb3JtLWVycm9yLXRleHRcIixjc3M6e3BhZGRpbmc6MTAsY29sb3I6XCJyZWRcIix0ZXh0QWxpZ246XCJjZW50ZXJcIn19LEpTT04uc3RyaW5naWZ5KGUuc3RhdGUucmVzcG9uc2VEYXRhLG51bGwsMikpLFwic3VjY2Vzc1wiPT09ZS5zdWJtaXNzaW9uU3RhdGUmJmpzeChCdWlsZGVyQmxvY2tzLHtkYXRhUGF0aDpcInN1Y2Nlc3NNZXNzYWdlXCIsYmxvY2tzOmUucHJvcHMuc3VjY2Vzc01lc3NhZ2V9KSkpfSkpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLEZvcm09d2l0aEJ1aWxkZXIoRm9ybUNvbXBvbmVudCx7bmFtZTpcIkZvcm06Rm9ybVwiLGRlZmF1bHRzOntyZXNwb25zaXZlU3R5bGVzOntsYXJnZTp7bWFyZ2luVG9wOlwiMTVweFwiLHBhZGRpbmdCb3R0b206XCIxNXB4XCJ9fX0saW1hZ2U6XCJodHRwczovL2Nkbi5idWlsZGVyLmlvL2FwaS92MS9pbWFnZS9hc3NldHMlMkZJc3hQS01vMmdQUlJLZWFrVXp0ajFENnVxZWQyJTJGZWYzNmQyYTg0NjEzNDkxMGI2NGI4OGU2ZDE4YzVjYTVcIixpbnB1dHM6W3tuYW1lOlwic2VuZFN1Ym1pc3Npb25zVG9cIix0eXBlOlwic3RyaW5nXCIsZW51bTpbe2xhYmVsOlwiU2VuZCB0byBlbWFpbFwiLHZhbHVlOlwiZW1haWxcIixoZWxwZXJUZXh0OlwiU2VuZCBmb3JtIHN1Ym1pc3Npb25zIHRvIHRoZSBlbWFpbCBhZGRyZXNzIG9mIHlvdXIgY2hvb3NpbmdcIn0se2xhYmVsOlwiQ3VzdG9tXCIsdmFsdWU6XCJjdXN0b21cIixoZWxwZXJUZXh0OlwiSGFuZGxlIHdoZXJlIHRoZSBmb3JtIHJlcXVlc3RzIGdvIG1hbnVhbGx5IHdpdGggYSBsaXR0bGUgY29kZSwgZS5nLiB0byB5b3VyIG93biBjdXN0b20gYmFja2VuZFwifV0sZGVmYXVsdFZhbHVlOlwiZW1haWxcIn0se25hbWU6XCJzZW5kU3VibWlzc2lvbnNUb0VtYWlsXCIsdHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiEwLGRlZmF1bHRWYWx1ZTpcInlvdXJAZW1haWwuY29tXCIsc2hvd0lmOidvcHRpb25zLmdldChcInNlbmRTdWJtaXNzaW9uc1RvXCIpID09PSBcImVtYWlsXCInfSx7bmFtZTpcInNlbmRXaXRoSnNcIix0eXBlOlwiYm9vbGVhblwiLGhlbHBlclRleHQ6XCJTZXQgdG8gZmFsc2UgdG8gdXNlIGJhc2ljIGh0bWwgZm9ybSBhY3Rpb25cIixkZWZhdWx0VmFsdWU6ITAsc2hvd0lmOidvcHRpb25zLmdldChcInNlbmRTdWJtaXNzaW9uc1RvXCIpID09PSBcImN1c3RvbVwiJ30se25hbWU6XCJuYW1lXCIsdHlwZTpcInN0cmluZ1wiLGRlZmF1bHRWYWx1ZTpcIk15IGZvcm1cIn0se25hbWU6XCJhY3Rpb25cIix0eXBlOlwic3RyaW5nXCIsaGVscGVyVGV4dDpcIlVSTCB0byBzZW5kIHRoZSBmb3JtIGRhdGEgdG9cIixzaG93SWY6J29wdGlvbnMuZ2V0KFwic2VuZFN1Ym1pc3Npb25zVG9cIikgPT09IFwiY3VzdG9tXCInfSx7bmFtZTpcImNvbnRlbnRUeXBlXCIsdHlwZTpcInN0cmluZ1wiLGRlZmF1bHRWYWx1ZTpKU09OX0NPTlRFTlRfVFlQRSxhZHZhbmNlZDohMCxlbnVtOltKU09OX0NPTlRFTlRfVFlQRSxNVUxUSVBBUlRfQ09OVEVOVF9UWVBFLEVOQ09ERURfQ09OVEVOVF9UWVBFXSxzaG93SWY6J29wdGlvbnMuZ2V0KFwic2VuZFN1Ym1pc3Npb25zVG9cIikgPT09IFwiY3VzdG9tXCIgJiYgb3B0aW9ucy5nZXQoXCJzZW5kV2l0aEpzXCIpID09PSB0cnVlJ30se25hbWU6XCJtZXRob2RcIix0eXBlOlwic3RyaW5nXCIsc2hvd0lmOidvcHRpb25zLmdldChcInNlbmRTdWJtaXNzaW9uc1RvXCIpID09PSBcImN1c3RvbVwiJyxkZWZhdWx0VmFsdWU6XCJQT1NUXCIsYWR2YW5jZWQ6ITB9LHtuYW1lOlwicHJldmlld1N0YXRlXCIsdHlwZTpcInN0cmluZ1wiLGVudW06W1widW5zdWJtaXR0ZWRcIixcInNlbmRpbmdcIixcInN1Y2Nlc3NcIixcImVycm9yXCJdLGRlZmF1bHRWYWx1ZTpcInVuc3VibWl0dGVkXCIsaGVscGVyVGV4dDonQ2hvb3NlIGEgc3RhdGUgdG8gZWRpdCwgZS5nLiBjaG9vc2UgXCJzdWNjZXNzXCIgdG8gc2hvdyB3aGF0IHVzZXJzIHNlZSBvbiBzdWNjZXNzIGFuZCBlZGl0IHRoZSBtZXNzYWdlJyxzaG93SWY6J29wdGlvbnMuZ2V0KFwic2VuZFN1Ym1pc3Npb25zVG9cIikgIT09IFwiemFwaWVyXCIgJiYgb3B0aW9ucy5nZXQoXCJzZW5kV2l0aEpzXCIpID09PSB0cnVlJ30se25hbWU6XCJzdWNjZXNzVXJsXCIsdHlwZTpcInVybFwiLGhlbHBlclRleHQ6XCJPcHRpb25hbCBVUkwgdG8gcmVkaXJlY3QgdGhlIHVzZXIgdG8gb24gZm9ybSBzdWJtaXNzaW9uIHN1Y2Nlc3NcIixzaG93SWY6J29wdGlvbnMuZ2V0KFwic2VuZFN1Ym1pc3Npb25zVG9cIikgIT09IFwiemFwaWVyXCIgJiYgb3B0aW9ucy5nZXQoXCJzZW5kV2l0aEpzXCIpID09PSB0cnVlJ30se25hbWU6XCJyZXNldEZvcm1PblN1Ym1pdFwiLHR5cGU6XCJib29sZWFuXCIsc2hvd0lmOmZ1bmN0aW9uKGUpe3JldHVyblwiY3VzdG9tXCI9PT1lLmdldChcInNlbmRTdWJtaXNzaW9uc1RvXCIpJiYhMD09PWUuZ2V0KFwic2VuZFdpdGhKc1wiKX0sYWR2YW5jZWQ6ITB9LHtuYW1lOlwic3VjY2Vzc01lc3NhZ2VcIix0eXBlOlwidWlCbG9ja3NcIixoaWRlRnJvbVVJOiEwLGRlZmF1bHRWYWx1ZTpbe1wiQHR5cGVcIjpcIkBidWlsZGVyLmlvL3NkazpFbGVtZW50XCIscmVzcG9uc2l2ZVN0eWxlczp7bGFyZ2U6e21hcmdpblRvcDpcIjEwcHhcIn19LGNvbXBvbmVudDp7bmFtZTpcIlRleHRcIixvcHRpb25zOnt0ZXh0OlwiPHNwYW4+VGhhbmtzITwvc3Bhbj5cIn19fV19LHtuYW1lOlwidmFsaWRhdGVcIix0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHRWYWx1ZTohMCxhZHZhbmNlZDohMH0se25hbWU6XCJlcnJvck1lc3NhZ2VQYXRoXCIsdHlwZTpcInRleHRcIixhZHZhbmNlZDohMCxoZWxwZXJUZXh0OidQYXRoIHRvIHdoZXJlIHRvIGdldCB0aGUgZXJyb3IgbWVzc2FnZSBmcm9tIGluIGEgSlNPTiByZXNwb25zZSB0byBkaXNwbGF5IHRvIHRoZSB1c2VyLCBlLmcuIFwiZXJyb3IubWVzc2FnZVwiIGZvciBhIHJlc3BvbnNlIGxpa2UgeyBcImVycm9yXCI6IHsgXCJtZXNzYWdlXCI6IFwidGhpcyB1c2VybmFtZSBpcyB0YWtlblwiIH19J30se25hbWU6XCJlcnJvck1lc3NhZ2VcIix0eXBlOlwidWlCbG9ja3NcIixoaWRlRnJvbVVJOiEwLGRlZmF1bHRWYWx1ZTpbe1wiQHR5cGVcIjpcIkBidWlsZGVyLmlvL3NkazpFbGVtZW50XCIscmVzcG9uc2l2ZVN0eWxlczp7bGFyZ2U6e21hcmdpblRvcDpcIjEwcHhcIn19LGJpbmRpbmdzOntcImNvbXBvbmVudC5vcHRpb25zLnRleHRcIjpcInN0YXRlLmZvcm1FcnJvck1lc3NhZ2UgfHwgYmxvY2suY29tcG9uZW50Lm9wdGlvbnMudGV4dFwifSxjb21wb25lbnQ6e25hbWU6XCJUZXh0XCIsb3B0aW9uczp7dGV4dDpcIjxzcGFuPkZvcm0gc3VibWlzc2lvbiBlcnJvciA6KCBQbGVhc2UgY2hlY2sgeW91ciBhbnN3ZXJzIGFuZCB0cnkgYWdhaW48L3NwYW4+XCJ9fX1dfSx7bmFtZTpcInNlbmRpbmdNZXNzYWdlXCIsdHlwZTpcInVpQmxvY2tzXCIsaGlkZUZyb21VSTohMCxkZWZhdWx0VmFsdWU6W3tcIkB0eXBlXCI6XCJAYnVpbGRlci5pby9zZGs6RWxlbWVudFwiLHJlc3BvbnNpdmVTdHlsZXM6e2xhcmdlOnttYXJnaW5Ub3A6XCIxMHB4XCJ9fSxjb21wb25lbnQ6e25hbWU6XCJUZXh0XCIsb3B0aW9uczp7dGV4dDpcIjxzcGFuPlNlbmRpbmcuLi48L3NwYW4+XCJ9fX1dfSxfX2Fzc2lnbihfX2Fzc2lnbih7bmFtZTpcImN1c3RvbUhlYWRlcnNcIix0eXBlOlwibWFwXCJ9LHt2YWx1ZVR5cGU6e3R5cGU6XCJzdHJpbmdcIn19KSx7YWR2YW5jZWQ6ITAsc2hvd0lmOidvcHRpb25zLmdldChcInNlbmRTdWJtaXNzaW9uc1RvXCIpID09PSBcImN1c3RvbVwiICYmIG9wdGlvbnMuZ2V0KFwic2VuZFdpdGhKc1wiKSA9PT0gdHJ1ZSd9KV0sbm9XcmFwOiEwLGNhbkhhdmVDaGlsZHJlbjohMCxkZWZhdWx0Q2hpbGRyZW46W3tcIkB0eXBlXCI6XCJAYnVpbGRlci5pby9zZGs6RWxlbWVudFwiLHJlc3BvbnNpdmVTdHlsZXM6e2xhcmdlOnttYXJnaW5Ub3A6XCIxMHB4XCJ9fSxjb21wb25lbnQ6e25hbWU6XCJUZXh0XCIsb3B0aW9uczp7dGV4dDpcIjxzcGFuPkVudGVyIHlvdXIgbmFtZTwvc3Bhbj5cIn19fSx7XCJAdHlwZVwiOlwiQGJ1aWxkZXIuaW8vc2RrOkVsZW1lbnRcIixyZXNwb25zaXZlU3R5bGVzOntsYXJnZTp7bWFyZ2luVG9wOlwiMTBweFwifX0sY29tcG9uZW50OntuYW1lOlwiRm9ybTpJbnB1dFwiLG9wdGlvbnM6e25hbWU6XCJuYW1lXCIscGxhY2Vob2xkZXI6XCJKYW5lIERvZVwifX19LHtcIkB0eXBlXCI6XCJAYnVpbGRlci5pby9zZGs6RWxlbWVudFwiLHJlc3BvbnNpdmVTdHlsZXM6e2xhcmdlOnttYXJnaW5Ub3A6XCIxMHB4XCJ9fSxjb21wb25lbnQ6e25hbWU6XCJUZXh0XCIsb3B0aW9uczp7dGV4dDpcIjxzcGFuPkVudGVyIHlvdXIgZW1haWw8L3NwYW4+XCJ9fX0se1wiQHR5cGVcIjpcIkBidWlsZGVyLmlvL3NkazpFbGVtZW50XCIscmVzcG9uc2l2ZVN0eWxlczp7bGFyZ2U6e21hcmdpblRvcDpcIjEwcHhcIn19LGNvbXBvbmVudDp7bmFtZTpcIkZvcm06SW5wdXRcIixvcHRpb25zOntuYW1lOlwiZW1haWxcIixwbGFjZWhvbGRlcjpcImphbmVAZG9lLmNvbVwifX19LHtcIkB0eXBlXCI6XCJAYnVpbGRlci5pby9zZGs6RWxlbWVudFwiLHJlc3BvbnNpdmVTdHlsZXM6e2xhcmdlOnttYXJnaW5Ub3A6XCIxMHB4XCJ9fSxjb21wb25lbnQ6e25hbWU6XCJGb3JtOlN1Ym1pdEJ1dHRvblwiLG9wdGlvbnM6e3RleHQ6XCJTdWJtaXRcIn19fV19KSxGb3JtSW5wdXRDb21wb25lbnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIixfX2Fzc2lnbih7a2V5OkJ1aWxkZXIuaXNFZGl0aW5nJiZ0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZT90aGlzLnByb3BzLmRlZmF1bHRWYWx1ZTpcImRlZmF1bHQta2V5XCIscGxhY2Vob2xkZXI6dGhpcy5wcm9wcy5wbGFjZWhvbGRlcix0eXBlOnRoaXMucHJvcHMudHlwZSxuYW1lOnRoaXMucHJvcHMubmFtZX0sdm9pZCAwPT09dGhpcy5wcm9wcy52YWx1ZT97ZGVmYXVsdFZhbHVlOnRoaXMucHJvcHMuZGVmYXVsdFZhbHVlfTp7dmFsdWU6dGhpcy5wcm9wcy52YWx1ZX0se3JlcXVpcmVkOnRoaXMucHJvcHMucmVxdWlyZWR9LHRoaXMucHJvcHMuYXR0cmlidXRlcykpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLEZvcm1JbnB1dD13aXRoQnVpbGRlcihGb3JtSW5wdXRDb21wb25lbnQse25hbWU6XCJGb3JtOklucHV0XCIsaW1hZ2U6XCJodHRwczovL2Nkbi5idWlsZGVyLmlvL2FwaS92MS9pbWFnZS9hc3NldHMlMkZJc3hQS01vMmdQUlJLZWFrVXp0ajFENnVxZWQyJTJGYWQ2ZjM3ODg5ZDllNDBiYmJiYzcyY2RiNTg3NWQ2Y2FcIixpbnB1dHM6W3tuYW1lOlwidHlwZVwiLHR5cGU6XCJ0ZXh0XCIsZW51bTpbXCJ0ZXh0XCIsXCJudW1iZXJcIixcImVtYWlsXCIsXCJ1cmxcIixcImNoZWNrYm94XCIsXCJyYWRpb1wiLFwicmFuZ2VcIixcImRhdGVcIixcImRhdGV0aW1lLWxvY2FsXCIsXCJzZWFyY2hcIixcInRlbFwiLFwidGltZVwiLFwiZmlsZVwiLFwibW9udGhcIixcIndlZWtcIixcInBhc3N3b3JkXCIsXCJjb2xvclwiLFwiaGlkZGVuXCJdLGRlZmF1bHRWYWx1ZTpcInRleHRcIn0se25hbWU6XCJuYW1lXCIsdHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiEwLGhlbHBlclRleHQ6J0V2ZXJ5IGlucHV0IGluIGEgZm9ybSBuZWVkcyBhIHVuaXF1ZSBuYW1lIGRlc2NyaWJpbmcgd2hhdCBpdCB0YWtlcywgZS5nLiBcImVtYWlsXCInfSx7bmFtZTpcInBsYWNlaG9sZGVyXCIsdHlwZTpcInN0cmluZ1wiLGRlZmF1bHRWYWx1ZTpcIkhlbGxvIHRoZXJlXCIsaGVscGVyVGV4dDpcIlRleHQgdG8gZGlzcGxheSB3aGVuIHRoZXJlIGlzIG5vIHZhbHVlXCJ9LHtuYW1lOlwiZGVmYXVsdFZhbHVlXCIsdHlwZTpcInN0cmluZ1wifSx7bmFtZTpcInZhbHVlXCIsdHlwZTpcInN0cmluZ1wiLGFkdmFuY2VkOiEwfSx7bmFtZTpcInJlcXVpcmVkXCIsdHlwZTpcImJvb2xlYW5cIixoZWxwZXJUZXh0OlwiSXMgdGhpcyBpbnB1dCByZXF1aXJlZCB0byBiZSBmaWxsZWQgb3V0IHRvIHN1Ym1pdCBhIGZvcm1cIixkZWZhdWx0VmFsdWU6ITF9XSxub1dyYXA6ITAsc3RhdGljOiEwLGRlZmF1bHRTdHlsZXM6e3BhZGRpbmdUb3A6XCIxMHB4XCIscGFkZGluZ0JvdHRvbTpcIjEwcHhcIixwYWRkaW5nTGVmdDpcIjEwcHhcIixwYWRkaW5nUmlnaHQ6XCIxMHB4XCIsYm9yZGVyUmFkaXVzOlwiM3B4XCIsYm9yZGVyV2lkdGg6XCIxcHhcIixib3JkZXJTdHlsZTpcInNvbGlkXCIsYm9yZGVyQ29sb3I6XCIjY2NjXCJ9fSksRm9ybVN1Ym1pdEJ1dHRvbkNvbXBvbmVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIixfX2Fzc2lnbih7dHlwZTpcInN1Ym1pdFwifSx0aGlzLnByb3BzLmF0dHJpYnV0ZXMpLHRoaXMucHJvcHMudGV4dCl9LHR9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksRm9ybVN1Ym1pdEJ1dHRvbj13aXRoQnVpbGRlcihGb3JtU3VibWl0QnV0dG9uQ29tcG9uZW50LHtuYW1lOlwiRm9ybTpTdWJtaXRCdXR0b25cIixpbWFnZTpcImh0dHBzOi8vY2RuLmJ1aWxkZXIuaW8vYXBpL3YxL2ltYWdlL2Fzc2V0cyUyRklzeFBLTW8yZ1BSUktlYWtVenRqMUQ2dXFlZDIlMkZkZjI4MjBmZmVkMWY0MzQ5YTk0YzQwYjMyMjFmNWI5OFwiLGRlZmF1bHRTdHlsZXM6e2FwcGVhcmFuY2U6XCJub25lXCIscGFkZGluZ1RvcDpcIjE1cHhcIixwYWRkaW5nQm90dG9tOlwiMTVweFwiLHBhZGRpbmdMZWZ0OlwiMjVweFwiLHBhZGRpbmdSaWdodDpcIjI1cHhcIixiYWNrZ3JvdW5kQ29sb3I6XCIjMzg5OEVDXCIsY29sb3I6XCJ3aGl0ZVwiLGJvcmRlclJhZGl1czpcIjRweFwiLGN1cnNvcjpcInBvaW50ZXJcIn0saW5wdXRzOlt7bmFtZTpcInRleHRcIix0eXBlOlwidGV4dFwiLGRlZmF1bHRWYWx1ZTpcIkNsaWNrIG1lXCJ9XSxzdGF0aWM6ITAsbm9XcmFwOiEwfSksTGFiZWxDb21wb25lbnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIixfX2Fzc2lnbih7aHRtbEZvcjp0aGlzLnByb3BzLmZvcn0sdGhpcy5wcm9wcy5hdHRyaWJ1dGVzKSx0aGlzLnByb3BzLnRleHQmJlJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpcImJ1aWxkZXItbGFiZWwtdGV4dFwiLGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOntfX2h0bWw6dGhpcy5wcm9wcy50ZXh0fX0pLHRoaXMucHJvcHMuYnVpbGRlckJsb2NrJiZ0aGlzLnByb3BzLmJ1aWxkZXJCbG9jay5jaGlsZHJlbiYmdGhpcy5wcm9wcy5idWlsZGVyQmxvY2suY2hpbGRyZW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyQmxvY2skMSx7a2V5OmUuaWQsYmxvY2s6ZX0pfSkpKX0sdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxMYWJlbD13aXRoQnVpbGRlcihMYWJlbENvbXBvbmVudCx7bmFtZTpcIkZvcm06TGFiZWxcIixpbWFnZTpcImh0dHBzOi8vY2RuLmJ1aWxkZXIuaW8vYXBpL3YxL2ltYWdlL2Fzc2V0cyUyRklzeFBLTW8yZ1BSUktlYWtVenRqMUQ2dXFlZDIlMkY5MzIyMzQyZjA0YjU0NWZiOWE4MDkxY2Q4MDFkZmI1YlwiLGlucHV0czpbe25hbWU6XCJ0ZXh0XCIsdHlwZTpcImh0bWxcIixyaWNoVGV4dDohMCxkZWZhdWx0VmFsdWU6XCJMYWJlbFwifSx7bmFtZTpcImZvclwiLHR5cGU6XCJ0ZXh0XCIsaGVscGVyVGV4dDpcIlRoZSBuYW1lIG9mIHRoZSBpbnB1dCB0aGlzIGxhYmVsIGlzIGZvclwiLGFkdmFuY2VkOiEwfV0sbm9XcmFwOiEwLHN0YXRpYzohMCxjYW5IYXZlQ2hpbGRyZW46ITB9KSxGb3JtU2VsZWN0Q29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLm9wdGlvbnM7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIixfX2Fzc2lnbih7dmFsdWU6dGhpcy5wcm9wcy52YWx1ZSxrZXk6QnVpbGRlci5pc0VkaXRpbmcmJnRoaXMucHJvcHMuZGVmYXVsdFZhbHVlP3RoaXMucHJvcHMuZGVmYXVsdFZhbHVlOlwiZGVmYXVsdC1rZXlcIixkZWZhdWx0VmFsdWU6dGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUsbmFtZTp0aGlzLnByb3BzLm5hbWUscmVxdWlyZWQ6dGhpcy5wcm9wcy5yZXF1aXJlZH0sdGhpcy5wcm9wcy5hdHRyaWJ1dGVzKSxlJiZlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIix7dmFsdWU6ZS52YWx1ZX0sZS5uYW1lfHxlLnZhbHVlKX0pKSl9LHR9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksRm9ybVNlbGVjdD13aXRoQnVpbGRlcihGb3JtU2VsZWN0Q29tcG9uZW50LHtuYW1lOlwiRm9ybTpTZWxlY3RcIixpbWFnZTpcImh0dHBzOi8vY2RuLmJ1aWxkZXIuaW8vYXBpL3YxL2ltYWdlL2Fzc2V0cyUyRklzeFBLTW8yZ1BSUktlYWtVenRqMUQ2dXFlZDIlMkY4M2FjY2EwOTNmYjI0YWFmOTRkZWUxMzZlOWE0YjA0NVwiLGRlZmF1bHRTdHlsZXM6e2FsaWduU2VsZjpcImZsZXgtc3RhcnRcIn0saW5wdXRzOlt7bmFtZTpcIm9wdGlvbnNcIix0eXBlOlwibGlzdFwiLHJlcXVpcmVkOiEwLHN1YkZpZWxkczpbe25hbWU6XCJ2YWx1ZVwiLHR5cGU6XCJ0ZXh0XCIscmVxdWlyZWQ6ITB9LHtuYW1lOlwibmFtZVwiLHR5cGU6XCJ0ZXh0XCJ9XSxkZWZhdWx0VmFsdWU6W3t2YWx1ZTpcIm9wdGlvbiAxXCJ9LHt2YWx1ZTpcIm9wdGlvbiAyXCJ9XX0se25hbWU6XCJuYW1lXCIsdHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiEwLGhlbHBlclRleHQ6J0V2ZXJ5IHNlbGVjdCBpbiBhIGZvcm0gbmVlZHMgYSB1bmlxdWUgbmFtZSBkZXNjcmliaW5nIHdoYXQgaXQgZ2V0cywgZS5nLiBcImVtYWlsXCInfSx7bmFtZTpcImRlZmF1bHRWYWx1ZVwiLHR5cGU6XCJzdHJpbmdcIn0se25hbWU6XCJ2YWx1ZVwiLHR5cGU6XCJzdHJpbmdcIixhZHZhbmNlZDohMH0se25hbWU6XCJyZXF1aXJlZFwiLHR5cGU6XCJib29sZWFuXCIsZGVmYXVsdFZhbHVlOiExfV0sc3RhdGljOiEwLG5vV3JhcDohMH0pLFRleHRBcmVhQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIsX19hc3NpZ24oe3BsYWNlaG9sZGVyOnRoaXMucHJvcHMucGxhY2Vob2xkZXIsbmFtZTp0aGlzLnByb3BzLm5hbWUsdmFsdWU6dGhpcy5wcm9wcy52YWx1ZSxkZWZhdWx0VmFsdWU6dGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUscmVxdWlyZWQ6dGhpcy5wcm9wcy5yZXF1aXJlZH0sdGhpcy5wcm9wcy5hdHRyaWJ1dGVzKSl9LHR9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksVGV4dEFyZWE9d2l0aEJ1aWxkZXIoVGV4dEFyZWFDb21wb25lbnQse25hbWU6XCJGb3JtOlRleHRBcmVhXCIsaW1hZ2U6XCJodHRwczovL2Nkbi5idWlsZGVyLmlvL2FwaS92MS9pbWFnZS9hc3NldHMlMkZJc3hQS01vMmdQUlJLZWFrVXp0ajFENnVxZWQyJTJGZjc0YTJmM2RlNThjNGMzZTkzOTIwNGU1YjZiOGY2YzNcIixpbnB1dHM6W3thZHZhbmNlZDohMCxuYW1lOlwidmFsdWVcIix0eXBlOlwic3RyaW5nXCJ9LHtuYW1lOlwibmFtZVwiLHR5cGU6XCJzdHJpbmdcIixyZXF1aXJlZDohMCxoZWxwZXJUZXh0OidFdmVyeSBpbnB1dCBpbiBhIGZvcm0gbmVlZHMgYSB1bmlxdWUgbmFtZSBkZXNjcmliaW5nIHdoYXQgaXQgZ2V0cywgZS5nLiBcImVtYWlsXCInfSx7bmFtZTpcImRlZmF1bHRWYWx1ZVwiLHR5cGU6XCJzdHJpbmdcIn0se25hbWU6XCJwbGFjZWhvbGRlclwiLHR5cGU6XCJzdHJpbmdcIixkZWZhdWx0VmFsdWU6XCJIZWxsbyB0aGVyZVwifSx7bmFtZTpcInJlcXVpcmVkXCIsdHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6ITF9XSxkZWZhdWx0U3R5bGVzOntwYWRkaW5nVG9wOlwiMTBweFwiLHBhZGRpbmdCb3R0b206XCIxMHB4XCIscGFkZGluZ0xlZnQ6XCIxMHB4XCIscGFkZGluZ1JpZ2h0OlwiMTBweFwiLGJvcmRlclJhZGl1czpcIjNweFwiLGJvcmRlcldpZHRoOlwiMXB4XCIsYm9yZGVyU3R5bGU6XCJzb2xpZFwiLGJvcmRlckNvbG9yOlwiI2NjY1wifSxzdGF0aWM6ITAsbm9XcmFwOiEwfSksSW1nQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5nZXRTcmNTZXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLmltYWdlO2lmKGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLm1hdGNoKC9idWlsZGVyXFwuaW8vKSlyZXR1cm4gZ2V0U3JjU2V0KGUpfSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLmF0dHJpYnV0ZXN8fHt9LHQ9dGhpcy5nZXRTcmNTZXQoKSxuPWUuc3R5bGUsaT1fX3Jlc3QoZSxbXCJzdHlsZVwiXSkscj17b2JqZWN0Rml0OnRoaXMucHJvcHMuYmFja2dyb3VuZFNpemUsb2JqZWN0UG9zaXRpb246dGhpcy5wcm9wcy5iYWNrZ3JvdW5kUG9zaXRpb24sYXNwZWN0UmF0aW86dGhpcy5wcm9wcy5hc3BlY3RSYXRpb30sbz1fX2Fzc2lnbihfX2Fzc2lnbih7fSxyKSxuKTtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImltZ1wiLF9fYXNzaWduKHtsb2FkaW5nOlwibGF6eVwifSxpLHtzcmM6dGhpcy5wcm9wcy5pbWFnZXx8ZS5zcmMsc3JjU2V0OnQsYWx0OnRoaXMucHJvcHMuYWx0VGV4dCx0aXRsZTp0aGlzLnByb3BzLnRpdGxlLHN0eWxlOm8sY2xhc3NOYW1lOlwiYnVpbGRlci1yYXctaW1nXCJ9KSl9LHR9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksSW1nPXdpdGhCdWlsZGVyKEltZ0NvbXBvbmVudCx7bmFtZTpcIlJhdzpJbWdcIixoaWRlRnJvbUluc2VydE1lbnU6ITAsaW1hZ2U6XCJodHRwczovL2ZpcmViYXNlc3RvcmFnZS5nb29nbGVhcGlzLmNvbS92MC9iL2J1aWxkZXItM2IwYTIuYXBwc3BvdC5jb20vby9pbWFnZXMlMkZiYXNlbGluZS1pbnNlcnRfcGhvdG8tMjRweC5zdmc/YWx0PW1lZGlhJnRva2VuPTRlNWQwZWY0LWY1ZTgtNGU1Ny1iM2E5LTM4ZDYzYTliOWRjNFwiLGlucHV0czpbe25hbWU6XCJpbWFnZVwiLGJ1YmJsZTohMCx0eXBlOlwiZmlsZVwiLGFsbG93ZWRGaWxlVHlwZXM6SU1BR0VfRklMRV9UWVBFUyxyZXF1aXJlZDohMH0se25hbWU6XCJiYWNrZ3JvdW5kU2l6ZVwiLHR5cGU6XCJ0ZXh0XCIsZGVmYXVsdFZhbHVlOlwiY292ZXJcIixlbnVtOlt7bGFiZWw6XCJjb250YWluXCIsdmFsdWU6XCJjb250YWluXCIsaGVscGVyVGV4dDpcIlRoZSBpbWFnZSBzaG91bGQgbmV2ZXIgZ2V0IGNyb3BwZWRcIn0se2xhYmVsOlwiY292ZXJcIix2YWx1ZTpcImNvdmVyXCIsaGVscGVyVGV4dDpcIlRoZSBpbWFnZSBzaG91bGQgZmlsbCBpdCdzIGJveCwgY3JvcHBpbmcgd2hlbiBuZWVkZWRcIn1dfSx7bmFtZTpcImJhY2tncm91bmRQb3NpdGlvblwiLHR5cGU6XCJ0ZXh0XCIsZGVmYXVsdFZhbHVlOlwiY2VudGVyXCIsZW51bTpbXCJjZW50ZXJcIixcInRvcFwiLFwibGVmdFwiLFwicmlnaHRcIixcImJvdHRvbVwiLFwidG9wIGxlZnRcIixcInRvcCByaWdodFwiLFwiYm90dG9tIGxlZnRcIixcImJvdHRvbSByaWdodFwiXX0se25hbWU6XCJhbHRUZXh0XCIsdHlwZTpcInN0cmluZ1wiLGhlbHBlclRleHQ6XCJUZXh0IHRvIGRpc3BsYXkgd2hlbiB0aGUgdXNlciBoYXMgaW1hZ2VzIG9mZlwifSx7bmFtZTpcInRpdGxlXCIsdHlwZTpcInN0cmluZ1wiLGhlbHBlclRleHQ6XCJUZXh0IHRvIGRpc3BsYXkgd2hlbiBob3ZlcmluZyBvdmVyIHRoZSBhc3NldFwifSx7bmFtZTpcImFzcGVjdFJhdGlvXCIsdHlwZTpcIm51bWJlclwiLGhlbHBlclRleHQ6XCJUaGlzIGlzIHRoZSByYXRpbyBvZiBoZWlnaHQvd2lkdGgsIGUuZy4gc2V0IHRvIDEuNSBmb3IgYSAzMDBweCB3aWRlIGFuZCAyMDBweCB0YWxsIHBob3RvLiBTZXQgdG8gMCB0byBub3QgZm9yY2UgdGhlIGltYWdlIHRvIG1haW50YWluIGl0J3MgYXNwZWN0IHJhdGlvXCIsYWR2YW5jZWQ6ITAsZGVmYXVsdFZhbHVlOi43MDQxfV0sbm9XcmFwOiEwfSksUmF3VGV4dD1mdW5jdGlvbihlKXt2YXIgdD1lLmF0dHJpYnV0ZXN8fHt9O3JldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6KG51bGw9PXQ/dm9pZCAwOnQuY2xhc3MpfHwobnVsbD09dD92b2lkIDA6dC5jbGFzc05hbWUpLGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOntfX2h0bWw6ZS50ZXh0fHxcIlwifX0pfTtCdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50KFJhd1RleHQse25hbWU6XCJCdWlsZGVyOlJhd1RleHRcIixoaWRlRnJvbUluc2VydE1lbnU6ITAsaW5wdXRzOlt7bmFtZTpcInRleHRcIixidWJibGU6ITAsdHlwZTpcImxvbmdUZXh0XCIscmVxdWlyZWQ6ITB9XX0pO3ZhciBmaWx0ZXJXaXRoQ3VzdG9tVGFyZ2V0aW5nU2NyaXB0PSdmdW5jdGlvbiBmaWx0ZXJXaXRoQ3VzdG9tVGFyZ2V0aW5nKGUsdCxuLHIpe3ZhciBpPXtxdWVyeTp0LHN0YXJ0RGF0ZTpuLGVuZERhdGU6cn0sbz1lLmRhdGUmJm5ldyBEYXRlKGUuZGF0ZSl8fG5ldyBEYXRlO3JldHVybiEoaS5zdGFydERhdGUmJm5ldyBEYXRlKGkuc3RhcnREYXRlKT5vKSYmKCEoaS5lbmREYXRlJiZuZXcgRGF0ZShpLmVuZERhdGUpPG8pJiYoIWkucXVlcnl8fCFpLnF1ZXJ5Lmxlbmd0aHx8aS5xdWVyeS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIG9iamVjdE1hdGNoZXNRdWVyeShlLHQpfSkpKSl9ZnVuY3Rpb24gaXNTdHJpbmcoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9ZnVuY3Rpb24gaXNOdW1iZXIoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9ZnVuY3Rpb24gb2JqZWN0TWF0Y2hlc1F1ZXJ5KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dC5wcm9wZXJ0eSxyPXQub3BlcmF0b3IsaT10LnZhbHVlO2lmKHQmJlwidXJsUGF0aFwiPT09dC5wcm9wZXJ0eSYmdC52YWx1ZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQudmFsdWUmJlwiL1wiIT09dC52YWx1ZSYmdC52YWx1ZS5lbmRzV2l0aChcIi9cIikmJihpPXQudmFsdWUuc2xpY2UoMCwtMSkpLCFufHwhcilyZXR1cm4hMDtpZihBcnJheS5pc0FycmF5KGkpKXJldHVyblwiaXNOb3RcIj09PXI/aS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIG9iamVjdE1hdGNoZXNRdWVyeShlLHtwcm9wZXJ0eTpuLG9wZXJhdG9yOnIsdmFsdWU6dH0pfSkpOiEhaS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gb2JqZWN0TWF0Y2hlc1F1ZXJ5KGUse3Byb3BlcnR5Om4sb3BlcmF0b3I6cix2YWx1ZTp0fSl9KSk7dmFyIG89ZVtuXTtpZihBcnJheS5pc0FycmF5KG8pKXJldHVybiBvLmluY2x1ZGVzKGkpO3N3aXRjaChyKXtjYXNlXCJpc1wiOnJldHVybiBvPT09aTtjYXNlXCJpc05vdFwiOnJldHVybiBvIT09aTtjYXNlXCJjb250YWluc1wiOnJldHVybihpc1N0cmluZyhvKXx8QXJyYXkuaXNBcnJheShvKSkmJm8uaW5jbHVkZXMoU3RyaW5nKGkpKTtjYXNlXCJzdGFydHNXaXRoXCI6cmV0dXJuIGlzU3RyaW5nKG8pJiZvLnN0YXJ0c1dpdGgoU3RyaW5nKGkpKTtjYXNlXCJlbmRzV2l0aFwiOnJldHVybiBpc1N0cmluZyhvKSYmby5lbmRzV2l0aChTdHJpbmcoaSkpO2Nhc2VcImdyZWF0ZXJUaGFuXCI6cmV0dXJuIGlzTnVtYmVyKG8pJiZpc051bWJlcihpKSYmbz5pO2Nhc2VcImxlc3NUaGFuXCI6cmV0dXJuIGlzTnVtYmVyKG8pJiZpc051bWJlcihpKSYmbzxpO2Nhc2VcImdyZWF0ZXJUaGFuT3JFcXVhbFRvXCI6cmV0dXJuIGlzTnVtYmVyKG8pJiZpc051bWJlcihpKSYmbz49aTtjYXNlXCJsZXNzVGhhbk9yRXF1YWxUb1wiOnJldHVybiBpc051bWJlcihvKSYmaXNOdW1iZXIoaSkmJm88PWl9cmV0dXJuITF9KCl9JztmdW5jdGlvbiBmaWx0ZXJXaXRoQ3VzdG9tVGFyZ2V0aW5nKGUsdCxuLGkpe3ZhciByPXtxdWVyeTp0LHN0YXJ0RGF0ZTpuLGVuZERhdGU6aX0sbz1lLmRhdGUmJm5ldyBEYXRlKGUuZGF0ZSl8fG5ldyBEYXRlO3JldHVybiEoci5zdGFydERhdGUmJm5ldyBEYXRlKHIuc3RhcnREYXRlKT5vKSYmKCEoci5lbmREYXRlJiZuZXcgRGF0ZShyLmVuZERhdGUpPG8pJiYoIXIucXVlcnl8fCFyLnF1ZXJ5Lmxlbmd0aHx8ci5xdWVyeS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIG9iamVjdE1hdGNoZXNRdWVyeShlLHQpfSkpKSl9ZnVuY3Rpb24gaXNTdHJpbmcoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9ZnVuY3Rpb24gaXNOdW1iZXIoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9ZnVuY3Rpb24gb2JqZWN0TWF0Y2hlc1F1ZXJ5KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dC5wcm9wZXJ0eSxpPXQub3BlcmF0b3Iscj10LnZhbHVlO2lmKHQmJlwidXJsUGF0aFwiPT09dC5wcm9wZXJ0eSYmdC52YWx1ZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQudmFsdWUmJlwiL1wiIT09dC52YWx1ZSYmdC52YWx1ZS5lbmRzV2l0aChcIi9cIikmJihyPXQudmFsdWUuc2xpY2UoMCwtMSkpLCFufHwhaSlyZXR1cm4hMDtpZihBcnJheS5pc0FycmF5KHIpKXJldHVyblwiaXNOb3RcIj09PWk/ci5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIG9iamVjdE1hdGNoZXNRdWVyeShlLHtwcm9wZXJ0eTpuLG9wZXJhdG9yOmksdmFsdWU6dH0pfSkpOiEhci5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gb2JqZWN0TWF0Y2hlc1F1ZXJ5KGUse3Byb3BlcnR5Om4sb3BlcmF0b3I6aSx2YWx1ZTp0fSl9KSk7dmFyIG89ZVtuXTtpZihBcnJheS5pc0FycmF5KG8pKXJldHVybiBvLmluY2x1ZGVzKHIpO3N3aXRjaChpKXtjYXNlXCJpc1wiOnJldHVybiBvPT09cjtjYXNlXCJpc05vdFwiOnJldHVybiBvIT09cjtjYXNlXCJjb250YWluc1wiOnJldHVybihpc1N0cmluZyhvKXx8QXJyYXkuaXNBcnJheShvKSkmJm8uaW5jbHVkZXMoU3RyaW5nKHIpKTtjYXNlXCJzdGFydHNXaXRoXCI6cmV0dXJuIGlzU3RyaW5nKG8pJiZvLnN0YXJ0c1dpdGgoU3RyaW5nKHIpKTtjYXNlXCJlbmRzV2l0aFwiOnJldHVybiBpc1N0cmluZyhvKSYmby5lbmRzV2l0aChTdHJpbmcocikpO2Nhc2VcImdyZWF0ZXJUaGFuXCI6cmV0dXJuIGlzTnVtYmVyKG8pJiZpc051bWJlcihyKSYmbz5yO2Nhc2VcImxlc3NUaGFuXCI6cmV0dXJuIGlzTnVtYmVyKG8pJiZpc051bWJlcihyKSYmbzxyO2Nhc2VcImdyZWF0ZXJUaGFuT3JFcXVhbFRvXCI6cmV0dXJuIGlzTnVtYmVyKG8pJiZpc051bWJlcihyKSYmbz49cjtjYXNlXCJsZXNzVGhhbk9yRXF1YWxUb1wiOnJldHVybiBpc051bWJlcihvKSYmaXNOdW1iZXIocikmJm88PXJ9cmV0dXJuITF9KCl9ZnVuY3Rpb24gUGVyc29uYWxpemF0aW9uQ29udGFpbmVyKGUpe3ZhciB0LG4saSxyLG8sYSxzLGwsdSxkLGMscCxmLG0saCx2LGcsYix5LF8seCxTPUJvb2xlYW4oQnVpbGRlci5pc0Jyb3dzZXImJihudWxsPT09KHQ9d2luZG93Ll9faHlkcmF0ZWQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0W251bGw9PT0obj1lLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PW4/dm9pZCAwOm4uaWRdKSksaz11c2VSZWYobnVsbCksQj11c2VTdGF0ZShTKSx3PUJbMF0sQz1CWzFdLEU9dXNlU3RhdGUoITEpLFI9RVswXSxUPUVbMV0sST11c2VTdGF0ZSgwKTtJWzBdO3ZhciBqPUlbMV0sTz11c2VDb250ZXh0KEJ1aWxkZXJTdG9yZUNvbnRleHQpO2lmKHVzZUVmZmVjdCgoZnVuY3Rpb24oKXt2YXIgZTtDKCEwKSxUKCEwKTt2YXIgdD1idWlsZGVyLnVzZXJBdHRyaWJ1dGVzQ2hhbmdlZC5zdWJzY3JpYmUoKGZ1bmN0aW9uKCl7aigoZnVuY3Rpb24oZSl7cmV0dXJuIGUrMX0pKX0pKSxuPVtmdW5jdGlvbigpe3JldHVybiB0LnVuc3Vic2NyaWJlKCl9XTtpZighQnVpbGRlci5pc0VkaXRpbmcmJiFCdWlsZGVyLmlzUHJldmlld2luZyl7dmFyIGk9UFswXTtudWxsPT09KGU9ay5jdXJyZW50KXx8dm9pZCAwPT09ZXx8ZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImJ1aWxkZXIudmFyaWFudExvYWRlZFwiLHtkZXRhaWw6e3ZhcmlhbnQ6aXx8XCJkZWZhdWx0XCIsY29udGVudDpPLmNvbnRlbnR9LGJ1YmJsZXM6ITB9KSk7dmFyIHI9bmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChmdW5jdGlvbihlKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0O2UuaXNJbnRlcnNlY3RpbmcmJihudWxsPT09KHQ9ay5jdXJyZW50KXx8dm9pZCAwPT09dHx8dC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImJ1aWxkZXIudmFyaWFudERpc3BsYXllZFwiLHtkZXRhaWw6e3ZhcmlhbnQ6aXx8XCJkZWZhdWx0XCIsY29udGVudDpPLmNvbnRlbnR9LGJ1YmJsZXM6ITB9KSkpfSkpfSkpO3Iub2JzZXJ2ZShrLmN1cnJlbnQpLG4ucHVzaCgoZnVuY3Rpb24oKXtyZXR1cm4gci5kaXNjb25uZWN0KCl9KSl9cmV0dXJuIGZ1bmN0aW9uKCl7bi5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSkpfX0pLFtdKSxCdWlsZGVyLmlzU2VydmVyKXJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LG51bGwsUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLF9fYXNzaWduKHt9LGUuYXR0cmlidXRlcyx7c3R5bGU6X19hc3NpZ24oe29wYWNpdHk6MSx0cmFuc2l0aW9uOlwib3BhY2l0eSAwLjJzIGVhc2UtaW4tb3V0XCJ9LG51bGw9PT0oaT1lLmF0dHJpYnV0ZXMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnN0eWxlKSxjbGFzc05hbWU6XCJidWlsZGVyLXBlcnNvbmFsaXphdGlvbi1jb250YWluZXIgXCIuY29uY2F0KGUuYXR0cmlidXRlcy5jbGFzc05hbWUpfSksbnVsbD09PShyPWUudmFyaWFudHMpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm1hcCgoZnVuY3Rpb24odCxuKXt2YXIgaSxyO3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIix7a2V5Om4sXCJkYXRhLXZhcmlhbnQtaWRcIjoobnVsbD09PShpPWUuYnVpbGRlckJsb2NrKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pZCkrbn0sUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyQmxvY2tzLHtibG9ja3M6dC5ibG9ja3MscGFyZW50RWxlbWVudElkOm51bGw9PT0ocj1lLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaWQsZGF0YVBhdGg6XCJjb21wb25lbnQub3B0aW9ucy52YXJpYW50cy5cIi5jb25jYXQobixcIi5ibG9ja3NcIiksY2hpbGQ6ITB9KSl9KSksUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiLHtub25jZTpPLmNvbnRleHQubm9uY2UsaWQ6XCJ2YXJpYW50cy1zY3JpcHQtXCIuY29uY2F0KG51bGw9PT0obz1lLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PW8/dm9pZCAwOm8uaWQpLGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOntfX2h0bWw6Z2V0UGVyc29uYWxpemF0aW9uU2NyaXB0KGUudmFyaWFudHMsKG51bGw9PT0oYT1lLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PWE/dm9pZCAwOmEuaWQpfHxcIm5vbmVcIixudWxsPT09KHM9ZS5idWlsZGVyU3RhdGUuc3RhdGUpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmxvY2FsZSl9fSksUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyQmxvY2tzLHtibG9ja3M6bnVsbD09PShsPWUuYnVpbGRlckJsb2NrKXx8dm9pZCAwPT09bD92b2lkIDA6bC5jaGlsZHJlbixwYXJlbnRFbGVtZW50SWQ6bnVsbD09PSh1PWUuYnVpbGRlckJsb2NrKXx8dm9pZCAwPT09dT92b2lkIDA6dS5pZCxkYXRhUGF0aDpcInRoaXMuY2hpbGRyZW5cIixjaGlsZDohMH0pKSxSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIse25vbmNlOk8uY29udGV4dC5ub25jZSxkYW5nZXJvdXNseVNldElubmVySFRNTDp7X19odG1sOlwiXFxuICAgICAgICAgd2luZG93Ll9faHlkcmF0ZWQgPSB3aW5kb3cuX19oeWRyYXRlZCB8fCB7fTtcXG4gICAgICAgICB3aW5kb3cuX19oeWRyYXRlZFsnXCIuY29uY2F0KG51bGw9PT0oZD1lLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PWQ/dm9pZCAwOmQuaWQsXCInXSA9IHRydWU7XFxuICAgICAgICBcIikucmVwbGFjZSgvXFxzKy9nLFwiIFwiKX19KSk7dmFyIFA9KGUudmFyaWFudHN8fFtdKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3ZhciBuO3JldHVybiBmaWx0ZXJXaXRoQ3VzdG9tVGFyZ2V0aW5nKF9fYXNzaWduKF9fYXNzaWduKHt9LChudWxsPT09KG49ZS5idWlsZGVyU3RhdGUuc3RhdGUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmxvY2FsZSk/e2xvY2FsZTplLmJ1aWxkZXJTdGF0ZS5zdGF0ZS5sb2NhbGV9Ont9KSxidWlsZGVyLmdldFVzZXJBdHRyaWJ1dGVzKCkpLHQucXVlcnksdC5zdGFydERhdGUsdC5lbmREYXRlKX0pKTtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCxudWxsLFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixfX2Fzc2lnbih7cmVmOmt9LGUuYXR0cmlidXRlcyx7c3R5bGU6X19hc3NpZ24oe29wYWNpdHk6dz8xOjAsdHJhbnNpdGlvbjpcIm9wYWNpdHkgMC4ycyBlYXNlLWluLW91dFwifSxudWxsPT09KGM9ZS5hdHRyaWJ1dGVzKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5zdHlsZSksY2xhc3NOYW1lOlwiYnVpbGRlci1wZXJzb25hbGl6YXRpb24tY29udGFpbmVyIFwiLmNvbmNhdChlLmF0dHJpYnV0ZXMuY2xhc3NOYW1lKS5jb25jYXQodz9cIlwiOlwiIGJ1aWxkZXItcGVyc29uYWxpemF0aW9uLWNvbnRhaW5lci1sb2FkaW5nXCIpfSksUiYmQnVpbGRlci5pc0VkaXRpbmcmJlwibnVtYmVyXCI9PXR5cGVvZiBlLnByZXZpZXdpbmdJbmRleCYmZS5wcmV2aWV3aW5nSW5kZXg8KChudWxsPT09KHA9ZS52YXJpYW50cyl8fHZvaWQgMD09PXA/dm9pZCAwOnAubGVuZ3RoKXx8MCk/UmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyQmxvY2tzLHtibG9ja3M6bnVsbD09PShtPW51bGw9PT0oZj1lLnZhcmlhbnRzKXx8dm9pZCAwPT09Zj92b2lkIDA6ZltlLnByZXZpZXdpbmdJbmRleF0pfHx2b2lkIDA9PT1tP3ZvaWQgMDptLmJsb2NrcyxwYXJlbnRFbGVtZW50SWQ6bnVsbD09PShoPWUuYnVpbGRlckJsb2NrKXx8dm9pZCAwPT09aD92b2lkIDA6aC5pZCxkYXRhUGF0aDpcImNvbXBvbmVudC5vcHRpb25zLnZhcmlhbnRzLlwiLmNvbmNhdChlLnByZXZpZXdpbmdJbmRleCxcIi5ibG9ja3NcIiksY2hpbGQ6ITB9KTpSJiZCdWlsZGVyLmlzRWRpdGluZyYmXCJudW1iZXJcIiE9dHlwZW9mIGUucHJldmlld2luZ0luZGV4fHwhd3x8IVAubGVuZ3RoP1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlckJsb2Nrcyx7YmxvY2tzOm51bGw9PT0odj1lLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PXY/dm9pZCAwOnYuY2hpbGRyZW4scGFyZW50RWxlbWVudElkOm51bGw9PT0oZz1lLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PWc/dm9pZCAwOmcuaWQsZGF0YVBhdGg6XCJ0aGlzLmNoaWxkcmVuXCIsY2hpbGQ6ITB9KTpSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1aWxkZXJCbG9ja3Mse2Jsb2NrczpudWxsPT09KGI9UFswXSl8fHZvaWQgMD09PWI/dm9pZCAwOmIuYmxvY2tzLHBhcmVudEVsZW1lbnRJZDpudWxsPT09KHk9ZS5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT15P3ZvaWQgMDp5LmlkLGRhdGFQYXRoOlwiY29tcG9uZW50Lm9wdGlvbnMudmFyaWFudHMuXCIuY29uY2F0KG51bGw9PT0oXz1lLnZhcmlhbnRzKXx8dm9pZCAwPT09Xz92b2lkIDA6Xy5pbmRleE9mKFBbMF0pLFwiLmJsb2Nrc1wiKSxjaGlsZDohMH0pKSxSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIse25vbmNlOk8uY29udGV4dC5ub25jZSxkYW5nZXJvdXNseVNldElubmVySFRNTDp7X19odG1sOlwiXFxuICAgICAgICAgd2luZG93Ll9faHlkcmF0ZWQgPSB3aW5kb3cuX19oeWRyYXRlZCB8fCB7fTtcXG4gICAgICAgICB3aW5kb3cuX19oeWRyYXRlZFsnXCIuY29uY2F0KG51bGw9PT0oeD1lLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PXg/dm9pZCAwOnguaWQsXCInXSA9IHRydWU7XFxuICAgICAgICBcIikucmVwbGFjZSgvXFxzKy9nLFwiIFwiKX19KSl9ZnVuY3Rpb24gZ2V0UGVyc29uYWxpemF0aW9uU2NyaXB0KGUsdCxuKXtyZXR1cm5cIlxcbiAgICAgIChmdW5jdGlvbigpIHtcXG4gICAgICAgIGZ1bmN0aW9uIGdldENvb2tpZShuYW1lKSB7XFxuICAgICAgICAgIHZhciBuYW1lRVEgPSBuYW1lICsgXFxcIj1cXFwiO1xcbiAgICAgICAgICB2YXIgY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTtcXG4gICAgICAgICAgZm9yKHZhciBpPTA7aSA8IGNhLmxlbmd0aDtpKyspIHtcXG4gICAgICAgICAgICAgIHZhciBjID0gY2FbaV07XFxuICAgICAgICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCk9PScgJykgYyA9IGMuc3Vic3RyaW5nKDEsYy5sZW5ndGgpO1xcbiAgICAgICAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lRVEpID09IDApIHJldHVybiBjLnN1YnN0cmluZyhuYW1lRVEubGVuZ3RoLGMubGVuZ3RoKTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICByZXR1cm4gbnVsbDtcXG4gICAgICAgIH1cXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZVZhcmlhbnRzKCkge1xcbiAgICAgICAgICB2YXJpYW50cy5mb3JFYWNoKGZ1bmN0aW9uICh0ZW1wbGF0ZSwgaW5kZXgpIHtcXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZVtkYXRhLXZhcmlhbnQtaWQ9XFxcIicgKyBcXFwiXCIuY29uY2F0KHQsXCJcXFwiICsgaW5kZXggKyAnXFxcIl0nKS5yZW1vdmUoKTtcXG4gICAgICAgICAgfSk7XFxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YXJpYW50cy1zY3JpcHQtXCIpLmNvbmNhdCh0LFwiJykucmVtb3ZlKCk7XFxuICAgICAgICB9XFxuXFxuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IEpTT04ucGFyc2UoZ2V0Q29va2llKFxcXCJcIikuY29uY2F0KEJ1aWxkZXIuYXR0cmlidXRlc0Nvb2tpZU5hbWUsJ1wiKSB8fCBcInt9XCIpO1xcbiAgICAgICAgJykuY29uY2F0KG4/J2F0dHJpYnV0ZXMubG9jYWxlID0gXCInLmNvbmNhdChuLCdcIjsnKTpcIlwiLFwiXFxuICAgICAgICB2YXIgdmFyaWFudHMgPSBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG51bGw9PWU/dm9pZCAwOmUubWFwKChmdW5jdGlvbihlKXtyZXR1cm57cXVlcnk6ZS5xdWVyeSxzdGFydERhdGU6ZS5zdGFydERhdGUsZW5kRGF0ZTplLmVuZERhdGV9fSkpKSxcIjtcXG4gICAgICAgIHZhciB3aW5uaW5nVmFyaWFudEluZGV4ID0gdmFyaWFudHMuZmluZEluZGV4KGZ1bmN0aW9uKHZhcmlhbnQpIHtcXG4gICAgICAgICAgcmV0dXJuIGZpbHRlcldpdGhDdXN0b21UYXJnZXRpbmcoXFxuICAgICAgICAgICAgYXR0cmlidXRlcyxcXG4gICAgICAgICAgICB2YXJpYW50LnF1ZXJ5LFxcbiAgICAgICAgICAgIHZhcmlhbnQuc3RhcnREYXRlLFxcbiAgICAgICAgICAgIHZhcmlhbnQuZW5kRGF0ZVxcbiAgICAgICAgICApO1xcbiAgICAgICAgfSk7XFxuICAgICAgICB2YXIgaXNEZWJ1ZyA9IGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2J1aWxkZXIuZGVidWc9dHJ1ZScpO1xcbiAgICAgICAgaWYgKGlzRGVidWcpIHtcXG4gICAgICAgICAgY29uc29sZS5kZWJ1ZygnUGVyc29uYWxpemF0aW9uQ29udGFpbmVyJywge1xcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMsXFxuICAgICAgICAgICAgdmFyaWFudHM6IHZhcmlhbnRzLFxcbiAgICAgICAgICAgIHdpbm5pbmdWYXJpYW50SW5kZXg6IHdpbm5pbmdWYXJpYW50SW5kZXgsXFxuICAgICAgICAgICAgfSk7XFxuICAgICAgICB9XFxuICAgICAgICBpZiAod2lubmluZ1ZhcmlhbnRJbmRleCAhPT0gLTEpIHtcXG4gICAgICAgICAgdmFyIHdpbm5pbmdWYXJpYW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGVtcGxhdGVbZGF0YS12YXJpYW50LWlkPVxcXCInICsgXFxcIlwiKS5jb25jYXQodCxcIlxcXCIgKyB3aW5uaW5nVmFyaWFudEluZGV4ICsgJ1xcXCJdJyk7XFxuICAgICAgICAgIGlmICh3aW5uaW5nVmFyaWFudCkge1xcbiAgICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gd2lubmluZ1ZhcmlhbnQucGFyZW50Tm9kZTtcXG4gICAgICAgICAgICB2YXIgbmV3UGFyZW50ID0gcGFyZW50Tm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xcbiAgICAgICAgICAgIG5ld1BhcmVudC5hcHBlbmRDaGlsZCh3aW5uaW5nVmFyaWFudC5jb250ZW50LmZpcnN0Q2hpbGQpO1xcbiAgICAgICAgICAgIHBhcmVudE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3UGFyZW50LCBwYXJlbnROb2RlKTtcXG4gICAgICAgICAgICBpZiAoaXNEZWJ1Zykge1xcbiAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnUGVyc29uYWxpemF0aW9uQ29udGFpbmVyJywgJ1dpbm5pbmcgdmFyaWFudCBSZXBsYWNlZDonLCB3aW5uaW5nVmFyaWFudCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICB9IGVsc2UgaWYgKHZhcmlhbnRzLmxlbmd0aCA+IDApIHtcXG4gICAgICAgICAgcmVtb3ZlVmFyaWFudHMoKTtcXG4gICAgICAgIH1cXG4gICAgICAgIFwiKS5jb25jYXQoZmlsdGVyV2l0aEN1c3RvbVRhcmdldGluZ1NjcmlwdCxcIlxcbiAgICAgIH0pKCk7XFxuICAgIFwiKS5yZXBsYWNlKC9cXHMrL2csXCIgXCIpfWZ1bmN0aW9uIHVzZUlzUHJldmlld2luZygpe3ZhciBlPXVzZVN0YXRlKCExKSx0PWVbMF0sbj1lWzFdO3JldHVybiB1c2VFZmZlY3QoKGZ1bmN0aW9uKCl7KEJ1aWxkZXIuaXNFZGl0aW5nfHxCdWlsZGVyLmlzUHJldmlld2luZykmJm4oITApfSksW10pLHR9QnVpbGRlci5yZWdpc3RlckNvbXBvbmVudChQZXJzb25hbGl6YXRpb25Db250YWluZXIse25hbWU6XCJQZXJzb25hbGl6YXRpb25Db250YWluZXJcIixub1dyYXA6ITAsZnJpZW5kbHlOYW1lOlwiRHluYW1pYyBDb250YWluZXJcIixpbWFnZTpcImh0dHBzOi8vY2RuLmJ1aWxkZXIuaW8vYXBpL3YxL2ltYWdlL2Fzc2V0cyUyRllKSUdiNGkwMWp2dzBTUmRMNUJ0JTJGMzcyMjllZDMwZDhjNDFkZmIxMGI4Y2NhMTk5MjA1M2FcIixjYW5IYXZlQ2hpbGRyZW46ITAsaW5wdXRzOlt7bmFtZTpcInZhcmlhbnRzXCIsZGVmYXVsdFZhbHVlOltdLGJlaGF2aW9yOlwicGVyc29uYWxpemF0aW9uVmFyaWFudExpc3RcIix0eXBlOlwibGlzdFwiLHN1YkZpZWxkczpbe25hbWU6XCJuYW1lXCIsdHlwZTpcInRleHRcIixsb2NhbGl6ZWQ6ITF9LHtuYW1lOlwicXVlcnlcIixmcmllbmRseU5hbWU6XCJUYXJnZXRpbmcgcnVsZXNcIix0eXBlOlwiQnVpbGRlclF1ZXJ5XCIsZGVmYXVsdFZhbHVlOltdLGxvY2FsaXplZDohMX0se25hbWU6XCJzdGFydERhdGVcIix0eXBlOlwiZGF0ZVwiLGxvY2FsaXplZDohMX0se25hbWU6XCJlbmREYXRlXCIsdHlwZTpcImRhdGVcIixsb2NhbGl6ZWQ6ITF9LHtuYW1lOlwiYmxvY2tzXCIsdHlwZTpcIlVpQmxvY2tzXCIsaGlkZUZyb21VSTohMCxkZWZhdWx0VmFsdWU6W119XX1dfSksQnVpbGRlci5pc1JlYWN0PSEwLEJ1aWxkZXIuc2RrSW5mbz17bmFtZTpcInJlYWN0XCIsdmVyc2lvbjpTREtfVkVSU0lPTn07ZXhwb3J0e0J1aWxkZXJBc3luY1JlcXVlc3RzQ29udGV4dCxCdWlsZGVyQmxvY2ssQnVpbGRlckJsb2NrJDEgYXMgQnVpbGRlckJsb2NrQ29tcG9uZW50LEJ1aWxkZXJCbG9ja3MsQnVpbGRlckNvbXBvbmVudCxCdWlsZGVyQ29udGVudCxCdWlsZGVyTWV0YUNvbnRleHQsQnVpbGRlckNvbXBvbmVudCBhcyBCdWlsZGVyUGFnZSxCdWlsZGVyU3RvcmVDb250ZXh0LEJ1dHRvbixDb2x1bW5zLEJ1aWxkZXJDb21wb25lbnQgYXMgQ29udGVudCxDdXN0b21Db2RlLFNsb3QgYXMgRHJvcHpvbmUsRW1iZWQsRm9ybSxGb3JtSW5wdXQsRm9ybVNlbGVjdCxGb3JtU3VibWl0QnV0dG9uLEZyYWdtZW50LEltYWdlLEltZyxMYWJlbCxNdXRhdGlvbixQZXJzb25hbGl6YXRpb25Db250YWluZXIsUmF3VGV4dCxSb3V0ZXIsU2VjdGlvbixTdGF0ZVByb3ZpZGVyLFN5bWJvbCQxIGFzIFN5bWJvbCxUZXh0LFRleHRBcmVhLFZpZGVvLGdldFNyY1NldCxub1dyYXAsb25DaGFuZ2Usc3RyaW5nVG9GdW5jdGlvbix1cGRhdGVNZXRhZGF0YSx1c2VJc1ByZXZpZXdpbmcsd2l0aEJ1aWxkZXIsd2l0aENoaWxkcmVufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkZXItcmVhY3QuZXM1LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@builder.io/react/dist/builder-react.es5.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@builder.io/sdk/dist/index.esm.js":
/*!********************************************************!*\
  !*** ./node_modules/@builder.io/sdk/dist/index.esm.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BehaviorSubject: () => (/* binding */ BehaviorSubject),\n/* harmony export */   Builder: () => (/* binding */ Builder),\n/* harmony export */   BuilderComponent: () => (/* binding */ BuilderComponent),\n/* harmony export */   Subscription: () => (/* binding */ Subscription),\n/* harmony export */   builder: () => (/* binding */ builder),\n/* harmony export */   isBrowser: () => (/* binding */ isBrowser)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var hash_sum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hash-sum */ \"(ssr)/./node_modules/hash-sum/hash-sum.js\");\n/* harmony import */ var hash_sum__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(hash_sum__WEBPACK_IMPORTED_MODULE_0__);\n\n\n(function() {\n    if (true) return false;\n    function CustomEvent(event, params) {\n        params = params || {\n            bubbles: false,\n            cancelable: false,\n            detail: null\n        };\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n    }\n    window.CustomEvent = CustomEvent;\n})();\nvar isSafari =  false && 0;\nvar isClient = \"undefined\" !== 'undefined';\n// TODO: queue all of these in a debounceNextTick\nfunction nextTick(fn) {\n    // if (typeof process !== 'undefined' && process.nextTick) {\n    //   console.log('process.nextTick?');\n    //   process.nextTick(fn);\n    //   return;\n    // }\n    // FIXME: fix the real safari issue of this randomly not working\n    if (!isClient || isSafari || typeof MutationObserver === 'undefined') {\n        setTimeout(fn);\n        return;\n    }\n    var called = 0;\n    var observer = new MutationObserver(function() {\n        return fn();\n    });\n    var element = document.createTextNode('');\n    observer.observe(element, {\n        characterData: true\n    });\n    // tslint:disable-next-line\n    element.data = String(called = ++called);\n}\nvar PROPERTY_NAME_DENY_LIST = Object.freeze([\n    '__proto__',\n    'prototype',\n    'constructor'\n]);\n// TODO: unit tests\nvar QueryString = /** @class */ function() {\n    function QueryString1() {}\n    QueryString1.parseDeep = function(queryString) {\n        var obj = this.parse(queryString);\n        return this.deepen(obj);\n    };\n    QueryString1.stringifyDeep = function(obj) {\n        var map = this.flatten(obj);\n        return this.stringify(map);\n    };\n    QueryString1.parse = function(queryString) {\n        var query = {};\n        var pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\n        for(var i = 0; i < pairs.length; i++){\n            var pair = pairs[i].split('=');\n            // TODO: node support?\n            try {\n                query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\n            } catch (error) {\n            // Ignore malformed URI components\n            }\n        }\n        return query;\n    };\n    QueryString1.stringify = function(map) {\n        var str = '';\n        for(var key in map){\n            if (map.hasOwnProperty(key)) {\n                var value = map[key];\n                if (str) {\n                    str += '&';\n                }\n                str += encodeURIComponent(key) + '=' + encodeURIComponent(value);\n            }\n        }\n        return str;\n    };\n    QueryString1.deepen = function(map) {\n        // FIXME; Should be type Tree = Record<string, string | Tree>\n        // requires a typescript upgrade.\n        var output = {};\n        for(var k in map){\n            var t = output;\n            var parts = k.split('.');\n            var key = parts.pop();\n            for(var _i = 0, parts_1 = parts; _i < parts_1.length; _i++){\n                var part = parts_1[_i];\n                assertAllowedPropertyName(part);\n                t = t[part] = t[part] || {};\n            }\n            t[key] = map[k];\n        }\n        return output;\n    };\n    QueryString1.flatten = function(obj, _current, _res) {\n        if (_res === void 0) {\n            _res = {};\n        }\n        for(var key in obj){\n            var value = obj[key];\n            var newKey = _current ? _current + '.' + key : key;\n            if (value && typeof value === 'object') {\n                this.flatten(value, newKey, _res);\n            } else {\n                _res[newKey] = value;\n            }\n        }\n        return _res;\n    };\n    return QueryString1;\n}();\nfunction assertAllowedPropertyName(name) {\n    if (PROPERTY_NAME_DENY_LIST.indexOf(name) >= 0) throw new Error(\"Property name \\\"\".concat(name, \"\\\" is not allowed\"));\n}\nvar Subscription = /** @class */ function() {\n    function Subscription1(listeners, listener) {\n        this.listeners = listeners;\n        this.listener = listener;\n        this.unsubscribed = false;\n        this.otherSubscriptions = [];\n    }\n    Object.defineProperty(Subscription1.prototype, \"closed\", {\n        get: function() {\n            return this.unsubscribed;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Subscription1.prototype.add = function(subscription) {\n        this.otherSubscriptions.push(subscription);\n    };\n    Subscription1.prototype.unsubscribe = function() {\n        if (this.unsubscribed) {\n            return;\n        }\n        if (this.listener && this.listeners) {\n            var index = this.listeners.indexOf(this.listener);\n            if (index > -1) {\n                this.listeners.splice(index, 1);\n            }\n        }\n        this.otherSubscriptions.forEach(function(sub) {\n            return sub.unsubscribe();\n        });\n        this.unsubscribed = true;\n    };\n    return Subscription1;\n}();\n// TODO: follow minimal basic spec: https://github.com/tc39/proposal-observable\nvar BehaviorSubject = /** @class */ function() {\n    function BehaviorSubject1(value) {\n        var _this = this;\n        this.value = value;\n        this.listeners = [];\n        this.errorListeners = [];\n        this.then = function() {\n            var _a;\n            var args = [];\n            for(var _i = 0; _i < arguments.length; _i++){\n                args[_i] = arguments[_i];\n            }\n            return (_a = _this.toPromise()).then.apply(_a, args);\n        };\n    }\n    BehaviorSubject1.prototype.next = function(value) {\n        this.value = value;\n        for(var _i = 0, _a = this.listeners; _i < _a.length; _i++){\n            var listener = _a[_i];\n            listener(value);\n        }\n    };\n    // TODO: implement this as PIPE instead\n    BehaviorSubject1.prototype.map = function(fn) {\n        var newSubject = new BehaviorSubject1(fn(this.value));\n        // TODO: on destroy delete these\n        this.subscribe(function(val) {\n            newSubject.next(fn(val));\n        });\n        this.catch(function(err) {\n            newSubject.error(err);\n        });\n        return newSubject;\n    };\n    BehaviorSubject1.prototype.catch = function(errorListener) {\n        this.errorListeners.push(errorListener);\n        return new Subscription(this.errorListeners, errorListener);\n    };\n    BehaviorSubject1.prototype.error = function(error) {\n        for(var _i = 0, _a = this.errorListeners; _i < _a.length; _i++){\n            var listener = _a[_i];\n            listener(error);\n        }\n    };\n    BehaviorSubject1.prototype.subscribe = function(listener, errorListener) {\n        this.listeners.push(listener);\n        if (errorListener) {\n            this.errorListeners.push(errorListener);\n        }\n        return new Subscription(this.listeners, listener);\n    };\n    BehaviorSubject1.prototype.toPromise = function() {\n        var _this = this;\n        return new Promise(function(resolve, reject) {\n            var subscription = _this.subscribe(function(value) {\n                resolve(value);\n                subscription.unsubscribe();\n            }, function(err) {\n                reject(err);\n                subscription.unsubscribe();\n            });\n        });\n    };\n    BehaviorSubject1.prototype.promise = function() {\n        return this.toPromise();\n    };\n    return BehaviorSubject1;\n}();\nvar State = {\n    Pending: 'Pending',\n    Fulfilled: 'Fulfilled',\n    Rejected: 'Rejected'\n};\nfunction isFunction(val) {\n    return val && typeof val === 'function';\n}\nfunction isObject(val) {\n    return val && typeof val === 'object';\n}\nvar TinyPromise = /** @class */ function() {\n    function TinyPromise1(executor) {\n        this._state = State.Pending;\n        this._handlers = [];\n        this._value = null;\n        executor(this._resolve.bind(this), this._reject.bind(this));\n    }\n    TinyPromise1.prototype._resolve = function(x) {\n        var _this = this;\n        if (x instanceof TinyPromise1) {\n            x.then(this._resolve.bind(this), this._reject.bind(this));\n        } else if (isObject(x) || isFunction(x)) {\n            var called_1 = false;\n            try {\n                var thenable = x.then;\n                if (isFunction(thenable)) {\n                    thenable.call(x, function(result) {\n                        if (!called_1) _this._resolve(result);\n                        called_1 = true;\n                        return undefined;\n                    }, function(error) {\n                        if (!called_1) _this._reject(error);\n                        called_1 = true;\n                        return undefined;\n                    });\n                } else {\n                    this._fulfill(x);\n                }\n            } catch (ex) {\n                if (!called_1) {\n                    this._reject(ex);\n                }\n            }\n        } else {\n            this._fulfill(x);\n        }\n    };\n    TinyPromise1.prototype._fulfill = function(result) {\n        var _this = this;\n        this._state = State.Fulfilled;\n        this._value = result;\n        this._handlers.forEach(function(handler) {\n            return _this._callHandler(handler);\n        });\n    };\n    TinyPromise1.prototype._reject = function(error) {\n        var _this = this;\n        this._state = State.Rejected;\n        this._value = error;\n        this._handlers.forEach(function(handler) {\n            return _this._callHandler(handler);\n        });\n    };\n    TinyPromise1.prototype._isPending = function() {\n        return this._state === State.Pending;\n    };\n    TinyPromise1.prototype._isFulfilled = function() {\n        return this._state === State.Fulfilled;\n    };\n    TinyPromise1.prototype._isRejected = function() {\n        return this._state === State.Rejected;\n    };\n    TinyPromise1.prototype._addHandler = function(onFulfilled, onRejected) {\n        this._handlers.push({\n            onFulfilled: onFulfilled,\n            onRejected: onRejected\n        });\n    };\n    TinyPromise1.prototype._callHandler = function(handler) {\n        if (this._isFulfilled() && isFunction(handler.onFulfilled)) {\n            handler.onFulfilled(this._value);\n        } else if (this._isRejected() && isFunction(handler.onRejected)) {\n            handler.onRejected(this._value);\n        }\n    };\n    TinyPromise1.prototype.then = function(onFulfilled, onRejected) {\n        var _this = this;\n        switch(this._state){\n            case State.Pending:\n                {\n                    return new TinyPromise1(function(resolve, reject) {\n                        _this._addHandler(function(value) {\n                            nextTick(function() {\n                                try {\n                                    if (isFunction(onFulfilled)) {\n                                        resolve(onFulfilled(value));\n                                    } else {\n                                        resolve(value);\n                                    }\n                                } catch (ex) {\n                                    reject(ex);\n                                }\n                            });\n                        }, function(error) {\n                            nextTick(function() {\n                                try {\n                                    if (isFunction(onRejected)) {\n                                        resolve(onRejected(error));\n                                    } else {\n                                        reject(error);\n                                    }\n                                } catch (ex) {\n                                    reject(ex);\n                                }\n                            });\n                        });\n                    });\n                }\n            case State.Fulfilled:\n                {\n                    return new TinyPromise1(function(resolve, reject) {\n                        nextTick(function() {\n                            try {\n                                if (isFunction(onFulfilled)) {\n                                    resolve(onFulfilled(_this._value));\n                                } else {\n                                    resolve(_this._value);\n                                }\n                            } catch (ex) {\n                                reject(ex);\n                            }\n                        });\n                    });\n                }\n            case State.Rejected:\n                {\n                    return new TinyPromise1(function(resolve, reject) {\n                        nextTick(function() {\n                            try {\n                                if (isFunction(onRejected)) {\n                                    resolve(onRejected(_this._value));\n                                } else {\n                                    reject(_this._value);\n                                }\n                            } catch (ex) {\n                                reject(ex);\n                            }\n                        });\n                    });\n                }\n        }\n    };\n    return TinyPromise1;\n}();\nvar Promise$1 = typeof Promise !== 'undefined' ? Promise : TinyPromise;\n// Webpack workaround to conditionally require certain external modules\n// only on the server and not bundle them on the client\nvar serverOnlyRequire;\ntry {\n    // tslint:disable-next-line:no-eval\n    serverOnlyRequire = eval('require');\n} catch (err) {\n    // all good\n    serverOnlyRequire = function() {\n        return null;\n    };\n}\nvar serverOnlyRequire$1 = serverOnlyRequire;\nfunction promiseResolve(value) {\n    return new Promise$1(function(resolve) {\n        return resolve(value);\n    });\n}\n// Adapted from https://raw.githubusercontent.com/developit/unfetch/master/src/index.mjs\nfunction tinyFetch(url, options) {\n    if (options === void 0) {\n        options = {};\n    }\n    return new Promise$1(function(resolve, reject) {\n        var request = new XMLHttpRequest();\n        request.open(options.method || 'get', url, true);\n        if (options.headers) {\n            for(var i in options.headers){\n                request.setRequestHeader(i, options.headers[i]);\n            }\n        }\n        request.withCredentials = options.credentials === 'include';\n        request.onload = function() {\n            resolve(response());\n        };\n        request.onerror = reject;\n        request.send(options.body);\n        function response() {\n            var keys = [];\n            var all = [];\n            var headers = {};\n            var header = undefined;\n            request.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, function(_match, _key, value) {\n                var key = _key;\n                keys.push(key = key.toLowerCase());\n                all.push([\n                    key,\n                    value\n                ]);\n                header = headers[key];\n                headers[key] = header ? \"\".concat(header, \",\").concat(value) : value;\n                return '';\n            });\n            return {\n                ok: (request.status / 100 | 0) === 2,\n                status: request.status,\n                statusText: request.statusText,\n                url: request.responseURL,\n                clone: response,\n                text: function() {\n                    return promiseResolve(request.responseText);\n                },\n                json: function() {\n                    return promiseResolve(request.responseText).then(JSON.parse);\n                },\n                blob: function() {\n                    return promiseResolve(new Blob([\n                        request.response\n                    ]));\n                },\n                headers: {\n                    keys: function() {\n                        return keys;\n                    },\n                    entries: function() {\n                        return all;\n                    },\n                    get: function(n) {\n                        return headers[n.toLowerCase()];\n                    },\n                    has: function(n) {\n                        return n.toLowerCase() in headers;\n                    }\n                }\n            };\n        }\n    });\n}\nfunction getFetch() {\n    // If fetch is defined, in the browser, via polyfill, or in a Cloudflare worker, use it.\n    var _fetch = undefined;\n    if (globalThis.fetch) {\n        _fetch !== null && _fetch !== void 0 ? _fetch : _fetch = globalThis.fetch;\n    } else if (true) {\n        // If fetch is not defined, in a Node.js environment, use node-fetch.\n        try {\n            // node-fetch@^3 is ESM only, and will throw error on require.\n            _fetch !== null && _fetch !== void 0 ? _fetch : _fetch = serverOnlyRequire$1('node-fetch');\n        } catch (e) {\n            // If node-fetch is not installed, use tiny-fetch.\n            console.warn('node-fetch is not installed. consider polyfilling fetch or installing node-fetch.');\n            console.warn(e);\n        }\n    }\n    // Otherwise, use tiny-fetch.\n    return _fetch !== null && _fetch !== void 0 ? _fetch : tinyFetch;\n}\nfunction assign(target) {\n    var to = Object(target);\n    for(var index = 1; index < arguments.length; index++){\n        var nextSource = arguments[index];\n        if (nextSource != null) {\n            // Skip over if undefined or null\n            for(var nextKey in nextSource){\n                // Avoid bugs when hasOwnProperty is shadowed\n                if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                    to[nextKey] = nextSource[nextKey];\n                }\n            }\n        }\n    }\n    return to;\n}\nfunction throttle(func, wait, options) {\n    if (options === void 0) {\n        options = {};\n    }\n    var context;\n    var args;\n    var result;\n    var timeout = null;\n    var previous = 0;\n    var later = function() {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n    };\n    return function() {\n        var now = Date.now();\n        if (!previous && options.leading === false) previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        } else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\nvar camelCaseToKebabCase = function(str) {\n    return str ? str.replace(/([A-Z])/g, function(g) {\n        return \"-\".concat(g[0].toLowerCase());\n    }) : '';\n};\nvar Animator = /** @class */ function() {\n    function Animator1() {}\n    Animator1.prototype.bindAnimations = function(animations) {\n        for(var _i = 0, animations_1 = animations; _i < animations_1.length; _i++){\n            var animation = animations_1[_i];\n            switch(animation.trigger){\n                case 'pageLoad':\n                    this.triggerAnimation(animation);\n                    break;\n                case 'hover':\n                    this.bindHoverAnimation(animation);\n                    break;\n                case 'scrollInView':\n                    this.bindScrollInViewAnimation(animation);\n                    break;\n            }\n        }\n    };\n    Animator1.prototype.warnElementNotPresent = function(id) {\n        console.warn(\"Cannot animate element: element with ID \".concat(id, \" not found!\"));\n    };\n    Animator1.prototype.augmentAnimation = function(animation, element) {\n        var stylesUsed = this.getAllStylesUsed(animation);\n        var computedStyle = getComputedStyle(element);\n        // const computedStyle = getComputedStyle(element);\n        // // FIXME: this will break if original load is in one reponsive size then resize to another hmmm\n        // Need to use transform instead of left since left can change on screen sizes\n        var firstStyles = animation.steps[0].styles;\n        var lastStyles = animation.steps[animation.steps.length - 1].styles;\n        var bothStyles = [\n            firstStyles,\n            lastStyles\n        ];\n        // FIXME: this won't work as expected for augmented animations - may need the editor itself to manage this\n        for(var _i = 0, bothStyles_1 = bothStyles; _i < bothStyles_1.length; _i++){\n            var styles = bothStyles_1[_i];\n            for(var _a = 0, stylesUsed_1 = stylesUsed; _a < stylesUsed_1.length; _a++){\n                var style = stylesUsed_1[_a];\n                if (!(style in styles)) {\n                    styles[style] = computedStyle[style];\n                }\n            }\n        }\n    };\n    Animator1.prototype.getAllStylesUsed = function(animation) {\n        var properties = [];\n        for(var _i = 0, _a = animation.steps; _i < _a.length; _i++){\n            var step = _a[_i];\n            for(var key in step.styles){\n                if (properties.indexOf(key) === -1) {\n                    properties.push(key);\n                }\n            }\n        }\n        return properties;\n    };\n    Animator1.prototype.triggerAnimation = function(animation) {\n        var _this = this;\n        // TODO: do for ALL elements\n        var elements = Array.prototype.slice.call(document.getElementsByClassName(animation.elementId || animation.id || ''));\n        if (!elements.length) {\n            this.warnElementNotPresent(animation.elementId || animation.id || '');\n            return;\n        }\n        Array.from(elements).forEach(function(element) {\n            _this.augmentAnimation(animation, element);\n            // TODO: do this properly, may have other animations of different properties\n            // TODO: only override the properties\n            // TODO: if there is an entrance and hover animation, the transition duration will get effed\n            // element.setAttribute('style', '');\n            // const styledUsed = this.getAllStylesUsed(animation);\n            element.style.transition = 'none';\n            element.style.transitionDelay = '0';\n            assign(element.style, animation.steps[0].styles);\n            // TODO: queue/batch these timeouts\n            // TODO: only include properties explicitly set in the animation\n            // using Object.keys(styles)\n            setTimeout(function() {\n                element.style.transition = \"all \".concat(animation.duration, \"s \").concat(camelCaseToKebabCase(animation.easing));\n                if (animation.delay) {\n                    element.style.transitionDelay = animation.delay + 's';\n                }\n                assign(element.style, animation.steps[1].styles);\n                // TODO: maybe remove/reset transitoin property after animation duration\n                // TODO: queue timers\n                setTimeout(function() {\n                    // TODO: what if has other transition (reset back to what it was)\n                    element.style.transition = '';\n                    element.style.transitionDelay = '';\n                }, (animation.delay || 0) * 1000 + animation.duration * 1000 + 100);\n            });\n        });\n    };\n    Animator1.prototype.bindHoverAnimation = function(animation) {\n        var _this = this;\n        // TODO: is it multiple binding when editing...?\n        // TODO: unbind on element remove\n        // TODO: apply to ALL elements\n        var elements = Array.prototype.slice.call(document.getElementsByClassName(animation.elementId || animation.id || ''));\n        if (!elements.length) {\n            this.warnElementNotPresent(animation.elementId || animation.id || '');\n            return;\n        }\n        Array.from(elements).forEach(function(element) {\n            _this.augmentAnimation(animation, element);\n            var defaultState = animation.steps[0].styles;\n            var hoverState = animation.steps[1].styles;\n            function attachDefaultState() {\n                assign(element.style, defaultState);\n            }\n            function attachHoverState() {\n                assign(element.style, hoverState);\n            }\n            attachDefaultState();\n            element.addEventListener('mouseenter', attachHoverState);\n            element.addEventListener('mouseleave', attachDefaultState);\n            // TODO: queue/batch these timeouts\n            setTimeout(function() {\n                element.style.transition = \"all \".concat(animation.duration, \"s \").concat(camelCaseToKebabCase(animation.easing));\n                if (animation.delay) {\n                    element.style.transitionDelay = animation.delay + 's';\n                }\n            });\n        });\n    };\n    // TODO: unbind on element remove\n    Animator1.prototype.bindScrollInViewAnimation = function(animation) {\n        var _this = this;\n        // TODO: apply to ALL matching elements\n        var elements = Array.prototype.slice.call(document.getElementsByClassName(animation.elementId || animation.id || ''));\n        if (!elements.length) {\n            this.warnElementNotPresent(animation.elementId || animation.id || '');\n            return;\n        }\n        // TODO: if server side rendered and scrolled into view don't animate...\n        Array.from(elements).forEach(function(element) {\n            _this.augmentAnimation(animation, element);\n            var triggered = false;\n            var pendingAnimation = false;\n            function immediateOnScroll() {\n                if (!triggered && isScrolledIntoView(element)) {\n                    triggered = true;\n                    pendingAnimation = true;\n                    setTimeout(function() {\n                        assign(element.style, animation.steps[1].styles);\n                        if (!animation.repeat) {\n                            document.removeEventListener('scroll', onScroll);\n                        }\n                        setTimeout(function() {\n                            pendingAnimation = false;\n                            if (!animation.repeat) {\n                                element.style.transition = '';\n                                element.style.transitionDelay = '';\n                            }\n                        }, (animation.duration + (animation.delay || 0)) * 1000 + 100);\n                    });\n                } else if (animation.repeat && triggered && !pendingAnimation && !isScrolledIntoView(element)) {\n                    // we want to repeat the animation every time the the element is out of view and back again\n                    triggered = false;\n                    assign(element.style, animation.steps[0].styles);\n                }\n            }\n            // TODO: roll all of these in one for more efficiency of checking all the rects\n            var onScroll = throttle(immediateOnScroll, 200, {\n                leading: false\n            });\n            // TODO: fully in view or partially\n            function isScrolledIntoView(elem) {\n                var rect = elem.getBoundingClientRect();\n                var windowHeight = window.innerHeight;\n                var thresholdPercent = (animation.thresholdPercent || 0) / 100;\n                var threshold = thresholdPercent * windowHeight;\n                // TODO: partial in view? or what if element is larger than screen itself\n                return rect.bottom > threshold && rect.top < windowHeight - threshold // Element is peeking top or bottom\n                ;\n            }\n            var defaultState = animation.steps[0].styles;\n            function attachDefaultState() {\n                assign(element.style, defaultState);\n            }\n            attachDefaultState();\n            // TODO: queue/batch these timeouts!\n            setTimeout(function() {\n                element.style.transition = \"all \".concat(animation.duration, \"s \").concat(camelCaseToKebabCase(animation.easing));\n                if (animation.delay) {\n                    element.style.transitionDelay = animation.delay + 's';\n                }\n            });\n            // TODO: one listener for everything\n            document.addEventListener('scroll', onScroll, {\n                capture: true,\n                passive: true\n            });\n            // Do an initial check\n            immediateOnScroll();\n        });\n    };\n    return Animator1;\n}();\n/**\r\n * RegExp to match field-content in RFC 7230 sec 3.2\r\n *\r\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\r\n * field-vchar   = VCHAR / obs-text\r\n * obs-text      = %x80-FF\r\n */ var fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\nvar Cookies = /** @class */ function() {\n    function Cookies1(request, response) {\n        this.request = request;\n        this.response = response;\n    }\n    Cookies1.prototype.get = function(name) {\n        var header = this.request.headers['cookie'];\n        if (!header) {\n            return;\n        }\n        var match = header.match(getPattern(name));\n        if (!match) {\n            return;\n        }\n        var value = match[1];\n        return value;\n    };\n    Cookies1.prototype.set = function(name, value, opts) {\n        var res = this.response;\n        var req = this.request;\n        var headers = res.getHeader('Set-Cookie') || [];\n        // TODO: just make this always true\n        var secure = this.secure !== undefined ? !!this.secure : req.protocol === 'https' || req.connection.encrypted;\n        var cookie = new Cookie(name, value, opts);\n        if (typeof headers === 'string') {\n            headers = [\n                headers\n            ];\n        }\n        if (!secure && opts && opts.secure) {\n            throw new Error('Cannot send secure cookie over unencrypted connection');\n        }\n        cookie.secure = secure;\n        if (opts && 'secure' in opts) {\n            cookie.secure = !!opts.secure;\n        }\n        pushCookie(headers, cookie);\n        var setHeader = res.setHeader;\n        setHeader.call(res, 'Set-Cookie', headers);\n        return this;\n    };\n    return Cookies1;\n}();\nvar Cookie = /** @class */ function() {\n    function Cookie1(name, value, attrs) {\n        this.path = '/';\n        this.domain = undefined;\n        this.httpOnly = true;\n        this.sameSite = false;\n        this.secure = false;\n        this.overwrite = false;\n        this.name = '';\n        this.value = '';\n        if (!fieldContentRegExp.test(name)) {\n            throw new TypeError('argument name is invalid');\n        }\n        if (value && !fieldContentRegExp.test(value)) {\n            throw new TypeError('argument value is invalid');\n        }\n        if (!value) {\n            this.expires = new Date(0);\n        }\n        this.name = name;\n        this.value = value || '';\n        if (attrs.expires) {\n            this.expires = attrs.expires;\n        }\n        if (attrs.secure) {\n            this.secure = attrs.secure;\n        }\n    }\n    Cookie1.prototype.toString = function() {\n        return \"\".concat(this.name, \"=\").concat(this.value);\n    };\n    Cookie1.prototype.toHeader = function() {\n        var header = this.toString();\n        if (this.maxAge) {\n            this.expires = new Date(Date.now() + this.maxAge);\n        }\n        if (this.path) {\n            header += \"; path=\".concat(this.path);\n        }\n        if (this.expires) {\n            header += \"; expires=\".concat(this.expires.toUTCString());\n        }\n        if (this.domain) {\n            header += \"; domain=\".concat(this.domain);\n        }\n        // TODO: samesite=none by default (?)\n        header += \"; SameSite=\".concat(this.sameSite === true ? 'strict' : 'None');\n        // TODO: On by default\n        if (this.secure) {\n            header += '; secure';\n        }\n        if (this.httpOnly) {\n            header += '; httponly';\n        }\n        return header;\n    };\n    return Cookie1;\n}();\nfunction getPattern(name) {\n    return new RegExp(\"(?:^|;) *\".concat(name.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&'), \"=([^;]*)\"));\n}\nfunction pushCookie(headers, cookie) {\n    if (cookie.overwrite) {\n        for(var i = headers.length - 1; i >= 0; i--){\n            if (headers[i].indexOf(\"\".concat(cookie.name, \"=\")) === 0) {\n                headers.splice(i, 1);\n            }\n        }\n    }\n    headers.push(cookie.toHeader());\n}\nfunction omit(obj) {\n    var values = [];\n    for(var _i = 1; _i < arguments.length; _i++){\n        values[_i - 1] = arguments[_i];\n    }\n    var newObject = Object.assign({}, obj);\n    for(var _a = 0, values_1 = values; _a < values_1.length; _a++){\n        var key = values_1[_a];\n        delete newObject[key];\n    }\n    return newObject;\n}\n/**\r\n * @credit https://stackoverflow.com/a/2117523\r\n */ function uuidv4() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n    });\n}\n/**\r\n * Slightly cleaner and smaller UUIDs\r\n */ function uuid() {\n    return uuidv4().replace(/-/g, '');\n}\nfunction emptyUrl() {\n    return {\n        query: null,\n        port: null,\n        auth: null,\n        hash: null,\n        host: null,\n        hostname: null,\n        href: null,\n        path: null,\n        pathname: null,\n        protocol: null,\n        search: null,\n        slashes: null\n    };\n}\n// Replacement for `url.parse` using `URL` global object that works with relative paths.\n// Assumptions: this function operates in a NodeJS environment.\nfunction parse$1(url) {\n    var _a;\n    var out = emptyUrl();\n    var u;\n    var pathOnly = url === '' || url[0] === '/';\n    if (pathOnly) {\n        u = new URL(url, 'http://0.0.0.0/');\n        out.href = u.href;\n        out.href = (_a = out.href) === null || _a === void 0 ? void 0 : _a.slice(14); // remove 'http://0.0.0.0/'\n    } else {\n        u = new URL(url);\n        out.href = u.href;\n        out.port = u.port === '' ? null : u.port;\n        out.hash = u.hash === '' ? null : u.hash;\n        out.host = u.host;\n        out.hostname = u.hostname;\n        out.href = u.href;\n        out.pathname = u.pathname;\n        out.protocol = u.protocol;\n        out.slashes = url[u.protocol.length] === '/'; // check if the mimetype is proceeded by a slash\n    }\n    out.search = u.search;\n    out.query = u.search.slice(1); // remove '?'\n    out.path = \"\".concat(u.pathname).concat(u.search);\n    out.pathname = u.pathname;\n    return out;\n}\n/**\r\n * Safe conversion to error type. Intended to be used in catch blocks where the\r\n *  value is not guaranteed to be an error.\r\n *\r\n *  @example\r\n *  try {\r\n *    throw new Error('Something went wrong')\r\n *  }\r\n *  catch (err: unknown) {\r\n *    const error: Error = toError(err)\r\n *  }\r\n */ function toError(err) {\n    if (err instanceof Error) return err;\n    return new Error(String(err));\n}\nvar DEFAULT_API_VERSION = 'v3';\nvar SDK_VERSION = '6.1.2';\nfunction datePlusMinutes(minutes) {\n    if (minutes === void 0) {\n        minutes = 30;\n    }\n    return new Date(Date.now() + minutes * 60000);\n}\nvar isPositiveNumber = function(thing) {\n    return typeof thing === 'number' && !isNaN(thing) && thing >= 0;\n};\nvar isReactNative = typeof navigator === 'object' && navigator.product === 'ReactNative';\nvar validEnvList = [\n    'production',\n    'qa',\n    'test',\n    'development',\n    'dev',\n    'cdn-qa',\n    'cloud',\n    'fast',\n    'cdn2',\n    'cdn-prod'\n];\nfunction getQueryParam(url, variable) {\n    var query = url.split('?')[1] || '';\n    var vars = query.split('&');\n    for(var i = 0; i < vars.length; i++){\n        var pair = vars[i].split('=');\n        if (decodeURIComponent(pair[0]) === variable) {\n            return decodeURIComponent(pair[1]);\n        }\n    }\n    return null;\n}\nvar urlParser = {\n    parse: function(url) {\n        var el = document.createElement('a');\n        el.href = url;\n        var out = {};\n        var props = [\n            'username',\n            'password',\n            'host',\n            'hostname',\n            'port',\n            'protocol',\n            'origin',\n            'pathname',\n            'search',\n            'hash'\n        ];\n        for(var _i = 0, props_1 = props; _i < props_1.length; _i++){\n            var prop = props_1[_i];\n            out[prop] = el[prop];\n        }\n        // IE 11 pathname handling workaround\n        // (IE omits preceeding '/', unlike other browsers)\n        if ((out.pathname || out.pathname === '') && typeof out.pathname === 'string' && out.pathname.indexOf('/') !== 0) {\n            out.pathname = '/' + out.pathname;\n        }\n        return out;\n    }\n};\nvar parse = isReactNative ? function() {\n    return emptyUrl();\n} :  false ? 0 : parse$1;\nfunction setCookie(name, value, expires) {\n    try {\n        var expiresString = '';\n        // TODO: need to know if secure server side\n        if (expires) {\n            expiresString = '; expires=' + expires.toUTCString();\n        }\n        var secure = isBrowser ? location.protocol === 'https:' : true;\n        document.cookie = name + '=' + (value || '') + expiresString + '; path=/' + (secure ? '; secure; SameSite=None' : '');\n    } catch (err) {\n        console.warn('Could not set cookie', err);\n    }\n}\nfunction getCookie(name) {\n    try {\n        return decodeURIComponent(document.cookie.replace(new RegExp('(?:(?:^|.*;)\\\\s*' + encodeURIComponent(name).replace(/[\\-\\.\\+\\*]/g, '\\\\$&') + '\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$'), '$1')) || null;\n    } catch (err) {\n        console.warn('Could not get cookie', err);\n    }\n}\nfunction size(object) {\n    return Object.keys(object).length;\n}\nfunction find(target, callback) {\n    var list = target;\n    // Makes sures is always has an positive integer as length.\n    var length = list.length >>> 0;\n    var thisArg = arguments[1];\n    for(var i = 0; i < length; i++){\n        var element = list[i];\n        if (callback.call(thisArg, element, i, list)) {\n            return element;\n        }\n    }\n}\nvar sessionStorageKey = 'builderSessionId';\nvar localStorageKey = 'builderVisitorId';\nvar isBrowser =  false && 0;\nvar isIframe = isBrowser && window.top !== window.self;\nfunction BuilderComponent(info) {\n    if (info === void 0) {\n        info = {};\n    }\n    return Builder.Component(info);\n}\nvar Builder = /** @class */ function() {\n    function Builder1(apiKey, request, response, forceNewInstance, authToken, apiVersion) {\n        if (apiKey === void 0) {\n            apiKey = null;\n        }\n        if (forceNewInstance === void 0) {\n            forceNewInstance = false;\n        }\n        if (authToken === void 0) {\n            authToken = null;\n        }\n        var _this = this;\n        this.request = request;\n        this.response = response;\n        this.eventsQueue = [];\n        this.throttledClearEventsQueue = throttle(function() {\n            _this.processEventsQueue();\n            // Extend the session cookie\n            _this.setCookie(sessionStorageKey, _this.sessionId, datePlusMinutes(30));\n        }, 5);\n        this.env = 'production';\n        this.sessionId = this.getSessionId();\n        this.targetContent = true;\n        this.contentPerRequest = 1;\n        // TODO: make array or function\n        this.allowCustomFonts = true;\n        this.cookies = null;\n        // TODO: api options object\n        this.cachebust = false;\n        this.overrideParams = '';\n        this.noCache = false;\n        this.preview = false;\n        /**\r\n         * Dictates which API endpoint is used when fetching content. Allows `'content'` and `'query'`.\r\n         * Defaults to `'query'`.\r\n         */ this.apiEndpoint$ = new BehaviorSubject('query');\n        this.apiVersion$ = new BehaviorSubject(undefined);\n        this.canTrack$ = new BehaviorSubject(!this.browserTrackingDisabled);\n        this.hasOverriddenCanTrack = false;\n        this.apiKey$ = new BehaviorSubject(null);\n        this.authToken$ = new BehaviorSubject(null);\n        this.userAttributesChanged = new BehaviorSubject(null);\n        this.editingMode$ = new BehaviorSubject(isIframe);\n        // TODO: decorator to do this stuff with the get/set (how do with typing too? compiler?)\n        this.editingModel$ = new BehaviorSubject(null);\n        this.userAgent = typeof navigator === 'object' && navigator.userAgent || '';\n        this.trackingHooks = [];\n        // Set this to control the userId\n        // TODO: allow changing it mid session and updating existing data to be associated\n        // e.g. for when a user navigates and then logs in\n        this.visitorId = this.getVisitorId();\n        this.autoTrack = !Builder1.isBrowser ? false : !this.isDevelopmentEnv && !(Builder1.isBrowser && location.search.indexOf('builder.preview=') !== -1);\n        this.trackingUserAttributes = {};\n        this.blockContentLoading = '';\n        this.observersByKey = {};\n        this.noEditorUpdates = {};\n        this.overrides = {};\n        this.queryOptions = {};\n        this.getContentQueue = null;\n        this.priorContentQueue = null;\n        this.testCookiePrefix = 'builder.tests';\n        this.cookieQueue = [];\n        // TODO: use a window variable for this perhaps, e.g. bc webcomponents may be loading builder twice\n        // with it's and react (use rollup build to fix)\n        if (Builder1.isBrowser && !forceNewInstance && Builder1.singletonInstance) {\n            return Builder1.singletonInstance;\n        }\n        if (this.request && this.response) {\n            this.setUserAgent(this.request.headers['user-agent'] || '');\n            this.cookies = new Cookies(this.request, this.response);\n        }\n        if (apiKey) {\n            this.apiKey = apiKey;\n        }\n        if (apiVersion) {\n            this.apiVersion = apiVersion;\n        }\n        if (authToken) {\n            this.authToken = authToken;\n        }\n        if (isBrowser) {\n            if (Builder1.isEditing) {\n                this.bindMessageListeners();\n                parent.postMessage({\n                    type: 'builder.animatorOptions',\n                    data: {\n                        options: {\n                            version: 2\n                        }\n                    }\n                }, '*');\n            }\n        // TODO: postmessage to parent the builder info for every package\n        // type: 'builder.sdk', data: { name: '@builder.io/react', version: '0.1.23' }\n        // (window as any).BUILDER_VERSION = Builder.VERSION;\n        // Ensure always one Builder global singleton\n        // TODO: some people won't want this, e.g. rakuten\n        // Maybe hide this behind symbol or on document, etc\n        // if ((window as any).Builder) {\n        //   Builder.components = (window as any).Builder.components;\n        // } else {\n        //   (window as any).Builder = Builder;\n        // }\n        }\n        if (isIframe) {\n            this.messageFrameLoaded();\n        }\n        // TODO: on destroy clear subscription\n        this.canTrack$.subscribe(function(value) {\n            if (value) {\n                if (typeof sessionStorage !== 'undefined') {\n                    try {\n                        if (!sessionStorage.getItem(sessionStorageKey)) {\n                            sessionStorage.setItem(sessionStorageKey, _this.sessionId);\n                        }\n                    } catch (err) {\n                        console.debug('Session storage error', err);\n                    }\n                }\n                if (_this.eventsQueue.length) {\n                    _this.throttledClearEventsQueue();\n                }\n                if (_this.cookieQueue.length) {\n                    _this.cookieQueue.forEach(function(item) {\n                        _this.setCookie(item[0], item[1]);\n                    });\n                    _this.cookieQueue.length = 0;\n                }\n            }\n        });\n        if (isBrowser) {\n            // TODO: defer so subclass constructor runs and injects location service\n            this.setTestsFromUrl();\n            // TODO: do this on every request send?\n            this.getOverridesFromQueryString();\n            // cookies used in personalization container script, so need to set before hydration to match script result\n            var userAttrCookie = this.getCookie(Builder1.attributesCookieName);\n            if (userAttrCookie) {\n                try {\n                    var attributes = JSON.parse(userAttrCookie);\n                    this.setUserAttributes(attributes);\n                } catch (err) {\n                    console.debug('Error parsing user attributes cookie', err);\n                }\n            }\n        }\n    }\n    Builder1.register = function(type, info) {\n        if (type === 'plugin') {\n            info = this.serializeIncludingFunctions(info, true);\n        }\n        // TODO: all must have name and can't conflict?\n        var typeList = this.registry[type];\n        if (!typeList) {\n            typeList = this.registry[type] = [];\n        }\n        typeList.push(info);\n        if (Builder1.isBrowser) {\n            var message = {\n                type: 'builder.register',\n                data: {\n                    type: type,\n                    info: info\n                }\n            };\n            try {\n                parent.postMessage(message, '*');\n                if (parent !== window) {\n                    window.postMessage(message, '*');\n                }\n            } catch (err) {\n                console.debug('Could not postmessage', err);\n            }\n        }\n        this.registryChange.next(this.registry);\n    };\n    Builder1.registerEditor = function(info) {\n        if (Builder1.isBrowser) {\n            window.postMessage({\n                type: 'builder.registerEditor',\n                data: omit(info, 'component')\n            }, '*');\n            var hostname = location.hostname;\n            if (!Builder1.isTrustedHost(hostname)) {\n                console.error('Builder.registerEditor() called in the wrong environment! You cannot load custom editors from your app, they must be loaded through the Builder.io app itself. Follow the readme here for more details: https://github.com/builderio/builder/tree/master/plugins/cloudinary or contact chat us in our Spectrum community for help: https://spectrum.chat/builder');\n            }\n        }\n        this.editors.push(info);\n    };\n    Builder1.registerPlugin = function(info) {\n        this.plugins.push(info);\n    };\n    Builder1.registerAction = function(action) {\n        var _a;\n        this.actions.push(action);\n        if (Builder1.isBrowser) {\n            var actionClone = JSON.parse(JSON.stringify(action));\n            if (action.action) {\n                actionClone.action = action.action.toString();\n            }\n            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                type: 'builder.registerAction',\n                data: actionClone\n            }, '*');\n        }\n    };\n    Builder1.registerTrustedHost = function(host) {\n        this.trustedHosts.push(host);\n    };\n    /**\r\n     * @param context @type {import('isolated-vm').Context}\r\n     * Use this function to control the execution context of custom code on the server.\r\n     * const ivm = require('isolated-vm');\r\n     * const isolate = new ivm.Isolate({ memoryLimit: 128 });\r\n     * const context = isolate.createContextSync();\r\n     * Builder.setServerContext(context);\r\n     */ Builder1.setServerContext = function(context) {\n        this.serverContext = context;\n    };\n    Builder1.isTrustedHost = function(hostname) {\n        var isTrusted = this.trustedHosts.findIndex(function(trustedHost) {\n            return trustedHost.startsWith('*.') ? hostname.endsWith(trustedHost.slice(1)) : trustedHost === hostname;\n        }) > -1;\n        return isTrusted;\n    };\n    Builder1.isTrustedHostForEvent = function(event) {\n        if (event.origin === 'null') {\n            return false;\n        }\n        var url = parse(event.origin);\n        return url.hostname && Builder1.isTrustedHost(url.hostname);\n    };\n    Builder1.runAction = function(action) {\n        // TODO\n        var actionObject = typeof action === 'string' ? find(this.actions, function(item) {\n            return item.name === action;\n        }) : action;\n        if (!actionObject) {\n            throw new Error(\"Action not found: \".concat(action));\n        }\n    };\n    Builder1.fields = function(name, fields) {\n        var _a;\n        (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n            type: 'builder.fields',\n            data: {\n                name: name,\n                fields: fields\n            }\n        }, '*');\n    };\n    /**\r\n     * @deprecated\r\n     * @hidden\r\n     *\r\n     * Use Builder.register('editor.settings', {}) instead.\r\n     */ Builder1.set = function(settings) {\n        Builder1.register('editor.settings', settings);\n    };\n    Builder1.import = function(packageName) {\n        if (!Builder1.isBrowser) {\n            // TODO: server side support *maybe*\n            console.warn('Builder.import used on the server - this should only be used in the browser');\n            return;\n        }\n        var System = window.System;\n        if (!System) {\n            console.warn('System.js not available. Please include System.js when using Builder.import');\n            return;\n        }\n        return System.import(\"https://cdn.builder.io/systemjs/\".concat(packageName));\n    };\n    Object.defineProperty(Builder1, \"editingPage\", {\n        // useCdnApi = false;\n        get: function() {\n            return this._editingPage;\n        },\n        set: function(editingPage) {\n            this._editingPage = editingPage;\n            if (isBrowser && isIframe) {\n                if (editingPage) {\n                    document.body.classList.add('builder-editing-page');\n                } else {\n                    document.body.classList.remove('builder-editing-page');\n                }\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.serializeIncludingFunctions = function(info, isForPlugin) {\n        var serializeFn = function(fnValue) {\n            var fnStr = fnValue.toString().trim();\n            // we need to account for a few different fn syntaxes:\n            // 1. `function name(args) => {code}`\n            // 2. `name(args) => {code}`\n            // 3. `(args) => {}`\n            // 4. `args => {}`\n            // 5. `async function(args) {code}`\n            // 6. `async (args) => {}`\n            // 7. `async args => {}`\n            var isArrowWithoutParens = /^[a-zA-Z0-9_]+\\s*=>/i.test(fnStr);\n            var appendFunction = !fnStr.startsWith('function') && !fnStr.startsWith('async') && !fnStr.startsWith('(') && !isArrowWithoutParens;\n            return \"return (\".concat(appendFunction ? 'function ' : '').concat(fnStr, \").apply(this, arguments)\");\n        };\n        var objToReturn = JSON.parse(JSON.stringify(info, function(key, value) {\n            var shouldNotSerializeFn = isForPlugin && key === 'onSave';\n            if (typeof value === 'function' && !shouldNotSerializeFn) {\n                return serializeFn(value);\n            }\n            return value;\n        }));\n        if (isForPlugin) {\n            objToReturn.onSave = info.onSave;\n        }\n        return objToReturn;\n    };\n    Builder1.prepareComponentSpecToSend = function(spec) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, this.serializeIncludingFunctions(spec)), {\n            class: undefined\n        });\n    };\n    Builder1.registerBlock = function(component, options) {\n        this.registerComponent(component, options);\n    };\n    Builder1.registerComponent = function(component, options) {\n        var _a;\n        var spec = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            class: component\n        }, component.builderOptions), options);\n        this.addComponent(spec);\n        var editable = options.models && this.singletonInstance.editingModel ? isBrowser && options.models.includes(this.singletonInstance.editingModel) : isBrowser;\n        if (editable) {\n            var sendSpec = this.prepareComponentSpecToSend(spec);\n            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                type: 'builder.registerComponent',\n                data: sendSpec\n            }, '*');\n        }\n    };\n    Builder1.addComponent = function(component) {\n        var current = find(this.components, function(item) {\n            return item.name === component.name;\n        });\n        if (current) {\n            // FIXME: why does sometimes we get an extra post without class - probably\n            // from postMessage handler wrong in some place\n            if (current.class && !component.class) {\n                return;\n            }\n            this.components.splice(this.components.indexOf(current), 1, component);\n        } else {\n            this.components.push(component);\n        }\n    };\n    // TODO: style guide, etc off this system as well?\n    Builder1.component = function(info) {\n        var _this = this;\n        if (info === void 0) {\n            info = {};\n        }\n        return function(component) {\n            var _a;\n            var spec = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, info), {\n                class: component\n            });\n            if (!spec.name) {\n                spec.name = component.name;\n            }\n            _this.addComponent(spec);\n            var sendSpec = _this.prepareComponentSpecToSend(spec);\n            // TODO: serialize component name and inputs\n            if (isBrowser) {\n                (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                    type: 'builder.registerComponent',\n                    data: sendSpec\n                }, '*');\n            }\n            return component;\n        };\n    };\n    Object.defineProperty(Builder1, \"Component\", {\n        get: function() {\n            return this.component;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.processEventsQueue = function() {\n        if (!this.eventsQueue.length) {\n            return;\n        }\n        var events = this.eventsQueue;\n        this.eventsQueue = [];\n        var fullUserAttributes = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, Builder1.overrideUserAttributes), this.trackingUserAttributes);\n        for(var _i = 0, events_1 = events; _i < events_1.length; _i++){\n            var event_1 = events_1[_i];\n            if (!event_1.data.metadata) {\n                event_1.data.metadata = {};\n            }\n            if (!event_1.data.metadata.user) {\n                event_1.data.metadata.user = {};\n            }\n            Object.assign(event_1.data.metadata.user, fullUserAttributes, event_1.data.metadata.user);\n        }\n        var host = this.host;\n        getFetch()(\"\".concat(host, \"/api/v1/track\"), {\n            method: 'POST',\n            body: JSON.stringify({\n                events: events\n            }),\n            headers: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n                'content-type': 'application/json'\n            }, this.getSdkHeaders()),\n            mode: 'cors'\n        }).catch(function() {\n        // Not the end of the world\n        });\n    };\n    Object.defineProperty(Builder1.prototype, \"browserTrackingDisabled\", {\n        get: function() {\n            return Builder1.isBrowser && Boolean(window.builderNoTrack || !navigator.cookieEnabled);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"canTrack\", {\n        get: function() {\n            return this.canTrack$.value;\n        },\n        set: function(canTrack) {\n            this.hasOverriddenCanTrack = true;\n            if (this.canTrack !== canTrack) {\n                this.canTrack$.next(canTrack);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"apiVersion\", {\n        get: function() {\n            return this.apiVersion$.value;\n        },\n        set: function(apiVersion) {\n            if (this.apiVersion !== apiVersion) {\n                this.apiVersion$.next(apiVersion);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"apiEndpoint\", {\n        get: function() {\n            return this.apiEndpoint$.value;\n        },\n        set: function(apiEndpoint) {\n            if (this.apiEndpoint !== apiEndpoint) {\n                this.apiEndpoint$.next(apiEndpoint);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"editingMode\", {\n        get: function() {\n            return this.editingMode$.value;\n        },\n        set: function(value) {\n            if (value !== this.editingMode) {\n                this.editingMode$.next(value);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"editingModel\", {\n        get: function() {\n            return this.editingModel$.value;\n        },\n        set: function(value) {\n            if (value !== this.editingModel) {\n                this.editingModel$.next(value);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.findParentElement = function(target, callback, checkElement) {\n        if (checkElement === void 0) {\n            checkElement = true;\n        }\n        if (!(target instanceof HTMLElement)) {\n            return null;\n        }\n        var parent1 = checkElement ? target : target.parentElement;\n        do {\n            if (!parent1) {\n                return null;\n            }\n            var matches = callback(parent1);\n            if (matches) {\n                return parent1;\n            }\n        }while (parent1 = parent1.parentElement);\n        return null;\n    };\n    Builder1.prototype.findBuilderParent = function(target) {\n        return this.findParentElement(target, function(el) {\n            var id = el.getAttribute('builder-id') || el.id;\n            return Boolean(id && id.indexOf('builder-') === 0);\n        });\n    };\n    Builder1.prototype.setUserAgent = function(userAgent) {\n        this.userAgent = userAgent || '';\n    };\n    /**\r\n     * Set a hook to modify events being tracked from builder, such as impressions and clicks\r\n     *\r\n     * For example, to track the model ID of each event associated with content for querying\r\n     * by mode, you can do\r\n     *\r\n     *    builder.setTrackingHook((event, context) => {\r\n     *      if (context.content) {\r\n     *        event.data.metadata.modelId = context.content.modelId\r\n     *      }\r\n     *    })\r\n     */ Builder1.prototype.setTrackingHook = function(hook) {\n        this.trackingHooks.push(hook);\n    };\n    Builder1.prototype.track = function(eventName, properties, context) {\n        if (properties === void 0) {\n            properties = {};\n        }\n        // TODO: queue up track requests and fire them off when canTrack set to true - otherwise may get lots of clicks with no impressions\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        var apiKey = this.apiKey;\n        if (!apiKey) {\n            console.error('Builder integration error: Looks like the Builder SDK has not been initialized properly (your API key has not been set). Make sure you are calling `builder.init(\"«YOUR-API-KEY»\");` as early as possible in your application\\'s code.');\n            return;\n        }\n        var eventData = JSON.parse(JSON.stringify({\n            type: eventName,\n            data: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, omit(properties, 'meta')), {\n                metadata: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n                    sdkVersion: Builder1.VERSION,\n                    url: location.href\n                }, properties.meta), properties.metadata),\n                ownerId: apiKey,\n                userAttributes: this.getUserAttributes(),\n                sessionId: this.sessionId,\n                visitorId: this.visitorId\n            })\n        }));\n        for(var _i = 0, _a = this.trackingHooks; _i < _a.length; _i++){\n            var hook = _a[_i];\n            var returnValue = hook(eventData, context || {});\n            if (returnValue) {\n                eventData = returnValue;\n            }\n        }\n        // batch events\n        this.eventsQueue.push(eventData);\n        if (this.canTrack) {\n            this.throttledClearEventsQueue();\n        }\n    };\n    Builder1.prototype.getSessionId = function() {\n        var _this = this;\n        var sessionId = null;\n        try {\n            if (Builder1.isBrowser && typeof sessionStorage !== 'undefined') {\n                sessionId = this.getCookie(sessionStorageKey);\n            }\n        } catch (err) {\n            console.debug('Session storage error', err);\n        // It's ok\n        }\n        if (!sessionId) {\n            sessionId = uuid();\n        }\n        // Give the app a second to start up and set canTrack to false if needed\n        if (Builder1.isBrowser) {\n            setTimeout(function() {\n                try {\n                    if (_this.canTrack) {\n                        _this.setCookie(sessionStorageKey, sessionId, datePlusMinutes(30));\n                    }\n                } catch (err) {\n                    console.debug('Cookie setting error', err);\n                }\n            });\n        }\n        return sessionId;\n    };\n    Builder1.prototype.getVisitorId = function() {\n        var _this = this;\n        if (this.visitorId) {\n            return this.visitorId;\n        }\n        var visitorId = null;\n        try {\n            if (Builder1.isBrowser && typeof localStorage !== 'undefined') {\n                // TODO: cookie instead?\n                visitorId = localStorage.getItem(localStorageKey);\n            }\n        } catch (err) {\n            console.debug('Local storage error', err);\n        // It's ok\n        }\n        if (!visitorId) {\n            visitorId = uuid();\n        }\n        this.visitorId = visitorId;\n        // Give the app a second to start up and set canTrack to false if needed\n        if (Builder1.isBrowser) {\n            setTimeout(function() {\n                try {\n                    if (_this.canTrack && typeof localStorage !== 'undefined' && visitorId) {\n                        localStorage.setItem(localStorageKey, visitorId);\n                    }\n                } catch (err) {\n                    console.debug('Session storage error', err);\n                }\n            });\n        }\n        return visitorId;\n    };\n    Builder1.prototype.trackImpression = function(contentId, variationId, properties, context) {\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        // TODO: use this.track method\n        this.track('impression', {\n            contentId: contentId,\n            variationId: variationId !== contentId ? variationId : undefined,\n            metadata: properties\n        }, context);\n    };\n    Builder1.prototype.trackConversion = function(amount, contentId, variationId, customProperties, context) {\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        var meta = typeof contentId === 'object' ? contentId : customProperties;\n        var useContentId = typeof contentId === 'string' ? contentId : undefined;\n        this.track('conversion', {\n            amount: amount,\n            variationId: variationId,\n            meta: meta,\n            contentId: useContentId\n        }, context);\n    };\n    Object.defineProperty(Builder1.prototype, \"isDevelopmentEnv\", {\n        // TODO: set this for QA\n        get: function() {\n            // Automatic determining of development environment\n            return Builder1.isIframe || Builder1.isBrowser && (location.hostname === 'localhost' || location.port !== '') || this.env !== 'production';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.trackInteraction = function(contentId, variationId, alreadyTrackedOne, event, context) {\n        if (alreadyTrackedOne === void 0) {\n            alreadyTrackedOne = false;\n        }\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        var target = event && event.target;\n        var targetBuilderElement = target && this.findBuilderParent(target);\n        function round(num) {\n            return Math.round(num * 1000) / 1000;\n        }\n        var metadata = {};\n        if (event) {\n            var clientX = event.clientX, clientY = event.clientY;\n            if (target) {\n                var targetRect = target.getBoundingClientRect();\n                var xOffset = clientX - targetRect.left;\n                var yOffset = clientY - targetRect.top;\n                var xRatio = round(xOffset / targetRect.width);\n                var yRatio = round(yOffset / targetRect.height);\n                metadata.targetOffset = {\n                    x: xRatio,\n                    y: yRatio\n                };\n            }\n            if (targetBuilderElement) {\n                var targetRect = targetBuilderElement.getBoundingClientRect();\n                var xOffset = clientX - targetRect.left;\n                var yOffset = clientY - targetRect.top;\n                var xRatio = round(xOffset / targetRect.width);\n                var yRatio = round(yOffset / targetRect.height);\n                metadata.builderTargetOffset = {\n                    x: xRatio,\n                    y: yRatio\n                };\n            }\n        }\n        var builderId = targetBuilderElement && (targetBuilderElement.getAttribute('builder-id') || targetBuilderElement.id);\n        if (builderId && targetBuilderElement) {\n            metadata.builderElementIndex = [].slice.call(document.getElementsByClassName(builderId)).indexOf(targetBuilderElement);\n        }\n        this.track('click', {\n            contentId: contentId,\n            metadata: metadata,\n            variationId: variationId !== contentId ? variationId : undefined,\n            unique: !alreadyTrackedOne,\n            targetBuilderElement: builderId || undefined\n        }, context);\n    };\n    Builder1.prototype.component = function(info) {\n        if (info === void 0) {\n            info = {};\n        }\n        return Builder1.component(info);\n    };\n    Object.defineProperty(Builder1.prototype, \"apiKey\", {\n        get: function() {\n            return this.apiKey$.value;\n        },\n        set: function(key) {\n            this.apiKey$.next(key);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"authToken\", {\n        get: function() {\n            return this.authToken$.value;\n        },\n        set: function(token) {\n            this.authToken$.next(token);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.modifySearch = function(search) {\n        return search.replace(/(^|&|\\?)(builder_.*?)=/gi, function(_match, group1, group2) {\n            return group1 + group2.replace(/_/g, '.') + '=';\n        });\n    };\n    Builder1.prototype.setTestsFromUrl = function() {\n        var search = this.getLocation().search;\n        try {\n            var params = QueryString.parseDeep(this.modifySearch(search || '').substr(1));\n            var tests = params.builder && params.builder.tests;\n            if (tests && typeof tests === 'object') {\n                for(var key in tests){\n                    if (tests.hasOwnProperty(key)) {\n                        this.setTestCookie(key, tests[key]);\n                    }\n                }\n            }\n        } catch (e) {\n            console.debug('Error parsing tests from URL', e);\n        }\n    };\n    Builder1.prototype.resetOverrides = function() {\n        // Ugly - pass down instances per request instead using react context\n        // or use builder.get('foo', { req, res }) in react...........\n        Builder1.overrideUserAttributes = {};\n        this.cachebust = false;\n        this.noCache = false;\n        this.preview = false;\n        this.editingModel = null;\n        this.overrides = {};\n        this.env = 'production';\n        this.userAgent = '';\n        this.request = undefined;\n        this.response = undefined;\n    };\n    Builder1.prototype.getOverridesFromQueryString = function() {\n        var location1 = this.getLocation();\n        try {\n            var params = QueryString.parseDeep(this.modifySearch(location1.search || '').substr(1));\n            var builder1 = params.builder;\n            if (builder1) {\n                var userAttributes = builder1.userAttributes, overrides = builder1.overrides, env = builder1.env, host = builder1.host, api = builder1.api, cachebust = builder1.cachebust, noCache = builder1.noCache, preview = builder1.preview, editing = builder1.editing, frameEditing = builder1.frameEditing, options = builder1.options, overrideParams = builder1.params;\n                if (userAttributes) {\n                    this.setUserAttributes(userAttributes);\n                }\n                if (options) {\n                    // picking only locale, includeRefs, and enrich for now\n                    this.queryOptions = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, options.locale && {\n                        locale: options.locale\n                    }), options.includeRefs && {\n                        includeRefs: options.includeRefs\n                    }), options.enrich && {\n                        enrich: options.enrich\n                    });\n                }\n                if (overrides) {\n                    this.overrides = overrides;\n                }\n                if (validEnvList.indexOf(env || api) > -1) {\n                    this.env = env || api;\n                }\n                if (Builder1.isEditing) {\n                    var editingModel = frameEditing || editing || preview;\n                    if (editingModel && editingModel !== 'true') {\n                        this.editingModel = editingModel;\n                    }\n                }\n                if (cachebust) {\n                    this.cachebust = true;\n                }\n                if (noCache) {\n                    this.noCache = true;\n                }\n                if (preview) {\n                    this.preview = true;\n                }\n                if (params) {\n                    this.overrideParams = overrideParams;\n                }\n            }\n        } catch (e) {\n            console.debug('Error parsing overrides from URL', e);\n        }\n    };\n    Builder1.prototype.messageFrameLoaded = function() {\n        var _a;\n        (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n            type: 'builder.loaded',\n            data: {\n                value: true\n            }\n        }, '*');\n    };\n    Builder1.prototype.bindMessageListeners = function() {\n        var _this = this;\n        addEventListener('message', function(event) {\n            var _a, _b, _c, _d;\n            var isTrusted = Builder1.isTrustedHostForEvent(event);\n            if (!isTrusted) return;\n            var data = event.data;\n            if (data) {\n                switch(data.type){\n                    case 'builder.ping':\n                        {\n                            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                                type: 'builder.pong',\n                                data: {}\n                            }, '*');\n                            break;\n                        }\n                    case 'builder.register':\n                        {\n                            // TODO: possibly do this for all...\n                            if (event.source === window) {\n                                break;\n                            }\n                            var options = data.data;\n                            if (!options) {\n                                break;\n                            }\n                            var type = options.type, info = options.info;\n                            // TODO: all must have name and can't conflict?\n                            var typeList = Builder1.registry[type];\n                            if (!typeList) {\n                                typeList = Builder1.registry[type] = [];\n                            }\n                            typeList.push(info);\n                            Builder1.registryChange.next(Builder1.registry);\n                            break;\n                        }\n                    case 'builder.settingsChange':\n                        {\n                            // TODO: possibly do this for all...\n                            if (event.source === window) {\n                                break;\n                            }\n                            var settings = data.data;\n                            if (!settings) {\n                                break;\n                            }\n                            Object.assign(Builder1.settings, settings);\n                            Builder1.settingsChange.next(Builder1.settings);\n                            break;\n                        }\n                    case 'builder.registerEditor':\n                        {\n                            // TODO: possibly do this for all...\n                            if (event.source === window) {\n                                break;\n                            }\n                            var info_1 = data.data;\n                            if (!info_1) {\n                                break;\n                            }\n                            var hasComponent_1 = !!info_1.component;\n                            Builder1.editors.every(function(thisInfo, index) {\n                                if (info_1.name === thisInfo.name) {\n                                    if (thisInfo.component && !hasComponent_1) {\n                                        return false;\n                                    } else {\n                                        Builder1.editors[index] = thisInfo;\n                                    }\n                                    return false;\n                                }\n                                return true;\n                            });\n                            break;\n                        }\n                    case 'builder.triggerAnimation':\n                        {\n                            Builder1.animator.triggerAnimation(data.data);\n                            break;\n                        }\n                    case 'builder.contentUpdate':\n                        var key = data.data.key || data.data.alias || data.data.entry || data.data.modelName;\n                        var contentData = data.data.data; // hmmm...\n                        var observer = _this.observersByKey[key];\n                        if (observer && !_this.noEditorUpdates[key]) {\n                            observer.next([\n                                contentData\n                            ]);\n                        }\n                        break;\n                    case 'builder.getComponents':\n                        (_b = window.parent) === null || _b === void 0 ? void 0 : _b.postMessage({\n                            type: 'builder.components',\n                            data: Builder1.components.map(function(item) {\n                                return Builder1.prepareComponentSpecToSend(item);\n                            })\n                        }, '*');\n                        break;\n                    case 'builder.editingModel':\n                        _this.editingModel = data.data.model;\n                        break;\n                    case 'builder.registerComponent':\n                        var componentData = data.data;\n                        Builder1.addComponent(componentData);\n                        break;\n                    case 'builder.blockContentLoading':\n                        if (typeof data.data.model === 'string') {\n                            _this.blockContentLoading = data.data.model;\n                        }\n                        break;\n                    case 'builder.editingMode':\n                        var editingMode = data.data;\n                        if (editingMode) {\n                            _this.editingMode = true;\n                            document.body.classList.add('builder-editing');\n                        } else {\n                            _this.editingMode = false;\n                            document.body.classList.remove('builder-editing');\n                        }\n                        break;\n                    case 'builder.editingPageMode':\n                        var editingPageMode = data.data;\n                        Builder1.editingPage = editingPageMode;\n                        break;\n                    case 'builder.overrideUserAttributes':\n                        var userAttributes = data.data;\n                        assign(Builder1.overrideUserAttributes, userAttributes);\n                        _this.flushGetContentQueue(true);\n                        break;\n                    case 'builder.overrideTestGroup':\n                        var _e = data.data, variationId = _e.variationId, contentId = _e.contentId;\n                        if (variationId && contentId) {\n                            _this.setTestCookie(contentId, variationId);\n                            _this.flushGetContentQueue(true);\n                        }\n                        break;\n                    case 'builder.evaluate':\n                        {\n                            var text = data.data.text;\n                            var args = data.data.arguments || [];\n                            var id_1 = data.data.id;\n                            // tslint:disable-next-line:no-function-constructor-with-string-args\n                            var fn = new Function(text);\n                            var result = void 0;\n                            var error = null;\n                            try {\n                                result = fn.apply(_this, args);\n                            } catch (err) {\n                                error = toError(err);\n                            }\n                            if (error) {\n                                (_c = window.parent) === null || _c === void 0 ? void 0 : _c.postMessage({\n                                    type: 'builder.evaluateError',\n                                    data: {\n                                        id: id_1,\n                                        error: error.message\n                                    }\n                                }, '*');\n                            } else {\n                                if (result && typeof result.then === 'function') {\n                                    result.then(function(finalResult) {\n                                        var _a;\n                                        (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                                            type: 'builder.evaluateResult',\n                                            data: {\n                                                id: id_1,\n                                                result: finalResult\n                                            }\n                                        }, '*');\n                                    }).catch(console.error);\n                                } else {\n                                    (_d = window.parent) === null || _d === void 0 ? void 0 : _d.postMessage({\n                                        type: 'builder.evaluateResult',\n                                        data: {\n                                            result: result,\n                                            id: id_1\n                                        }\n                                    }, '*');\n                                }\n                            }\n                            break;\n                        }\n                }\n            }\n        });\n    };\n    Object.defineProperty(Builder1.prototype, \"defaultCanTrack\", {\n        get: function() {\n            return Boolean(Builder1.isBrowser && navigator.userAgent.trim() && !navigator.userAgent.match(/bot|crawler|spider|robot|crawling|prerender|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex|phantom|headless|selenium|puppeteer/i) && !this.browserTrackingDisabled);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.init = function(apiKey, canTrack, req, res, authToken, apiVersion) {\n        if (canTrack === void 0) {\n            canTrack = this.defaultCanTrack;\n        }\n        if (req) {\n            this.request = req;\n        }\n        if (res) {\n            this.response = res;\n        }\n        if (!this.hasOverriddenCanTrack) {\n            this.canTrack = canTrack;\n        }\n        this.apiKey = apiKey;\n        if (authToken) {\n            this.authToken = authToken;\n        }\n        if (apiVersion) {\n            this.apiVersion = apiVersion;\n        }\n        return this;\n    };\n    Object.defineProperty(Builder1.prototype, \"previewingModel\", {\n        get: function() {\n            var search = this.getLocation().search;\n            var params = QueryString.parse((search || '').substr(1));\n            return params['builder.preview'];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // TODO: allow adding location object as property and/or in constructor\n    Builder1.prototype.getLocation = function() {\n        var _a;\n        var parsedLocation = {};\n        // in ssr mode\n        if (this.request) {\n            parsedLocation = parse((_a = this.request.url) !== null && _a !== void 0 ? _a : '');\n        } else if (typeof location === 'object') {\n            // in the browser\n            parsedLocation = parse(location.href);\n        }\n        // IE11 bug with parsed path being empty string\n        // causes issues with our user targeting\n        if (parsedLocation.pathname === '') {\n            parsedLocation.pathname = '/';\n        }\n        return parsedLocation;\n    };\n    Builder1.prototype.getUserAttributes = function(userAgent) {\n        if (userAgent === void 0) {\n            userAgent = this.userAgent || '';\n        }\n        var isMobile = {\n            Android: function() {\n                return userAgent.match(/Android/i);\n            },\n            BlackBerry: function() {\n                return userAgent.match(/BlackBerry/i);\n            },\n            iOS: function() {\n                return userAgent.match(/iPhone|iPod/i);\n            },\n            Opera: function() {\n                return userAgent.match(/Opera Mini/i);\n            },\n            Windows: function() {\n                return userAgent.match(/IEMobile/i) || userAgent.match(/WPDesktop/i);\n            },\n            any: function() {\n                return isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows();\n            }\n        };\n        var isTablet = userAgent.match(/Tablet|iPad/i);\n        var url = this.getLocation();\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            urlPath: url.pathname,\n            host: url.host || url.hostname,\n            // TODO: maybe an option to choose to target off of mobile/tablet/desktop or just mobile/desktop\n            device: isTablet ? 'tablet' : isMobile.any() ? 'mobile' : 'desktop'\n        }, Builder1.overrideUserAttributes);\n    };\n    Builder1.prototype.setUserAttributes = function(options) {\n        assign(Builder1.overrideUserAttributes, options);\n        if (this.canTrack) {\n            this.setCookie(Builder1.attributesCookieName, JSON.stringify(this.getUserAttributes()));\n        }\n        this.userAttributesChanged.next(options);\n    };\n    /**\r\n     * Set user attributes just for tracking purposes.\r\n     *\r\n     * Do this so properties exist on event objects for querying insights, but\r\n     * won't affect targeting\r\n     *\r\n     * Use this when you want to track properties but don't need to target off\r\n     * of them to optimize cache efficiency\r\n     */ Builder1.prototype.setTrackingUserAttributes = function(attributes) {\n        assign(this.trackingUserAttributes, attributes);\n    };\n    Builder1.prototype.get = function(modelName, options) {\n        var _a;\n        if (options === void 0) {\n            options = {};\n        }\n        var instance = this;\n        var finalLocale = options.locale || ((_a = options.userAttributes) === null || _a === void 0 ? void 0 : _a.locale) || this.getUserAttributes().locale;\n        if (!('noTraverse' in options)) {\n            options.noTraverse = false;\n        }\n        var finalOptions = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, options), finalLocale && {\n            locale: String(finalLocale),\n            userAttributes: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n                locale: String(finalLocale)\n            }, options.userAttributes)\n        });\n        if (!Builder1.isBrowser) {\n            instance = new Builder1(options.apiKey || this.apiKey, options.req, options.res, undefined, options.authToken || this.authToken, options.apiVersion || this.apiVersion);\n            instance.apiEndpoint = this.apiEndpoint;\n            instance.setUserAttributes(this.getUserAttributes());\n        } else {\n            // NOTE: All these are when .init is not called and the customer\n            // directly calls .get on the singleton instance of Builder\n            if (options.apiKey && !this.apiKey) {\n                this.apiKey = options.apiKey;\n            }\n            if (options.authToken && !this.authToken) {\n                this.authToken = options.authToken;\n            }\n            if (options.apiVersion && !this.apiVersion) {\n                this.apiVersion = options.apiVersion;\n            }\n        }\n        return instance.queueGetContent(modelName, finalOptions).map(/* map( */ function(matches) {\n            var match = matches && matches[0];\n            if (Builder1.isStatic) {\n                return match;\n            }\n            var matchData = match && match.data;\n            if (!matchData) {\n                return null;\n            }\n            if (typeof matchData.blocksString !== 'undefined') {\n                matchData.blocks = JSON.parse(matchData.blocksString);\n                delete matchData.blocksString;\n            }\n            return {\n                // TODO: add ab test info here and other high level stuff\n                data: matchData,\n                id: match.id,\n                variationId: match.testVariationId || match.variationId || null,\n                testVariationId: match.testVariationId || match.variationId || null,\n                testVariationName: match.testVariationName || null,\n                lastUpdated: match.lastUpdated || null\n            };\n        });\n    // );\n    };\n    // TODO: entry id in options\n    Builder1.prototype.queueGetContent = function(modelName, options) {\n        var _this = this;\n        if (options === void 0) {\n            options = {};\n        }\n        // TODO: if query do modelName + query\n        var key = options.key || options.alias || // TODO: SDKs only pass entry key when given to them, and never when editing...\n        // options.entry ||\n        // TODO: this is ugly - instead of multiple of same model with different options are sent\n        // say requires key/alias. Or if not perhaps make a reliable hash of the options and use that.\n        // TODO: store last user state on last request and if user attributes different now\n        // give a warning that need to use keys to request new contente\n        // (options &&\n        //   Object.keys(options).filter(key => key !== 'model').length &&\n        //   JSON.stringify({ model: modelName, ...options, initialContent: undefined })) ||\n        modelName;\n        var isEditingThisModel = this.editingModel === modelName;\n        // TODO: include params in this key........\n        var currentObservable = this.observersByKey[key];\n        // if (options.query && options.query._id) {\n        //   this.flushGetContentQueue([options])\n        // }\n        if (this.apiKey === 'DEMO' && !this.overrides[key] && !options.initialContent) {\n            options.initialContent = [];\n        }\n        var initialContent = options.initialContent;\n        // TODO: refresh option in options\n        if (currentObservable && (!currentObservable.value || options.cache)) {\n            // TODO: test if this ran, otherwise on 404 some observers may never be called...\n            if (currentObservable.value) {\n                nextTick(function() {\n                    // TODO: return a new observable and only that one fires subscribers, don't refire for existing ones\n                    currentObservable.next(currentObservable.value);\n                });\n            }\n            return currentObservable;\n        }\n        if (isEditingThisModel) {\n            if (Builder1.isBrowser) {\n                parent.postMessage({\n                    type: 'builder.updateContent',\n                    data: {\n                        options: options\n                    }\n                }, '*');\n            }\n        }\n        if (!initialContent /* || isEditingThisModel */ ) {\n            if (!this.getContentQueue) {\n                this.getContentQueue = [];\n            }\n            this.getContentQueue.push((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, options), {\n                model: modelName,\n                key: key\n            }));\n            if (this.getContentQueue && this.getContentQueue.length >= this.contentPerRequest) {\n                var queue_1 = this.getContentQueue.slice();\n                this.getContentQueue = [];\n                nextTick(function() {\n                    _this.flushGetContentQueue(false, queue_1);\n                });\n            } else {\n                nextTick(function() {\n                    _this.flushGetContentQueue();\n                });\n            }\n        }\n        var observable = new BehaviorSubject(null);\n        this.observersByKey[key] = observable;\n        if (options.noEditorUpdates) {\n            this.noEditorUpdates[key] = true;\n        }\n        if (initialContent) {\n            nextTick(function() {\n                // TODO: need to testModify this I think...?\n                observable.next(initialContent);\n            });\n        }\n        return observable;\n    };\n    // this is needed to satisfy the Angular SDK, which used to rely on the more complex version of `requestUrl`.\n    // even though we only use `fetch()` now, we prefer to keep the old behavior and use the `fetch` that comes from\n    // the core SDK for consistency\n    Builder1.prototype.requestUrl = function(url, options) {\n        return getFetch()(url, this.addSdkHeaders(options)).then(function(res) {\n            return res.json();\n        });\n    };\n    Object.defineProperty(Builder1.prototype, \"host\", {\n        get: function() {\n            switch(this.env){\n                case 'qa':\n                    return 'https://qa.builder.io';\n                case 'test':\n                    return 'https://builder-io-test.web.app';\n                case 'fast':\n                    return 'https://fast.builder.io';\n                case 'cloud':\n                    return 'https://cloud.builder.io';\n                case 'cdn2':\n                    return 'https://cdn2.builder.io';\n                case 'cdn-qa':\n                    return 'https://cdn-qa.builder.io';\n                case 'development':\n                case 'dev':\n                    return 'http://localhost:5000';\n                case 'cdn-prod':\n                    return 'https://cdn.builder.io';\n                default:\n                    return Builder1.overrideHost || 'https://cdn.builder.io';\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.getSdkHeaders = function() {\n        if (!Builder1.sdkInfo) {\n            return {};\n        }\n        return {\n            'X-Builder-SDK': Builder1.sdkInfo.name,\n            'X-Builder-SDK-GEN': '1',\n            'X-Builder-SDK-Version': Builder1.sdkInfo.version\n        };\n    };\n    Builder1.prototype.addSdkHeaders = function(fetchOptions) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, fetchOptions), {\n            headers: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, fetchOptions.headers), this.getSdkHeaders())\n        });\n    };\n    Builder1.prototype.makeFetchApiCall = function(url, requestOptions) {\n        return getFetch()(url, this.addSdkHeaders(requestOptions));\n    };\n    /**\r\n     * Flatten a nested MongoDB query object into a flat object with dot-separated keys.\r\n     * $ keys are not flattened and are left as is.\r\n     *\r\n     * { foo: { bar: { $gt: 5 }}} -> { 'foo.bar': { '$gt': 5 }}\r\n     * { foo: {'bar.id': { $elemMatch: { 'baz.id': { $in: ['abc', 'bcd'] }}}}} -> { 'foo.bar.id': { '$elemMatch': { 'baz.id': { '$in': ['abc', 'bcd'] }}}}\r\n     */ Builder1.prototype.flattenMongoQuery = function(obj, _current, _res) {\n        if (_res === void 0) {\n            _res = {};\n        }\n        for(var key in obj){\n            var value = obj[key];\n            var newKey = _current ? _current + '.' + key : key;\n            if (value && typeof value === 'object' && !Array.isArray(value) && !Object.keys(value).find(function(item) {\n                return item.startsWith('$');\n            })) {\n                this.flattenMongoQuery(value, newKey, _res);\n            } else {\n                _res[newKey] = value;\n            }\n        }\n        return _res;\n    };\n    Builder1.prototype.flushGetContentQueue = function(usePastQueue, useQueue) {\n        var _this = this;\n        var _a, _b;\n        if (usePastQueue === void 0) {\n            usePastQueue = false;\n        }\n        if (!this.apiKey) {\n            throw new Error(\"Fetching content failed, expected apiKey to be defined instead got: \".concat(this.apiKey));\n        }\n        if (this.apiVersion) {\n            if (![\n                'v1',\n                'v3'\n            ].includes(this.apiVersion)) {\n                throw new Error(\"Invalid apiVersion: expected 'v1' or 'v3', received '\".concat(this.apiVersion, \"'\"));\n            }\n        } else {\n            this.apiVersion = DEFAULT_API_VERSION;\n        }\n        if (!usePastQueue && !this.getContentQueue) {\n            return;\n        }\n        var queue = useQueue || (usePastQueue ? this.priorContentQueue : this.getContentQueue) || [];\n        // TODO: do this on every request send?\n        this.getOverridesFromQueryString();\n        var queryParams = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            // TODO: way to force a request to be in a separate queue. or just lower queue limit to be 1 by default\n            omit: (_a = queue[0].omit) !== null && _a !== void 0 ? _a : 'meta.componentsUsed',\n            apiKey: this.apiKey\n        }, queue[0].options), this.queryOptions);\n        if (queue[0].locale) {\n            queryParams.locale = queue[0].locale;\n        }\n        if (queue[0].fields) {\n            queryParams.fields = queue[0].fields;\n        }\n        if (queue[0].format) {\n            queryParams.format = queue[0].format;\n        }\n        if ('noTraverse' in queue[0]) {\n            queryParams.noTraverse = queue[0].noTraverse;\n        }\n        if ('includeUnpublished' in queue[0]) {\n            queryParams.includeUnpublished = queue[0].includeUnpublished;\n        }\n        if (queue[0].sort) {\n            queryParams.sort = queue[0].sort;\n        }\n        var pageQueryParams = (typeof location !== 'undefined' ? QueryString.parseDeep(location.search.substr(1)) : undefined) || {}; // TODO: WHAT about SSR (this.request) ?\n        var userAttributes = // FIXME: HACK: only checks first in queue for user attributes overrides, should check all\n        // TODO: merge user attributes provided here with defaults and current user attiributes (?)\n        queue && queue[0].userAttributes ? queue[0].userAttributes : this.targetContent ? this.getUserAttributes() : {\n            urlPath: this.getLocation().pathname\n        };\n        var fullUrlQueueItem = queue.find(function(item) {\n            return !!item.includeUrl;\n        });\n        if (fullUrlQueueItem) {\n            var location_1 = this.getLocation();\n            if (location_1.origin) {\n                queryParams.url = \"\".concat(location_1.origin).concat(location_1.pathname).concat(location_1.search);\n            }\n        }\n        var urlQueueItem = useQueue === null || useQueue === void 0 ? void 0 : useQueue.find(function(item) {\n            return item.url;\n        });\n        if (urlQueueItem === null || urlQueueItem === void 0 ? void 0 : urlQueueItem.url) {\n            userAttributes.urlPath = urlQueueItem.url.split('?')[0];\n        }\n        // TODO: merge in the attribute from query string ones\n        // TODO: make this an option per component/request\n        queryParams.userAttributes = JSON.stringify(userAttributes);\n        if (!usePastQueue && !useQueue) {\n            this.priorContentQueue = queue;\n            this.getContentQueue = null;\n        }\n        var cachebust = this.cachebust || isIframe || pageQueryParams.cachebust || pageQueryParams['builder.cachebust'];\n        if (cachebust || this.env !== 'production') {\n            queryParams.cachebust = true;\n        }\n        if (Builder1.isEditing) {\n            queryParams.isEditing = true;\n        }\n        if (this.noCache || this.env !== 'production') {\n            queryParams.noCache = true;\n        }\n        if (size(this.overrides)) {\n            for(var key in this.overrides){\n                if (this.overrides.hasOwnProperty(key)) {\n                    queryParams[\"overrides.\".concat(key)] = this.overrides[key];\n                }\n            }\n        }\n        for(var _i = 0, queue_2 = queue; _i < queue_2.length; _i++){\n            var options = queue_2[_i];\n            var format_1 = options.format;\n            if (format_1) {\n                queryParams.format = format_1;\n            }\n            // TODO: remove me and make permodel\n            if (options.static) {\n                queryParams.static = options.static;\n            }\n            if (options.cachebust) {\n                queryParams.cachebust = options.cachebust;\n            }\n            if (isPositiveNumber(options.cacheSeconds)) {\n                queryParams.cacheSeconds = options.cacheSeconds;\n            }\n            if (isPositiveNumber(options.staleCacheSeconds)) {\n                queryParams.staleCacheSeconds = options.staleCacheSeconds;\n            }\n            if (this.apiEndpoint === 'content') {\n                queryParams.includeRefs = true;\n            }\n            var properties = [\n                'prerender',\n                'extractCss',\n                'limit',\n                'offset',\n                'query',\n                'preview',\n                'model',\n                'entry',\n                'rev',\n                'static',\n                'includeRefs'\n            ];\n            for(var _c = 0, properties_1 = properties; _c < properties_1.length; _c++){\n                var key = properties_1[_c];\n                var value = options[key];\n                if (value !== undefined) {\n                    if (this.apiEndpoint === 'query') {\n                        queryParams.options = queryParams.options || {};\n                        queryParams.options[options.key] = queryParams.options[options.key] || {};\n                        queryParams.options[options.key][key] = JSON.stringify(value);\n                    } else {\n                        queryParams[key] = JSON.stringify(value);\n                    }\n                }\n            }\n        }\n        if (this.preview && this.previewingModel === ((_b = queue === null || queue === void 0 ? void 0 : queue[0]) === null || _b === void 0 ? void 0 : _b.model)) {\n            queryParams.preview = 'true';\n        }\n        var hasParams = Object.keys(queryParams).length > 0;\n        // TODO: option to force dev or qa api here\n        var host = this.host;\n        var keyNames = queue.map(function(item) {\n            return encodeURIComponent(item.key);\n        }).join(',');\n        if (this.overrideParams) {\n            var params = omit(QueryString.parse(this.overrideParams), 'apiKey');\n            assign(queryParams, params);\n        }\n        var format = queryParams.format;\n        var isApiCallForCodegen = format === 'solid' || format === 'react';\n        var isApiCallForCodegenOrQuery = isApiCallForCodegen || this.apiEndpoint === 'query';\n        if (this.apiEndpoint === 'content') {\n            if (queue[0].query) {\n                delete queryParams.query;\n                var objectToFlatten = {\n                    query: queue[0].query\n                };\n                var flattened = this.flattenMongoQuery(objectToFlatten);\n                for(var key in flattened){\n                    queryParams[key] = JSON.stringify(flattened[key]);\n                }\n            }\n        }\n        var queryStr = QueryString.stringifyDeep(queryParams);\n        var fetchOptions = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            headers: {}\n        }, queue[0].fetchOptions);\n        if (this.authToken) {\n            fetchOptions.headers = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, fetchOptions.headers), {\n                Authorization: \"Bearer \".concat(this.authToken)\n            });\n        }\n        var url;\n        if (isApiCallForCodegen) {\n            url = \"\".concat(host, \"/api/v1/codegen/\").concat(this.apiKey, \"/\").concat(keyNames);\n        } else if (this.apiEndpoint === 'query') {\n            url = \"\".concat(host, \"/api/v3/query/\").concat(this.apiKey, \"/\").concat(keyNames);\n        } else {\n            url = \"\".concat(host, \"/api/v3/content/\").concat(queue[0].model);\n        }\n        url = url + (queryParams && hasParams ? \"?\".concat(queryStr) : '');\n        var promise = this.makeFetchApiCall(url, fetchOptions).then(function(res) {\n            return res.json();\n        }).then(function(result) {\n            for(var _i = 0, queue_3 = queue; _i < queue_3.length; _i++){\n                var options = queue_3[_i];\n                var keyName = options.key;\n                if (options.model === _this.blockContentLoading && !options.noEditorUpdates) {\n                    continue;\n                }\n                var isEditingThisModel = _this.editingModel === options.model;\n                if (isEditingThisModel && Builder1.isEditing) {\n                    parent.postMessage({\n                        type: 'builder.updateContent',\n                        data: {\n                            options: options\n                        }\n                    }, '*');\n                // return;\n                }\n                var observer = _this.observersByKey[keyName];\n                if (!observer) {\n                    return;\n                }\n                var data = isApiCallForCodegenOrQuery ? result[keyName] : result.results;\n                var sorted = data; // sortBy(data, item => item.priority);\n                if (data) {\n                    var testModifiedResults = Builder1.isServer ? sorted : _this.processResultsForTests(sorted);\n                    observer.next(testModifiedResults);\n                } else {\n                    var search = _this.getLocation().search;\n                    if ((search || '').includes('builder.preview=' + options.model)) {\n                        var previewData = {\n                            id: 'preview',\n                            name: 'Preview',\n                            data: {}\n                        };\n                        observer.next([\n                            previewData\n                        ]);\n                    }\n                    observer.next([]);\n                }\n            }\n        }, function(err) {\n            for(var _i = 0, queue_4 = queue; _i < queue_4.length; _i++){\n                var options = queue_4[_i];\n                var observer = _this.observersByKey[options.key];\n                if (!observer) {\n                    return;\n                }\n                observer.error(err);\n            }\n        });\n        return promise;\n    };\n    Builder1.prototype.processResultsForTests = function(results) {\n        var _this = this;\n        var _a;\n        var mappedResults = results.map(function(item) {\n            if (!item.variations) {\n                return item;\n            }\n            var cookieValue = _this.getTestCookie(item.id);\n            var cookieVariation = cookieValue === item.id ? item : item.variations[cookieValue];\n            if (cookieVariation) {\n                return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, item), {\n                    data: cookieVariation.data,\n                    variationId: cookieValue,\n                    testVariationId: cookieValue,\n                    testVariationName: cookieVariation.name\n                });\n            }\n            if (_this.canTrack && item.variations && size(item.variations)) {\n                var n = 0;\n                var random = Math.random();\n                for(var id in item.variations){\n                    var variation = item.variations[id];\n                    var testRatio = variation.testRatio;\n                    n += testRatio;\n                    if (random < n) {\n                        _this.setTestCookie(item.id, variation.id);\n                        var variationName = variation.name || (variation.id === item.id ? 'Default variation' : '');\n                        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, item), {\n                            data: variation.data,\n                            variationId: variation.id,\n                            testVariationId: variation.id,\n                            variationName: variationName,\n                            testVariationName: variationName\n                        });\n                    }\n                }\n                _this.setTestCookie(item.id, item.id);\n            }\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, item), {\n                variationId: item.id\n            }), item.variations && size(item.variations) && {\n                testVariationId: item.id,\n                testVariationName: 'Default variation'\n            });\n        });\n        if (isIframe) {\n            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                type: 'builder.contentResults',\n                data: {\n                    results: mappedResults\n                }\n            }, '*');\n        }\n        return mappedResults;\n    };\n    Builder1.prototype.getTestCookie = function(contentId) {\n        return this.getCookie(\"\".concat(this.testCookiePrefix, \".\").concat(contentId));\n    };\n    Builder1.prototype.setTestCookie = function(contentId, variationId) {\n        if (!this.canTrack) {\n            this.cookieQueue.push([\n                contentId,\n                variationId\n            ]);\n            return;\n        }\n        // 30 days from now\n        var future = new Date();\n        future.setDate(future.getDate() + 30);\n        return this.setCookie(\"\".concat(this.testCookiePrefix, \".\").concat(contentId), variationId, future);\n    };\n    Builder1.prototype.getCookie = function(name) {\n        if (this.cookies) {\n            return this.cookies.get(name);\n        }\n        return Builder1.isBrowser && getCookie(name);\n    };\n    Builder1.prototype.setCookie = function(name, value, expires) {\n        if (this.cookies && !(Builder1.isServer && Builder1.isStatic)) {\n            return this.cookies.set(name, value, {\n                expires: expires,\n                secure: this.getLocation().protocol === 'https:'\n            });\n        }\n        return Builder1.isBrowser && setCookie(name, value, expires);\n    };\n    Builder1.prototype.getContent = function(modelName, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        if (!this.apiKey) {\n            throw new Error(\"Fetching content from model \".concat(modelName, \" failed, expected apiKey to be defined instead got: \").concat(this.apiKey));\n        }\n        return this.queueGetContent(modelName, options);\n    };\n    Builder1.prototype.getAll = function(modelName, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        var instance = this;\n        if (!Builder1.isBrowser) {\n            instance = new Builder1(options.apiKey || this.apiKey, options.req, options.res, false, options.authToken || this.authToken, options.apiVersion || this.apiVersion);\n            instance.setUserAttributes(this.getUserAttributes());\n        } else {\n            // NOTE: All these are when .init is not called and the customer\n            // directly calls .get on the singleton instance of Builder\n            if (options.apiKey && !this.apiKey) {\n                this.apiKey = options.apiKey;\n            }\n            if (options.authToken && !this.authToken) {\n                this.authToken = options.authToken;\n            }\n            if (options.apiVersion && !this.apiVersion) {\n                this.apiVersion = options.apiVersion;\n            }\n        }\n        // Set noTraverse=true if NOT already passed by user, for query performance\n        if (!('noTraverse' in options)) {\n            options.noTraverse = true;\n        }\n        return instance.getContent(modelName, (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            limit: 30\n        }, options), {\n            key: options.key || // Make the key include all options, so we don't reuse cache for the same content fetched\n            // with different options\n            Builder1.isBrowser ? \"\".concat(modelName, \":\").concat(hash_sum__WEBPACK_IMPORTED_MODULE_0___default()(omit(options, 'initialContent', 'req', 'res'))) : undefined\n        })).promise();\n    };\n    Builder1.VERSION = SDK_VERSION;\n    Builder1.components = [];\n    /**\r\n     * Makes it so that a/b tests generate code like {@link\r\n     * https://www.builder.io/blog/high-performance-no-code#__next:~:text=Static%20generated%20A%2FB%20testing}\r\n     * instead of the old way where we render only one test group at a time on the\r\n     * server. This is the preferred/better way not and we should ultimately make it\r\n     * the default\r\n     */ Builder1.isStatic = true;\n    Builder1.animator = new Animator();\n    Builder1.nextTick = nextTick;\n    Builder1.throttle = throttle;\n    Builder1.editors = [];\n    Builder1.trustedHosts = [\n        '*.beta.builder.io',\n        'beta.builder.io',\n        'builder.io',\n        'localhost',\n        'qa.builder.io'\n    ];\n    Builder1.plugins = [];\n    Builder1.actions = [];\n    Builder1.registry = {};\n    Builder1.attributesCookieName = 'builder.userAttributes';\n    Builder1.registryChange = new BehaviorSubject({});\n    Builder1._editingPage = false;\n    Builder1.isIframe = isIframe;\n    Builder1.isBrowser = isBrowser;\n    Builder1.isReactNative = isReactNative;\n    Builder1.isServer = !isBrowser && !isReactNative;\n    Builder1.previewingModel = Builder1.isBrowser && getQueryParam(location.href, 'builder.preview');\n    Builder1.settings = {};\n    Builder1.settingsChange = new BehaviorSubject({});\n    // TODO: this is quick and dirty, do better implementation later. Also can be unreliable\n    // if page 301s etc. Use a query param instead? also could have issues with redirects. Injecting var could\n    // work but is async...\n    Builder1.isEditing = Boolean(isIframe && (document.referrer && document.referrer.match(/builder\\.io|localhost:1234/) || location.search.indexOf('builder.frameEditing=') !== -1));\n    Builder1.isPreviewing = Boolean(isBrowser && (location.search.indexOf('builder.preview=') !== -1 || location.search.indexOf('builder.frameEditing=') !== -1));\n    Builder1.isReact = false;\n    Builder1.sdkInfo = undefined;\n    Builder1.overrideUserAttributes = {};\n    return Builder1;\n}();\nvar builder = new Builder(null, undefined, undefined, true);\nBuilder.singletonInstance = builder;\n //# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGJ1aWxkZXIuaW8vc2RrL2Rpc3QvaW5kZXguZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUMsWUFBWTtJQUNYLElBQUksSUFBeUUsRUFBRSxPQUFPLEtBQUssQ0FBQztJQUU1RixTQUFTLFdBQVcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFO1FBQ2xDLE1BQU0sR0FBRyxNQUFNLElBQUk7WUFBRSxPQUFPLEVBQUUsS0FBSztZQUFFLFVBQVUsRUFBRSxLQUFLO1lBQUUsTUFBTSxFQUFFLElBQUk7UUFBQSxDQUFFLENBQUM7UUFDdkUsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM5QyxHQUFHLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdFLE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBRztJQUVELE1BQU0sQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO0NBQ25DLENBQUMsR0FBRztBQ1hKLElBQU0sUUFBUSxHQUNaLE1BQTZCLElBQzdCLENBQWlFLENBQUM7QUFFcEUsSUFBTSxRQUFRLEdBQUcsT0FBTyxNQUFNLEdBQUssV0FBVyxDQUFDO0FBRS9DO0FBQ00sU0FBVSxRQUFRLENBQUMsRUFBYzs7Ozs7OztJQU9yQyxJQUFJLENBQUMsUUFBUSxJQUFJLFFBQVEsSUFBSSxPQUFPLGdCQUFnQixLQUFLLFdBQVcsRUFBRTtRQUNwRSxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDZixPQUFPO0lBQ1I7SUFDRCxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDZixJQUFNLFFBQVEsR0FBRyxJQUFJLGdCQUFnQixDQUFDO1FBQU0sU0FBRSxFQUFFO0lBQUEsRUFBQyxDQUFDO0lBQ2xELElBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENB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QUFDLENBQUM7UUFDakIsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ2xCLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksS0FBSyxFQUFFLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDekMsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxLQUFLLEVBQUUsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUN6QyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDbEIsR0FBRyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNsQixHQUFHLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUM7UUFDMUIsR0FBRyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDO0lBQzlDO0lBRUQsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ3RCLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUIsR0FBRyxDQUFDLElBQUksR0FBRyxVQUFHLENBQUMsQ0FBQyxRQUFRLFNBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBRSxDQUFDO0lBQ3RDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQztJQUUxQixPQUFPLEdBQUcsQ0FBQztBQUNiO0FDdkRBOzs7Ozs7Ozs7OztDQVdHLEdBQ0csU0FBVSxPQUFPLENBQUMsR0FBWTtJQUNsQyxJQUFJLEdBQUcsWUFBWSxLQUFLLEVBQUUsT0FBTyxHQUFHLENBQUM7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QUM7SUFDcEIsT0FBUyxjQUFHLFNBQVMsQ0FBQztJQUN0QixPQUFhLGtCQUFHLGFBQWEsQ0FBQztJQUM5QixpQkFBUSxHQUFHLENBQUMsU0FBUyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQ3hDLHdCQUFlLEdBQUcsT0FBTyxFQUFDLFNBQVMsSUFBSSxhQUFhLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0lBRXZGLE9BQVEsYUFBYSxFQUFFLENBQUM7SUFDeEIsdUJBQWMsR0FBRyxJQUFJLGVBQWUsQ0FBVyxFQUFFLENBQUMsQ0FBQzs7OztJQThCbkQsT0FBUyxjQUFHLE9BQU8sQ0FDeEIsUUFBUSxLQUNMLFFBQVMsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsNEJBQTRCLENBQUMsSUFDMUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsdUJBQXVCLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQyxDQUM3RDtJQUVNLE9BQVksaUJBQUcsT0FBTyxDQUMzQixTQUFTLEtBQ04sUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUMsSUFDakQsUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsdUJBQXVCLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQyxDQUM3RDtJQWtJTSxPQUFPLFlBQUcsS0FBSyxDQUFDO0lBQ2hCLE9BQU8sWUFBRyxTQUtKLENBQUM7SUFpYlAsT0FBc0IsMkJBQTRCLEVBQUUsQ0FBQztJQW92QzlELE9BQUM7QUFBQSxDQXhnRUQsRUF3Z0VDO0FDaDVGTSxJQUFNLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUU7QUFDckUsT0FBTyxDQUFDLGlCQUFpQixHQUFHLE9BQU8iLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb2JlcnRoaW5kcy9Eb2N1bWVudHMvc3JjL3BvbHlmaWxscy9jdXN0b20tZXZlbnQtcG9seWZpbGwuanMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9mdW5jdGlvbnMvbmV4dC10aWNrLmZ1bmN0aW9uLnRzIiwiL1VzZXJzL3JvYmVydGhpbmRzL0RvY3VtZW50cy9zcmMvY2xhc3Nlcy9xdWVyeS1zdHJpbmcuY2xhc3MudHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9jbGFzc2VzL29ic2VydmFibGUuY2xhc3MudHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9jbGFzc2VzL3Byb21pc2UuY2xhc3MudHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9mdW5jdGlvbnMvc2VydmVyLW9ubHktcmVxdWlyZS5mdW5jdGlvbi50cyIsIi9Vc2Vycy9yb2JlcnRoaW5kcy9Eb2N1bWVudHMvc3JjL2Z1bmN0aW9ucy9mZXRjaC5mdW5jdGlvbi50cyIsIi9Vc2Vycy9yb2JlcnRoaW5kcy9Eb2N1bWVudHMvc3JjL2Z1bmN0aW9ucy9hc3NpZ24uZnVuY3Rpb24udHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9mdW5jdGlvbnMvdGhyb3R0bGUuZnVuY3Rpb24udHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9jbGFzc2VzL2FuaW1hdG9yLmNsYXNzLnRzIiwiL1VzZXJzL3JvYmVydGhpbmRzL0RvY3VtZW50cy9zcmMvY2xhc3Nlcy9jb29raWVzLmNsYXNzLnRzIiwiL1VzZXJzL3JvYmVydGhpbmRzL0RvY3VtZW50cy9zcmMvZnVuY3Rpb25zL29taXQuZnVuY3Rpb24udHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9mdW5jdGlvbnMvdXVpZC50cyIsIi9Vc2Vycy9yb2JlcnRoaW5kcy9Eb2N1bWVudHMvc3JjL3VybC50cyIsIi9Vc2Vycy9yb2JlcnRoaW5kcy9Eb2N1bWVudHMvc3JjL2Z1bmN0aW9ucy90by1lcnJvci50cyIsIi9Vc2Vycy9yb2JlcnRoaW5kcy9Eb2N1bWVudHMvc3JjL3R5cGVzL2FwaS12ZXJzaW9uLnRzIiwiL1VzZXJzL3JvYmVydGhpbmRzL0RvY3VtZW50cy9zcmMvc2RrLXZlcnNpb24udHMiLCIvVXNlcnMvcm9iZXJ0aGluZHMvRG9jdW1lbnRzL3NyYy9idWlsZGVyLmNsYXNzLnRzIiwiL1VzZXJzL3JvYmVydGhpbmRzL0RvY3VtZW50cy9zcmMvY29uc3RhbnRzL2J1aWxkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblxuICBmdW5jdGlvbiBDdXN0b21FdmVudChldmVudCwgcGFyYW1zKSB7XG4gICAgcGFyYW1zID0gcGFyYW1zIHx8IHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWw6IG51bGwgfTtcbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgZXZ0LmluaXRDdXN0b21FdmVudChldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsKTtcbiAgICByZXR1cm4gZXZ0O1xuICB9XG5cbiAgd2luZG93LkN1c3RvbUV2ZW50ID0gQ3VzdG9tRXZlbnQ7XG59KSgpO1xuIiwiY29uc3QgaXNTYWZhcmkgPVxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcblxuY29uc3QgaXNDbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcblxuLy8gVE9ETzogcXVldWUgYWxsIG9mIHRoZXNlIGluIGEgZGVib3VuY2VOZXh0VGlja1xuZXhwb3J0IGZ1bmN0aW9uIG5leHRUaWNrKGZuOiAoKSA9PiB2b2lkKSB7XG4gIC8vIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5uZXh0VGljaykge1xuICAvLyAgIGNvbnNvbGUubG9nKCdwcm9jZXNzLm5leHRUaWNrPycpO1xuICAvLyAgIHByb2Nlc3MubmV4dFRpY2soZm4pO1xuICAvLyAgIHJldHVybjtcbiAgLy8gfVxuICAvLyBGSVhNRTogZml4IHRoZSByZWFsIHNhZmFyaSBpc3N1ZSBvZiB0aGlzIHJhbmRvbWx5IG5vdCB3b3JraW5nXG4gIGlmICghaXNDbGllbnQgfHwgaXNTYWZhcmkgfHwgdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc2V0VGltZW91dChmbik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBjYWxsZWQgPSAwO1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IGZuKCkpO1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICB9KTtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gIGVsZW1lbnQuZGF0YSA9IFN0cmluZygoY2FsbGVkID0gKytjYWxsZWQpKTtcbn1cbiIsImV4cG9ydCB0eXBlIFN0cmluZ01hcCA9IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cbmNvbnN0IFBST1BFUlRZX05BTUVfREVOWV9MSVNUID0gT2JqZWN0LmZyZWV6ZShbJ19fcHJvdG9fXycsICdwcm90b3R5cGUnLCAnY29uc3RydWN0b3InXSk7XG5cbi8vIFRPRE86IHVuaXQgdGVzdHNcbmV4cG9ydCBjbGFzcyBRdWVyeVN0cmluZyB7XG4gIHN0YXRpYyBwYXJzZURlZXAocXVlcnlTdHJpbmc6IHN0cmluZykge1xuICAgIGNvbnN0IG9iaiA9IHRoaXMucGFyc2UocXVlcnlTdHJpbmcpO1xuICAgIHJldHVybiB0aGlzLmRlZXBlbihvYmopO1xuICB9XG5cbiAgc3RhdGljIHN0cmluZ2lmeURlZXAob2JqOiBhbnkpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLmZsYXR0ZW4ob2JqKTtcbiAgICByZXR1cm4gdGhpcy5zdHJpbmdpZnkobWFwKTtcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZShxdWVyeVN0cmluZzogc3RyaW5nKTogU3RyaW5nTWFwIHtcbiAgICBjb25zdCBxdWVyeTogU3RyaW5nTWFwID0ge307XG4gICAgY29uc3QgcGFpcnMgPSAocXVlcnlTdHJpbmdbMF0gPT09ICc/JyA/IHF1ZXJ5U3RyaW5nLnN1YnN0cigxKSA6IHF1ZXJ5U3RyaW5nKS5zcGxpdCgnJicpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhaXIgPSBwYWlyc1tpXS5zcGxpdCgnPScpO1xuICAgICAgLy8gVE9ETzogbm9kZSBzdXBwb3J0P1xuICAgICAgdHJ5IHtcbiAgICAgICAgcXVlcnlbZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMF0pXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdIHx8ICcnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElnbm9yZSBtYWxmb3JtZWQgVVJJIGNvbXBvbmVudHNcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9XG5cbiAgc3RhdGljIHN0cmluZ2lmeShtYXA6IFN0cmluZ01hcCkge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXApIHtcbiAgICAgIGlmIChtYXAuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG1hcFtrZXldO1xuICAgICAgICBpZiAoc3RyKSB7XG4gICAgICAgICAgc3RyICs9ICcmJztcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgc3RhdGljIGRlZXBlbihtYXA6IFN0cmluZ01hcCkge1xuICAgIC8vIEZJWE1FOyBTaG91bGQgYmUgdHlwZSBUcmVlID0gUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgVHJlZT5cbiAgICAvLyByZXF1aXJlcyBhIHR5cGVzY3JpcHQgdXBncmFkZS5cbiAgICBjb25zdCBvdXRwdXQ6IGFueSA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBtYXApIHtcbiAgICAgIGxldCB0ID0gb3V0cHV0O1xuICAgICAgY29uc3QgcGFydHMgPSBrLnNwbGl0KCcuJyk7XG4gICAgICBjb25zdCBrZXkgPSBwYXJ0cy5wb3AoKSE7XG4gICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICAgICAgYXNzZXJ0QWxsb3dlZFByb3BlcnR5TmFtZShwYXJ0KTtcbiAgICAgICAgdCA9IHRbcGFydF0gPSB0W3BhcnRdIHx8IHt9O1xuICAgICAgfVxuICAgICAgdFtrZXldID0gbWFwW2tdO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9XG5cbiAgc3RhdGljIGZsYXR0ZW4ob2JqOiBhbnksIF9jdXJyZW50PzogYW55LCBfcmVzOiBhbnkgPSB7fSk6IFN0cmluZ01hcCB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgY29uc3QgbmV3S2V5ID0gX2N1cnJlbnQgPyBfY3VycmVudCArICcuJyArIGtleSA6IGtleTtcbiAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRoaXMuZmxhdHRlbih2YWx1ZSwgbmV3S2V5LCBfcmVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9yZXNbbmV3S2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfcmVzO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydEFsbG93ZWRQcm9wZXJ0eU5hbWUobmFtZTogc3RyaW5nKTogYXNzZXJ0cyBuYW1lIHtcbiAgaWYgKFBST1BFUlRZX05BTUVfREVOWV9MSVNULmluZGV4T2YobmFtZSkgPj0gMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3BlcnR5IG5hbWUgXCIke25hbWV9XCIgaXMgbm90IGFsbG93ZWRgKTtcbn1cbiIsImV4cG9ydCB0eXBlIExpc3RlbmVyPFQ+ID0gKHZhbHVlOiBUKSA9PiB2b2lkO1xuXG5leHBvcnQgY2xhc3MgU3Vic2NyaXB0aW9uPEZ1bmN0aW9uVHlwZSA9IEZ1bmN0aW9uPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgbGlzdGVuZXJzPzogRnVuY3Rpb25UeXBlW10sXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcj86IEZ1bmN0aW9uVHlwZVxuICApIHt9XG5cbiAgdW5zdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgZ2V0IGNsb3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy51bnN1YnNjcmliZWQ7XG4gIH1cblxuICBwcml2YXRlIHJlYWRvbmx5IG90aGVyU3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICBhZGQoc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24pIHtcbiAgICB0aGlzLm90aGVyU3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICBpZiAodGhpcy51bnN1YnNjcmliZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMubGlzdGVuZXIgJiYgdGhpcy5saXN0ZW5lcnMpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZih0aGlzLmxpc3RlbmVyKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMub3RoZXJTdWJzY3JpcHRpb25zLmZvckVhY2goc3ViID0+IHN1Yi51bnN1YnNjcmliZSgpKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlZCA9IHRydWU7XG4gIH1cbn1cblxuLy8gVE9ETzogZm9sbG93IG1pbmltYWwgYmFzaWMgc3BlYzogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JzZXJ2YWJsZVxuZXhwb3J0IGNsYXNzIEJlaGF2aW9yU3ViamVjdDxUID0gYW55LCBFcnJvclR5cGUgPSBhbnk+IHtcbiAgY29uc3RydWN0b3IocHVibGljIHZhbHVlOiBUKSB7fVxuXG4gIHByaXZhdGUgbGlzdGVuZXJzOiBMaXN0ZW5lcjxUPltdID0gW107XG4gIHByaXZhdGUgZXJyb3JMaXN0ZW5lcnM6IExpc3RlbmVyPEVycm9yVHlwZT5bXSA9IFtdO1xuXG4gIG5leHQodmFsdWU6IFQpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXIodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IGltcGxlbWVudCB0aGlzIGFzIFBJUEUgaW5zdGVhZFxuICBtYXA8TmV3VHlwZSA9IGFueT4oZm46IChpdGVtOiBUKSA9PiBOZXdUeXBlKSB7XG4gICAgY29uc3QgbmV3U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8TmV3VHlwZT4oZm4odGhpcy52YWx1ZSkpO1xuICAgIC8vIFRPRE86IG9uIGRlc3Ryb3kgZGVsZXRlIHRoZXNlXG4gICAgdGhpcy5zdWJzY3JpYmUodmFsID0+IHtcbiAgICAgIG5ld1N1YmplY3QubmV4dChmbih2YWwpKTtcbiAgICB9KTtcbiAgICB0aGlzLmNhdGNoKGVyciA9PiB7XG4gICAgICBuZXdTdWJqZWN0LmVycm9yKGVycik7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld1N1YmplY3Q7XG4gIH1cblxuICBjYXRjaChlcnJvckxpc3RlbmVyOiBMaXN0ZW5lcjxFcnJvclR5cGU+KSB7XG4gICAgdGhpcy5lcnJvckxpc3RlbmVycy5wdXNoKGVycm9yTGlzdGVuZXIpO1xuICAgIHJldHVybiBuZXcgU3Vic2NyaXB0aW9uKHRoaXMuZXJyb3JMaXN0ZW5lcnMsIGVycm9yTGlzdGVuZXIpO1xuICB9XG5cbiAgZXJyb3IoZXJyb3I6IEVycm9yVHlwZSkge1xuICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5lcnJvckxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXIoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHN1YnNjcmliZShsaXN0ZW5lcjogTGlzdGVuZXI8VD4sIGVycm9yTGlzdGVuZXI/OiBMaXN0ZW5lcjxFcnJvclR5cGU+KSB7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgaWYgKGVycm9yTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZXJyb3JMaXN0ZW5lcnMucHVzaChlcnJvckxpc3RlbmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpcHRpb24odGhpcy5saXN0ZW5lcnMsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHRvUHJvbWlzZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8VD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5zdWJzY3JpYmUoXG4gICAgICAgIHZhbHVlID0+IHtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyID0+IHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByb21pc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9Qcm9taXNlKCk7XG4gIH1cblxuICB0aGVuOiBQcm9taXNlPFQ+Wyd0aGVuJ10gPSAoLi4uYXJncykgPT4ge1xuICAgIHJldHVybiB0aGlzLnRvUHJvbWlzZSgpLnRoZW4oLi4uYXJncyk7XG4gIH07XG59XG5cbi8vIFRPRE86IG1ha2UgZGlmZmVyZW50IGNsYXNzZXNcbmV4cG9ydCBjb25zdCBPYnNlcnZlciA9IEJlaGF2aW9yU3ViamVjdDtcbmV4cG9ydCBjb25zdCBPYnNlcnZhYmxlID0gQmVoYXZpb3JTdWJqZWN0O1xuIiwiaW1wb3J0IHsgbmV4dFRpY2sgfSBmcm9tICcuLi9mdW5jdGlvbnMvbmV4dC10aWNrLmZ1bmN0aW9uJztcblxuY29uc3QgU3RhdGUgPSB7XG4gIFBlbmRpbmc6ICdQZW5kaW5nJyxcbiAgRnVsZmlsbGVkOiAnRnVsZmlsbGVkJyxcbiAgUmVqZWN0ZWQ6ICdSZWplY3RlZCcsXG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbDogYW55KSB7XG4gIHJldHVybiB2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QodmFsOiBhbnkpIHtcbiAgcmV0dXJuIHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuaW50ZXJmYWNlIEhhbmRsZXI8VD4ge1xuICBvbkZ1bGZpbGxlZDogKHZhbDogVCkgPT4gYW55O1xuICBvblJlamVjdGVkOiAoZXJyOiBhbnkpID0+IGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIFRpbnlQcm9taXNlPFQgPSBhbnk+IHtcbiAgcHJpdmF0ZSBfc3RhdGUgPSBTdGF0ZS5QZW5kaW5nO1xuICBwcml2YXRlIF9oYW5kbGVyczogSGFuZGxlcjxUPltdID0gW107XG4gIHByaXZhdGUgX3ZhbHVlOiBUIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoZXhlY3V0b3I6IChyZXNvbHZlOiAodmFsOiBUKSA9PiBhbnksIHJlamVjdDogKGVycjogVCkgPT4gYW55KSA9PiB2b2lkKSB7XG4gICAgZXhlY3V0b3IodGhpcy5fcmVzb2x2ZS5iaW5kKHRoaXMpLCB0aGlzLl9yZWplY3QuYmluZCh0aGlzKSk7XG4gIH1cblxuICBwcml2YXRlIF9yZXNvbHZlKHg6IGFueSkge1xuICAgIGlmICh4IGluc3RhbmNlb2YgVGlueVByb21pc2UpIHtcbiAgICAgIHgudGhlbih0aGlzLl9yZXNvbHZlLmJpbmQodGhpcyksIHRoaXMuX3JlamVjdC5iaW5kKHRoaXMpKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHgpIHx8IGlzRnVuY3Rpb24oeCkpIHtcbiAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRoZW5hYmxlID0gKHggYXMgUHJvbWlzZTxhbnk+KS50aGVuO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGVuYWJsZSkpIHtcbiAgICAgICAgICB0aGVuYWJsZS5jYWxsKFxuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIChyZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkgdGhpcy5fcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkIGFzIGFueTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkgdGhpcy5fcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZCBhcyBhbnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9mdWxmaWxsKHgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgIHRoaXMuX3JlamVjdChleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZnVsZmlsbCh4KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9mdWxmaWxsKHJlc3VsdDogVCkge1xuICAgIHRoaXMuX3N0YXRlID0gU3RhdGUuRnVsZmlsbGVkO1xuICAgIHRoaXMuX3ZhbHVlID0gcmVzdWx0O1xuICAgIHRoaXMuX2hhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiB0aGlzLl9jYWxsSGFuZGxlcihoYW5kbGVyKSk7XG4gIH1cblxuICBwcml2YXRlIF9yZWplY3QoZXJyb3I6IGFueSkge1xuICAgIHRoaXMuX3N0YXRlID0gU3RhdGUuUmVqZWN0ZWQ7XG4gICAgdGhpcy5fdmFsdWUgPSBlcnJvcjtcbiAgICB0aGlzLl9oYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4gdGhpcy5fY2FsbEhhbmRsZXIoaGFuZGxlcikpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaXNQZW5kaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gU3RhdGUuUGVuZGluZztcbiAgfVxuXG4gIHByaXZhdGUgX2lzRnVsZmlsbGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gU3RhdGUuRnVsZmlsbGVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfaXNSZWplY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGUgPT09IFN0YXRlLlJlamVjdGVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfYWRkSGFuZGxlcihvbkZ1bGZpbGxlZDogKHZhbDogVCkgPT4gYW55LCBvblJlamVjdGVkOiAoZXJyOiBhbnkpID0+IGFueSkge1xuICAgIHRoaXMuX2hhbmRsZXJzLnB1c2goe1xuICAgICAgb25GdWxmaWxsZWQsXG4gICAgICBvblJlamVjdGVkLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfY2FsbEhhbmRsZXIoaGFuZGxlcjogSGFuZGxlcjxUPikge1xuICAgIGlmICh0aGlzLl9pc0Z1bGZpbGxlZCgpICYmIGlzRnVuY3Rpb24oaGFuZGxlci5vbkZ1bGZpbGxlZCkpIHtcbiAgICAgIGhhbmRsZXIub25GdWxmaWxsZWQodGhpcy5fdmFsdWUgYXMgVCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc1JlamVjdGVkKCkgJiYgaXNGdW5jdGlvbihoYW5kbGVyLm9uUmVqZWN0ZWQpKSB7XG4gICAgICBoYW5kbGVyLm9uUmVqZWN0ZWQodGhpcy5fdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHRoZW4ob25GdWxmaWxsZWQ6ICh2YWw6IFQpID0+IGFueSwgb25SZWplY3RlZDogKGVycjogYW55KSA9PiBhbnkpIHtcbiAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICBjYXNlIFN0YXRlLlBlbmRpbmc6IHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55UHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgdGhpcy5fYWRkSGFuZGxlcihcbiAgICAgICAgICAgIHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvbkZ1bGZpbGxlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvbkZ1bGZpbGxlZCh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgIHJlamVjdChleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob25SZWplY3RlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvblJlamVjdGVkKGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICByZWplY3QoZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgU3RhdGUuRnVsZmlsbGVkOiB7XG4gICAgICAgIHJldHVybiBuZXcgVGlueVByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uRnVsZmlsbGVkKSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUob25GdWxmaWxsZWQodGhpcy5fdmFsdWUgYXMgVCkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5fdmFsdWUgYXMgVCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgIHJlamVjdChleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFN0YXRlLlJlamVjdGVkOiB7XG4gICAgICAgIHJldHVybiBuZXcgVGlueVByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uUmVqZWN0ZWQpKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShvblJlamVjdGVkKHRoaXMuX3ZhbHVlKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0ICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgPyBQcm9taXNlIDogVGlueVByb21pc2UpIGFzIFByb21pc2VDb25zdHJ1Y3RvcjtcbiIsIi8vIFdlYnBhY2sgd29ya2Fyb3VuZCB0byBjb25kaXRpb25hbGx5IHJlcXVpcmUgY2VydGFpbiBleHRlcm5hbCBtb2R1bGVzXG4vLyBvbmx5IG9uIHRoZSBzZXJ2ZXIgYW5kIG5vdCBidW5kbGUgdGhlbSBvbiB0aGUgY2xpZW50XG5sZXQgc2VydmVyT25seVJlcXVpcmU6IE5vZGVSZXF1aXJlO1xudHJ5IHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWV2YWxcbiAgc2VydmVyT25seVJlcXVpcmUgPSBldmFsKCdyZXF1aXJlJyk7XG59IGNhdGNoIChlcnIpIHtcbiAgLy8gYWxsIGdvb2RcbiAgc2VydmVyT25seVJlcXVpcmUgPSAoKCkgPT4gbnVsbCkgYXMgYW55O1xufVxuXG5leHBvcnQgZGVmYXVsdCBzZXJ2ZXJPbmx5UmVxdWlyZTtcbiIsImltcG9ydCBQcm9taXNlIGZyb20gJy4uL2NsYXNzZXMvcHJvbWlzZS5jbGFzcyc7XG5pbXBvcnQgc2VydmVyT25seVJlcXVpcmUgZnJvbSAnLi9zZXJ2ZXItb25seS1yZXF1aXJlLmZ1bmN0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBTaW1wbGlmaWVkRmV0Y2hPcHRpb25zIHtcbiAgYm9keT86IHN0cmluZztcbiAgaGVhZGVycz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIG1ldGhvZD86ICdHRVQnIHwgJ1BPU1QnIHwgJ1BVVCcgfCAnREVMRVRFJyB8ICdQQVRDSCc7XG4gIGNyZWRlbnRpYWxzPzogJ2luY2x1ZGUnO1xuICBtb2RlPzogUmVxdWVzdE1vZGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2ltcGxlRmV0Y2hSZXNwb25zZSB7XG4gIG9rOiBib29sZWFuO1xuICBzdGF0dXM6IG51bWJlcjtcbiAgc3RhdHVzVGV4dDogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbiAgY2xvbmU6ICgpID0+IGFueTtcbiAgdGV4dDogKCkgPT4gUHJvbWlzZTxzdHJpbmc+O1xuICBqc29uOiAoKSA9PiBQcm9taXNlPGFueT47XG4gIGJsb2I6ICgpID0+IFByb21pc2U8QmxvYj47XG4gIGhlYWRlcnM6IHtcbiAgICBrZXlzOiAoKSA9PiBzdHJpbmdbXTtcbiAgICBlbnRyaWVzOiAoKSA9PiBbc3RyaW5nLCBzdHJpbmddW107XG4gICAgZ2V0OiAobjogc3RyaW5nKSA9PiBzdHJpbmc7XG4gICAgaGFzOiAobjogc3RyaW5nKSA9PiBib29sZWFuO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9taXNlUmVzb2x2ZTxUPih2YWx1ZTogVCkge1xuICByZXR1cm4gbmV3IFByb21pc2U8VD4ocmVzb2x2ZSA9PiByZXNvbHZlKHZhbHVlKSk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGV2ZWxvcGl0L3VuZmV0Y2gvbWFzdGVyL3NyYy9pbmRleC5tanNcbmZ1bmN0aW9uIHRpbnlGZXRjaCh1cmw6IHN0cmluZywgb3B0aW9uczogU2ltcGxpZmllZEZldGNoT3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxTaW1wbGVGZXRjaFJlc3BvbnNlPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgcmVxdWVzdC5vcGVuKG9wdGlvbnMubWV0aG9kIHx8ICdnZXQnLCB1cmwsIHRydWUpO1xuXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgZm9yIChjb25zdCBpIGluIG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoaSwgb3B0aW9ucy5oZWFkZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJztcblxuICAgIHJlcXVlc3Qub25sb2FkID0gKCkgPT4ge1xuICAgICAgcmVzb2x2ZShyZXNwb25zZSgpKTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbmVycm9yID0gcmVqZWN0O1xuXG4gICAgcmVxdWVzdC5zZW5kKG9wdGlvbnMuYm9keSk7XG5cbiAgICBmdW5jdGlvbiByZXNwb25zZSgpIHtcbiAgICAgIGNvbnN0IGtleXM6IHN0cmluZ1tdID0gW107XG4gICAgICBjb25zdCBhbGw6IFtzdHJpbmcsIHN0cmluZ11bXSA9IFtdO1xuICAgICAgY29uc3QgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICAgICAgbGV0IGhlYWRlcjogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICByZXF1ZXN0XG4gICAgICAgIC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAucmVwbGFjZSgvXiguKj8pOlteXFxTXFxuXSooW1xcc1xcU10qPykkL2dtLCAoX21hdGNoLCBfa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgIGxldCBrZXkgPSBfa2V5O1xuICAgICAgICAgIGtleXMucHVzaCgoa2V5ID0ga2V5LnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgICBhbGwucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIGhlYWRlciA9IGhlYWRlcnNba2V5XTtcbiAgICAgICAgICBoZWFkZXJzW2tleV0gPSBoZWFkZXIgPyBgJHtoZWFkZXJ9LCR7dmFsdWV9YCA6IHZhbHVlO1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9rOiAoKHJlcXVlc3Quc3RhdHVzIC8gMTAwKSB8IDApID09PSAyLCAvLyAyMDAtMjk5XG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgdXJsOiByZXF1ZXN0LnJlc3BvbnNlVVJMLFxuICAgICAgICBjbG9uZTogcmVzcG9uc2UsXG4gICAgICAgIHRleHQ6ICgpID0+IHByb21pc2VSZXNvbHZlKHJlcXVlc3QucmVzcG9uc2VUZXh0KSxcbiAgICAgICAganNvbjogKCkgPT4gcHJvbWlzZVJlc29sdmUocmVxdWVzdC5yZXNwb25zZVRleHQpLnRoZW4oSlNPTi5wYXJzZSksXG4gICAgICAgIGJsb2I6ICgpID0+IHByb21pc2VSZXNvbHZlKG5ldyBCbG9iKFtyZXF1ZXN0LnJlc3BvbnNlXSkpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAga2V5czogKCkgPT4ga2V5cyxcbiAgICAgICAgICBlbnRyaWVzOiAoKSA9PiBhbGwsXG4gICAgICAgICAgZ2V0OiAobjogc3RyaW5nKSA9PiBoZWFkZXJzW24udG9Mb3dlckNhc2UoKV0sXG4gICAgICAgICAgaGFzOiAobjogc3RyaW5nKSA9PiBuLnRvTG93ZXJDYXNlKCkgaW4gaGVhZGVycyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZldGNoKCkge1xuICAvLyBJZiBmZXRjaCBpcyBkZWZpbmVkLCBpbiB0aGUgYnJvd3NlciwgdmlhIHBvbHlmaWxsLCBvciBpbiBhIENsb3VkZmxhcmUgd29ya2VyLCB1c2UgaXQuXG4gIGxldCBfZmV0Y2g6IHR5cGVvZiBmZXRjaCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgaWYgKGdsb2JhbFRoaXMuZmV0Y2gpIHtcbiAgICBfZmV0Y2ggPz89IGdsb2JhbFRoaXMuZmV0Y2ggYXMgYW55O1xuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gSWYgZmV0Y2ggaXMgbm90IGRlZmluZWQsIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCwgdXNlIG5vZGUtZmV0Y2guXG4gICAgdHJ5IHtcbiAgICAgIC8vIG5vZGUtZmV0Y2hAXjMgaXMgRVNNIG9ubHksIGFuZCB3aWxsIHRocm93IGVycm9yIG9uIHJlcXVpcmUuXG4gICAgICBfZmV0Y2ggPz89IHNlcnZlck9ubHlSZXF1aXJlKCdub2RlLWZldGNoJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWYgbm9kZS1mZXRjaCBpcyBub3QgaW5zdGFsbGVkLCB1c2UgdGlueS1mZXRjaC5cbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ25vZGUtZmV0Y2ggaXMgbm90IGluc3RhbGxlZC4gY29uc2lkZXIgcG9seWZpbGxpbmcgZmV0Y2ggb3IgaW5zdGFsbGluZyBub2RlLWZldGNoLidcbiAgICAgICk7XG4gICAgICBjb25zb2xlLndhcm4oZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gT3RoZXJ3aXNlLCB1c2UgdGlueS1mZXRjaC5cbiAgcmV0dXJuIF9mZXRjaCA/PyB0aW55RmV0Y2g7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhcmdldDogb2JqZWN0LCAuLi5hcmdzOiBhbnlbXSkge1xuICBjb25zdCB0byA9IE9iamVjdCh0YXJnZXQpO1xuXG4gIGZvciAobGV0IGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY29uc3QgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cbiAgICBpZiAobmV4dFNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAvLyBTa2lwIG92ZXIgaWYgdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgIGZvciAoY29uc3QgbmV4dEtleSBpbiBuZXh0U291cmNlKSB7XG4gICAgICAgIC8vIEF2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZShmdW5jOiBGdW5jdGlvbiwgd2FpdDogbnVtYmVyLCBvcHRpb25zOiBhbnkgPSB7fSkge1xuICBsZXQgY29udGV4dDogYW55O1xuICBsZXQgYXJnczogYW55O1xuICBsZXQgcmVzdWx0OiBhbnk7XG4gIGxldCB0aW1lb3V0ID0gbnVsbCBhcyBhbnk7XG4gIGxldCBwcmV2aW91cyA9IDA7XG4gIGNvbnN0IGxhdGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBEYXRlLm5vdygpO1xuICAgIHRpbWVvdXQgPSBudWxsO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gIH07XG4gIHJldHVybiBmdW5jdGlvbiAodGhpczogYW55KSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgIGNvbnN0IHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgIGNvbnRleHQgPSB0aGlzO1xuICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICB9XG4gICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cbiIsImltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnLi4vZnVuY3Rpb25zL3Rocm90dGxlLmZ1bmN0aW9uJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL2Z1bmN0aW9ucy9hc3NpZ24uZnVuY3Rpb24nO1xuXG5jb25zdCBjYW1lbENhc2VUb0tlYmFiQ2FzZSA9IChzdHI/OiBzdHJpbmcpID0+XG4gIHN0ciA/IHN0ci5yZXBsYWNlKC8oW0EtWl0pL2csIGcgPT4gYC0ke2dbMF0udG9Mb3dlckNhc2UoKX1gKSA6ICcnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFuaW1hdGlvblN0ZXAge1xuICAvLyBGaXJzdCBvbmUgaXMgYWx3YXlzIHN0YXJ0IHN0YXRlXG4gIC8vIGlzU3RhcnRTdGF0ZT86IGJvb2xlYW47XG4gIHN0eWxlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgZGVsYXk/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5pbWF0aW9uIHtcbiAgZWxlbWVudElkOiBzdHJpbmc7XG4gIHRyaWdnZXI6IHN0cmluZztcbiAgc3RlcHM6IEFuaW1hdGlvblN0ZXBbXTtcbiAgZHVyYXRpb246IG51bWJlcjtcbiAgZGVsYXk/OiBudW1iZXI7XG4gIGVhc2luZz86IHN0cmluZztcbiAgLy8gVE9ETzogZGVwcmVjYXRlIC0gb25seSBoZXJlIGJlY2F1c2Ugb2YgYW4gQVBJIGJ1Z1xuICBpZD86IHN0cmluZztcbiAgLy8gb25seSBhcHBseSBpbiBzY3JvbGxJblZpZXdcbiAgcmVwZWF0PzogYm9vbGVhbjtcbiAgLy8gb25seSBhcHBseSBpbiBzY3JvbGxJblZpZXcsIG51bWJlciBmcm9tIC0xIHRvIDFcbiAgdGhyZXNob2xkUGVyY2VudD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEFuaW1hdG9yIHtcbiAgYmluZEFuaW1hdGlvbnMoYW5pbWF0aW9uczogQW5pbWF0aW9uW10pIHtcbiAgICBmb3IgKGNvbnN0IGFuaW1hdGlvbiBvZiBhbmltYXRpb25zKSB7XG4gICAgICBzd2l0Y2ggKGFuaW1hdGlvbi50cmlnZ2VyKSB7XG4gICAgICAgIGNhc2UgJ3BhZ2VMb2FkJzpcbiAgICAgICAgICB0aGlzLnRyaWdnZXJBbmltYXRpb24oYW5pbWF0aW9uKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaG92ZXInOlxuICAgICAgICAgIHRoaXMuYmluZEhvdmVyQW5pbWF0aW9uKGFuaW1hdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Njcm9sbEluVmlldyc6XG4gICAgICAgICAgdGhpcy5iaW5kU2Nyb2xsSW5WaWV3QW5pbWF0aW9uKGFuaW1hdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB3YXJuRWxlbWVudE5vdFByZXNlbnQoaWQ6IHN0cmluZykge1xuICAgIGNvbnNvbGUud2FybihgQ2Fubm90IGFuaW1hdGUgZWxlbWVudDogZWxlbWVudCB3aXRoIElEICR7aWR9IG5vdCBmb3VuZCFgKTtcbiAgfVxuXG4gIHByaXZhdGUgYXVnbWVudEFuaW1hdGlvbihhbmltYXRpb246IEFuaW1hdGlvbiwgZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBzdHlsZXNVc2VkID0gdGhpcy5nZXRBbGxTdHlsZXNVc2VkKGFuaW1hdGlvbik7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZTogYW55ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAvLyBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAvLyAvLyBGSVhNRTogdGhpcyB3aWxsIGJyZWFrIGlmIG9yaWdpbmFsIGxvYWQgaXMgaW4gb25lIHJlcG9uc2l2ZSBzaXplIHRoZW4gcmVzaXplIHRvIGFub3RoZXIgaG1tbVxuICAgIC8vIE5lZWQgdG8gdXNlIHRyYW5zZm9ybSBpbnN0ZWFkIG9mIGxlZnQgc2luY2UgbGVmdCBjYW4gY2hhbmdlIG9uIHNjcmVlbiBzaXplc1xuICAgIGNvbnN0IGZpcnN0U3R5bGVzID0gYW5pbWF0aW9uLnN0ZXBzWzBdLnN0eWxlcztcbiAgICBjb25zdCBsYXN0U3R5bGVzID0gYW5pbWF0aW9uLnN0ZXBzW2FuaW1hdGlvbi5zdGVwcy5sZW5ndGggLSAxXSEuc3R5bGVzO1xuICAgIGNvbnN0IGJvdGhTdHlsZXMgPSBbZmlyc3RTdHlsZXMsIGxhc3RTdHlsZXNdO1xuXG4gICAgLy8gRklYTUU6IHRoaXMgd29uJ3Qgd29yayBhcyBleHBlY3RlZCBmb3IgYXVnbWVudGVkIGFuaW1hdGlvbnMgLSBtYXkgbmVlZCB0aGUgZWRpdG9yIGl0c2VsZiB0byBtYW5hZ2UgdGhpc1xuICAgIGZvciAoY29uc3Qgc3R5bGVzIG9mIGJvdGhTdHlsZXMpIHtcbiAgICAgIGZvciAoY29uc3Qgc3R5bGUgb2Ygc3R5bGVzVXNlZCkge1xuICAgICAgICBpZiAoIShzdHlsZSBpbiBzdHlsZXMpKSB7XG4gICAgICAgICAgc3R5bGVzW3N0eWxlXSA9IGNvbXB1dGVkU3R5bGVbc3R5bGVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRBbGxTdHlsZXNVc2VkKGFuaW1hdGlvbjogQW5pbWF0aW9uKSB7XG4gICAgY29uc3QgcHJvcGVydGllczogKGtleW9mIENTU1N0eWxlRGVjbGFyYXRpb24pW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHN0ZXAgb2YgYW5pbWF0aW9uLnN0ZXBzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBzdGVwLnN0eWxlcykge1xuICAgICAgICBpZiAocHJvcGVydGllcy5pbmRleE9mKGtleSBhcyBhbnkpID09PSAtMSkge1xuICAgICAgICAgIHByb3BlcnRpZXMucHVzaChrZXkgYXMgYW55KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcGVydGllcztcbiAgfVxuXG4gIHRyaWdnZXJBbmltYXRpb24oYW5pbWF0aW9uOiBBbmltYXRpb24pIHtcbiAgICAvLyBUT0RPOiBkbyBmb3IgQUxMIGVsZW1lbnRzXG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYW5pbWF0aW9uLmVsZW1lbnRJZCB8fCBhbmltYXRpb24uaWQgfHwgJycpXG4gICAgKSBhcyBIVE1MRWxlbWVudFtdO1xuICAgIGlmICghZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLndhcm5FbGVtZW50Tm90UHJlc2VudChhbmltYXRpb24uZWxlbWVudElkIHx8IGFuaW1hdGlvbi5pZCB8fCAnJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQXJyYXkuZnJvbShlbGVtZW50cykuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMuYXVnbWVudEFuaW1hdGlvbihhbmltYXRpb24sIGVsZW1lbnQpO1xuICAgICAgLy8gVE9ETzogZG8gdGhpcyBwcm9wZXJseSwgbWF5IGhhdmUgb3RoZXIgYW5pbWF0aW9ucyBvZiBkaWZmZXJlbnQgcHJvcGVydGllc1xuXG4gICAgICAvLyBUT0RPOiBvbmx5IG92ZXJyaWRlIHRoZSBwcm9wZXJ0aWVzXG4gICAgICAvLyBUT0RPOiBpZiB0aGVyZSBpcyBhbiBlbnRyYW5jZSBhbmQgaG92ZXIgYW5pbWF0aW9uLCB0aGUgdHJhbnNpdGlvbiBkdXJhdGlvbiB3aWxsIGdldCBlZmZlZFxuICAgICAgLy8gZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJycpO1xuXG4gICAgICAvLyBjb25zdCBzdHlsZWRVc2VkID0gdGhpcy5nZXRBbGxTdHlsZXNVc2VkKGFuaW1hdGlvbik7XG4gICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7XG4gICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9ICcwJztcbiAgICAgIGFzc2lnbihlbGVtZW50LnN0eWxlLCBhbmltYXRpb24uc3RlcHNbMF0uc3R5bGVzKTtcbiAgICAgIC8vIFRPRE86IHF1ZXVlL2JhdGNoIHRoZXNlIHRpbWVvdXRzXG4gICAgICAvLyBUT0RPOiBvbmx5IGluY2x1ZGUgcHJvcGVydGllcyBleHBsaWNpdGx5IHNldCBpbiB0aGUgYW5pbWF0aW9uXG4gICAgICAvLyB1c2luZyBPYmplY3Qua2V5cyhzdHlsZXMpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCAke2FuaW1hdGlvbi5kdXJhdGlvbn1zICR7Y2FtZWxDYXNlVG9LZWJhYkNhc2UoXG4gICAgICAgICAgYW5pbWF0aW9uLmVhc2luZ1xuICAgICAgICApfWA7XG4gICAgICAgIGlmIChhbmltYXRpb24uZGVsYXkpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9IGFuaW1hdGlvbi5kZWxheSArICdzJztcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ24oZWxlbWVudC5zdHlsZSwgYW5pbWF0aW9uLnN0ZXBzWzFdLnN0eWxlcyk7XG4gICAgICAgIC8vIFRPRE86IG1heWJlIHJlbW92ZS9yZXNldCB0cmFuc2l0b2luIHByb3BlcnR5IGFmdGVyIGFuaW1hdGlvbiBkdXJhdGlvblxuXG4gICAgICAgIC8vIFRPRE86IHF1ZXVlIHRpbWVyc1xuICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE86IHdoYXQgaWYgaGFzIG90aGVyIHRyYW5zaXRpb24gKHJlc2V0IGJhY2sgdG8gd2hhdCBpdCB3YXMpXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnJztcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gJyc7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoYW5pbWF0aW9uLmRlbGF5IHx8IDApICogMTAwMCArIGFuaW1hdGlvbi5kdXJhdGlvbiAqIDEwMDAgKyAxMDBcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYmluZEhvdmVyQW5pbWF0aW9uKGFuaW1hdGlvbjogQW5pbWF0aW9uKSB7XG4gICAgLy8gVE9ETzogaXMgaXQgbXVsdGlwbGUgYmluZGluZyB3aGVuIGVkaXRpbmcuLi4/XG4gICAgLy8gVE9ETzogdW5iaW5kIG9uIGVsZW1lbnQgcmVtb3ZlXG4gICAgLy8gVE9ETzogYXBwbHkgdG8gQUxMIGVsZW1lbnRzXG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYW5pbWF0aW9uLmVsZW1lbnRJZCB8fCBhbmltYXRpb24uaWQgfHwgJycpXG4gICAgKSBhcyBIVE1MRWxlbWVudFtdO1xuICAgIGlmICghZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLndhcm5FbGVtZW50Tm90UHJlc2VudChhbmltYXRpb24uZWxlbWVudElkIHx8IGFuaW1hdGlvbi5pZCB8fCAnJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQXJyYXkuZnJvbShlbGVtZW50cykuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMuYXVnbWVudEFuaW1hdGlvbihhbmltYXRpb24sIGVsZW1lbnQpO1xuXG4gICAgICBjb25zdCBkZWZhdWx0U3RhdGUgPSBhbmltYXRpb24uc3RlcHNbMF0uc3R5bGVzO1xuICAgICAgY29uc3QgaG92ZXJTdGF0ZSA9IGFuaW1hdGlvbi5zdGVwc1sxXS5zdHlsZXM7XG4gICAgICBmdW5jdGlvbiBhdHRhY2hEZWZhdWx0U3RhdGUoKSB7XG4gICAgICAgIGFzc2lnbihlbGVtZW50IS5zdHlsZSwgZGVmYXVsdFN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGF0dGFjaEhvdmVyU3RhdGUoKSB7XG4gICAgICAgIGFzc2lnbihlbGVtZW50IS5zdHlsZSwgaG92ZXJTdGF0ZSk7XG4gICAgICB9XG4gICAgICBhdHRhY2hEZWZhdWx0U3RhdGUoKTtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGF0dGFjaEhvdmVyU3RhdGUpO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgYXR0YWNoRGVmYXVsdFN0YXRlKTtcbiAgICAgIC8vIFRPRE86IHF1ZXVlL2JhdGNoIHRoZXNlIHRpbWVvdXRzXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCAke2FuaW1hdGlvbi5kdXJhdGlvbn1zICR7Y2FtZWxDYXNlVG9LZWJhYkNhc2UoXG4gICAgICAgICAgYW5pbWF0aW9uLmVhc2luZ1xuICAgICAgICApfWA7XG4gICAgICAgIGlmIChhbmltYXRpb24uZGVsYXkpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9IGFuaW1hdGlvbi5kZWxheSArICdzJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBUT0RPOiB1bmJpbmQgb24gZWxlbWVudCByZW1vdmVcbiAgYmluZFNjcm9sbEluVmlld0FuaW1hdGlvbihhbmltYXRpb246IEFuaW1hdGlvbikge1xuICAgIC8vIFRPRE86IGFwcGx5IHRvIEFMTCBtYXRjaGluZyBlbGVtZW50c1xuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGFuaW1hdGlvbi5lbGVtZW50SWQgfHwgYW5pbWF0aW9uLmlkIHx8ICcnKVxuICAgICkgYXMgSFRNTEVsZW1lbnRbXTtcbiAgICBpZiAoIWVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgdGhpcy53YXJuRWxlbWVudE5vdFByZXNlbnQoYW5pbWF0aW9uLmVsZW1lbnRJZCB8fCBhbmltYXRpb24uaWQgfHwgJycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRPRE86IGlmIHNlcnZlciBzaWRlIHJlbmRlcmVkIGFuZCBzY3JvbGxlZCBpbnRvIHZpZXcgZG9uJ3QgYW5pbWF0ZS4uLlxuICAgIEFycmF5LmZyb20oZWxlbWVudHMpLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLmF1Z21lbnRBbmltYXRpb24oYW5pbWF0aW9uLCBlbGVtZW50KTtcblxuICAgICAgbGV0IHRyaWdnZXJlZCA9IGZhbHNlO1xuICAgICAgbGV0IHBlbmRpbmdBbmltYXRpb24gPSBmYWxzZTtcbiAgICAgIGZ1bmN0aW9uIGltbWVkaWF0ZU9uU2Nyb2xsKCkge1xuICAgICAgICBpZiAoIXRyaWdnZXJlZCAmJiBpc1Njcm9sbGVkSW50b1ZpZXcoZWxlbWVudCkpIHtcbiAgICAgICAgICB0cmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICAgIHBlbmRpbmdBbmltYXRpb24gPSB0cnVlO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgYXNzaWduKGVsZW1lbnQhLnN0eWxlLCBhbmltYXRpb24uc3RlcHNbMV0uc3R5bGVzKTtcbiAgICAgICAgICAgIGlmICghYW5pbWF0aW9uLnJlcGVhdCkge1xuICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0FuaW1hdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uLnJlcGVhdCkge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gJyc7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgKGFuaW1hdGlvbi5kdXJhdGlvbiArIChhbmltYXRpb24uZGVsYXkgfHwgMCkpICogMTAwMCArIDEwMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBhbmltYXRpb24ucmVwZWF0ICYmXG4gICAgICAgICAgdHJpZ2dlcmVkICYmXG4gICAgICAgICAgIXBlbmRpbmdBbmltYXRpb24gJiZcbiAgICAgICAgICAhaXNTY3JvbGxlZEludG9WaWV3KGVsZW1lbnQpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIHdlIHdhbnQgdG8gcmVwZWF0IHRoZSBhbmltYXRpb24gZXZlcnkgdGltZSB0aGUgdGhlIGVsZW1lbnQgaXMgb3V0IG9mIHZpZXcgYW5kIGJhY2sgYWdhaW5cbiAgICAgICAgICB0cmlnZ2VyZWQgPSBmYWxzZTtcbiAgICAgICAgICBhc3NpZ24oZWxlbWVudCEuc3R5bGUsIGFuaW1hdGlvbi5zdGVwc1swXS5zdHlsZXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IHJvbGwgYWxsIG9mIHRoZXNlIGluIG9uZSBmb3IgbW9yZSBlZmZpY2llbmN5IG9mIGNoZWNraW5nIGFsbCB0aGUgcmVjdHNcbiAgICAgIGNvbnN0IG9uU2Nyb2xsID0gdGhyb3R0bGUoaW1tZWRpYXRlT25TY3JvbGwsIDIwMCwgeyBsZWFkaW5nOiBmYWxzZSB9KTtcblxuICAgICAgLy8gVE9ETzogZnVsbHkgaW4gdmlldyBvciBwYXJ0aWFsbHlcbiAgICAgIGZ1bmN0aW9uIGlzU2Nyb2xsZWRJbnRvVmlldyhlbGVtOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgdGhyZXNob2xkUGVyY2VudCA9IChhbmltYXRpb24udGhyZXNob2xkUGVyY2VudCB8fCAwKSAvIDEwMDtcbiAgICAgICAgY29uc3QgdGhyZXNob2xkID0gdGhyZXNob2xkUGVyY2VudCAqIHdpbmRvd0hlaWdodDtcblxuICAgICAgICAvLyBUT0RPOiBwYXJ0aWFsIGluIHZpZXc/IG9yIHdoYXQgaWYgZWxlbWVudCBpcyBsYXJnZXIgdGhhbiBzY3JlZW4gaXRzZWxmXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgcmVjdC5ib3R0b20gPiB0aHJlc2hvbGQgJiYgcmVjdC50b3AgPCB3aW5kb3dIZWlnaHQgLSB0aHJlc2hvbGQgLy8gRWxlbWVudCBpcyBwZWVraW5nIHRvcCBvciBib3R0b21cbiAgICAgICAgICAvLyAocmVjdC50b3AgPiAwICYmIHJlY3QuYm90dG9tIDwgd2luZG93LmlubmVySGVpZ2h0KSB8fCAvLyBlbGVtZW50IGZpdHMgd2l0aGluIHRoZSBzY3JlZW4gYW5kIGlzIGZ1bGx5IG9uIHNjcmVlbiAobm90IGhhbmdpbmcgb2ZmIGF0IGFsbClcbiAgICAgICAgICAvLyAocmVjdC50b3AgPCAwICYmIHJlY3QuYm90dG9tID4gd2luZG93LmlubmVySGVpZ2h0KSAvLyBlbGVtZW50IGlzIGxhcmdlciB0aGFuIHRoZSBzY3JlZW4gYW5kIGhhbmdzIG92ZXIgdGhlIHRvcCBhbmQgYm90dG9tXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRlZmF1bHRTdGF0ZSA9IGFuaW1hdGlvbi5zdGVwc1swXS5zdHlsZXM7XG4gICAgICBmdW5jdGlvbiBhdHRhY2hEZWZhdWx0U3RhdGUoKSB7XG4gICAgICAgIGFzc2lnbihlbGVtZW50IS5zdHlsZSwgZGVmYXVsdFN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGF0dGFjaERlZmF1bHRTdGF0ZSgpO1xuXG4gICAgICAvLyBUT0RPOiBxdWV1ZS9iYXRjaCB0aGVzZSB0aW1lb3V0cyFcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSBgYWxsICR7YW5pbWF0aW9uLmR1cmF0aW9ufXMgJHtjYW1lbENhc2VUb0tlYmFiQ2FzZShcbiAgICAgICAgICBhbmltYXRpb24uZWFzaW5nXG4gICAgICAgICl9YDtcbiAgICAgICAgaWYgKGFuaW1hdGlvbi5kZWxheSkge1xuICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gYW5pbWF0aW9uLmRlbGF5ICsgJ3MnO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gVE9ETzogb25lIGxpc3RlbmVyIGZvciBldmVyeXRoaW5nXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCwgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH0gYXMgYW55KTtcblxuICAgICAgLy8gRG8gYW4gaW5pdGlhbCBjaGVja1xuICAgICAgaW1tZWRpYXRlT25TY3JvbGwoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggZmllbGQtY29udGVudCBpbiBSRkMgNzIzMCBzZWMgMy4yXG4gKlxuICogZmllbGQtY29udGVudCA9IGZpZWxkLXZjaGFyIFsgMSooIFNQIC8gSFRBQiApIGZpZWxkLXZjaGFyIF1cbiAqIGZpZWxkLXZjaGFyICAgPSBWQ0hBUiAvIG9icy10ZXh0XG4gKiBvYnMtdGV4dCAgICAgID0gJXg4MC1GRlxuICovXG5jb25zdCBmaWVsZENvbnRlbnRSZWdFeHAgPSAvXltcXHUwMDA5XFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHUwMGZmXSskLztcblxuaW1wb3J0IHsgSW5jb21pbmdNZXNzYWdlLCBTZXJ2ZXJSZXNwb25zZSB9IGZyb20gJ2h0dHAnO1xuaW50ZXJmYWNlIE9wdGlvbnMge1xuICBzZWN1cmU/OiBib29sZWFuO1xuICBleHBpcmVzPzogRGF0ZTtcbn1cblxuY2xhc3MgQ29va2llcyB7XG4gIHNlY3VyZT86IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZXF1ZXN0OiBJbmNvbWluZ01lc3NhZ2UsXG4gICAgcHJpdmF0ZSByZXNwb25zZTogU2VydmVyUmVzcG9uc2VcbiAgKSB7fVxuXG4gIGdldChuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBoZWFkZXIgPSB0aGlzLnJlcXVlc3QuaGVhZGVyc1snY29va2llJ10gYXMgc3RyaW5nO1xuICAgIGlmICghaGVhZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWF0Y2ggPSBoZWFkZXIubWF0Y2goZ2V0UGF0dGVybihuYW1lKSk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbHVlID0gbWF0Y2hbMV07XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgc2V0KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgb3B0czogT3B0aW9ucykge1xuICAgIGNvbnN0IHJlcyA9IHRoaXMucmVzcG9uc2U7XG4gICAgY29uc3QgcmVxID0gdGhpcy5yZXF1ZXN0O1xuICAgIGxldCBoZWFkZXJzID0gcmVzLmdldEhlYWRlcignU2V0LUNvb2tpZScpIHx8IFtdO1xuICAgIC8vIFRPRE86IGp1c3QgbWFrZSB0aGlzIGFsd2F5cyB0cnVlXG4gICAgY29uc3Qgc2VjdXJlID1cbiAgICAgIHRoaXMuc2VjdXJlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyAhIXRoaXMuc2VjdXJlXG4gICAgICAgIDogKHJlcSBhcyBhbnkpLnByb3RvY29sID09PSAnaHR0cHMnIHx8IChyZXEuY29ubmVjdGlvbiBhcyBhbnkpLmVuY3J5cHRlZDtcbiAgICBjb25zdCBjb29raWUgPSBuZXcgQ29va2llKG5hbWUsIHZhbHVlLCBvcHRzKTtcblxuICAgIGlmICh0eXBlb2YgaGVhZGVycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGhlYWRlcnMgPSBbaGVhZGVyc107XG4gICAgfVxuXG4gICAgaWYgKCFzZWN1cmUgJiYgb3B0cyAmJiBvcHRzLnNlY3VyZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2VuZCBzZWN1cmUgY29va2llIG92ZXIgdW5lbmNyeXB0ZWQgY29ubmVjdGlvbicpO1xuICAgIH1cblxuICAgIGNvb2tpZS5zZWN1cmUgPSBzZWN1cmU7XG4gICAgaWYgKG9wdHMgJiYgJ3NlY3VyZScgaW4gb3B0cykge1xuICAgICAgY29va2llLnNlY3VyZSA9ICEhb3B0cy5zZWN1cmU7XG4gICAgfVxuXG4gICAgcHVzaENvb2tpZShoZWFkZXJzLCBjb29raWUpO1xuXG4gICAgY29uc3Qgc2V0SGVhZGVyID0gcmVzLnNldEhlYWRlcjtcbiAgICBzZXRIZWFkZXIuY2FsbChyZXMsICdTZXQtQ29va2llJywgaGVhZGVycyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuY2xhc3MgQ29va2llIHtcbiAgcGF0aCA9ICcvJztcbiAgZXhwaXJlcz86IERhdGU7XG4gIGRvbWFpbjogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBodHRwT25seSA9IHRydWU7XG4gIHNhbWVTaXRlPzogYm9vbGVhbiB8IHN0cmluZyA9IGZhbHNlO1xuICBzZWN1cmUgPSBmYWxzZTtcbiAgb3ZlcndyaXRlID0gZmFsc2U7XG4gIG5hbWUgPSAnJztcbiAgdmFsdWUgPSAnJztcbiAgbWF4QWdlPzogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgYXR0cnM6IE9wdGlvbnMpIHtcbiAgICBpZiAoIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBuYW1lIGlzIGludmFsaWQnKTtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgJiYgIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgdmFsdWUgaXMgaW52YWxpZCcpO1xuICAgIH1cblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHRoaXMuZXhwaXJlcyA9IG5ldyBEYXRlKDApO1xuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlIHx8ICcnO1xuXG4gICAgaWYgKGF0dHJzLmV4cGlyZXMpIHtcbiAgICAgIHRoaXMuZXhwaXJlcyA9IGF0dHJzLmV4cGlyZXM7XG4gICAgfVxuICAgIGlmIChhdHRycy5zZWN1cmUpIHtcbiAgICAgIHRoaXMuc2VjdXJlID0gYXR0cnMuc2VjdXJlO1xuICAgIH1cbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgJHt0aGlzLm5hbWV9PSR7dGhpcy52YWx1ZX1gO1xuICB9XG5cbiAgdG9IZWFkZXIoKSB7XG4gICAgbGV0IGhlYWRlciA9IHRoaXMudG9TdHJpbmcoKTtcblxuICAgIGlmICh0aGlzLm1heEFnZSkge1xuICAgICAgdGhpcy5leHBpcmVzID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIHRoaXMubWF4QWdlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucGF0aCkge1xuICAgICAgaGVhZGVyICs9IGA7IHBhdGg9JHt0aGlzLnBhdGh9YDtcbiAgICB9XG4gICAgaWYgKHRoaXMuZXhwaXJlcykge1xuICAgICAgaGVhZGVyICs9IGA7IGV4cGlyZXM9JHt0aGlzLmV4cGlyZXMudG9VVENTdHJpbmcoKX1gO1xuICAgIH1cbiAgICBpZiAodGhpcy5kb21haW4pIHtcbiAgICAgIGhlYWRlciArPSBgOyBkb21haW49JHt0aGlzLmRvbWFpbn1gO1xuICAgIH1cblxuICAgIC8vIFRPRE86IHNhbWVzaXRlPW5vbmUgYnkgZGVmYXVsdCAoPylcbiAgICBoZWFkZXIgKz0gYDsgU2FtZVNpdGU9JHt0aGlzLnNhbWVTaXRlID09PSB0cnVlID8gJ3N0cmljdCcgOiAnTm9uZSd9YDtcblxuICAgIC8vIFRPRE86IE9uIGJ5IGRlZmF1bHRcbiAgICBpZiAodGhpcy5zZWN1cmUpIHtcbiAgICAgIGhlYWRlciArPSAnOyBzZWN1cmUnO1xuICAgIH1cbiAgICBpZiAodGhpcy5odHRwT25seSkge1xuICAgICAgaGVhZGVyICs9ICc7IGh0dHBvbmx5JztcbiAgICB9XG5cbiAgICByZXR1cm4gaGVhZGVyO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdHRlcm4obmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKGAoPzpefDspICoke25hbWUucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKX09KFteO10qKWApO1xufVxuXG5mdW5jdGlvbiBwdXNoQ29va2llKGhlYWRlcnM6IGFueSwgY29va2llOiBDb29raWUpIHtcbiAgaWYgKGNvb2tpZS5vdmVyd3JpdGUpIHtcbiAgICBmb3IgKGxldCBpID0gaGVhZGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKGhlYWRlcnNbaV0uaW5kZXhPZihgJHtjb29raWUubmFtZX09YCkgPT09IDApIHtcbiAgICAgICAgaGVhZGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGVhZGVycy5wdXNoKGNvb2tpZS50b0hlYWRlcigpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29va2llcztcbiIsImV4cG9ydCBmdW5jdGlvbiBvbWl0PFQgZXh0ZW5kcyBvYmplY3Q+KG9iajogVCwgLi4udmFsdWVzOiAoa2V5b2YgVClbXSk6IFBhcnRpYWw8VD4ge1xuICBjb25zdCBuZXdPYmplY3QgPSBPYmplY3QuYXNzaWduKHt9LCBvYmopO1xuICBmb3IgKGNvbnN0IGtleSBvZiB2YWx1ZXMpIHtcbiAgICBkZWxldGUgKG5ld09iamVjdCBhcyBhbnkpW2tleV07XG4gIH1cbiAgcmV0dXJuIG5ld09iamVjdDtcbn1cbiIsIi8qKlxuICogQGNyZWRpdCBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyM1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXVpZHY0KCkge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHZhciByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLFxuICAgICAgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFNsaWdodGx5IGNsZWFuZXIgYW5kIHNtYWxsZXIgVVVJRHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWQoKSB7XG4gIHJldHVybiB1dWlkdjQoKS5yZXBsYWNlKC8tL2csICcnKTtcbn1cbiIsImltcG9ydCB7IFVybFdpdGhTdHJpbmdRdWVyeSB9IGZyb20gJ3VybCc7XG5cbnR5cGUgRml4PFQ+ID0geyBbUCBpbiBrZXlvZiBUXTogVFtQXSB8IG51bGwgfTtcblxuLy8gSXQgc2VlbXMgdGhhdCB0aGUgdHlwZXMgZm9yIFVybFdpdGhTdHJpbmdRdWVyeSBhcmUgbm90IGNvcnJlY3QuXG5leHBvcnQgdHlwZSBVcmxMaWtlID0gRml4PFVybFdpdGhTdHJpbmdRdWVyeT47XG5cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eVVybCgpOiBVcmxMaWtlIHtcbiAgcmV0dXJuIHtcbiAgICBxdWVyeTogbnVsbCxcbiAgICBwb3J0OiBudWxsLFxuICAgIGF1dGg6IG51bGwsXG4gICAgaGFzaDogbnVsbCxcbiAgICBob3N0OiBudWxsLFxuICAgIGhvc3RuYW1lOiBudWxsLFxuICAgIGhyZWY6IG51bGwsXG4gICAgcGF0aDogbnVsbCxcbiAgICBwYXRobmFtZTogbnVsbCxcbiAgICBwcm90b2NvbDogbnVsbCxcbiAgICBzZWFyY2g6IG51bGwsXG4gICAgc2xhc2hlczogbnVsbCxcbiAgfTtcbn1cblxuLy8gUmVwbGFjZW1lbnQgZm9yIGB1cmwucGFyc2VgIHVzaW5nIGBVUkxgIGdsb2JhbCBvYmplY3QgdGhhdCB3b3JrcyB3aXRoIHJlbGF0aXZlIHBhdGhzLlxuLy8gQXNzdW1wdGlvbnM6IHRoaXMgZnVuY3Rpb24gb3BlcmF0ZXMgaW4gYSBOb2RlSlMgZW52aXJvbm1lbnQuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UodXJsOiBzdHJpbmcpOiBVcmxMaWtlIHtcbiAgY29uc3Qgb3V0OiBVcmxMaWtlID0gZW1wdHlVcmwoKTtcblxuICBsZXQgdTtcbiAgY29uc3QgcGF0aE9ubHkgPSB1cmwgPT09ICcnIHx8IHVybFswXSA9PT0gJy8nO1xuXG4gIGlmIChwYXRoT25seSkge1xuICAgIHUgPSBuZXcgVVJMKHVybCwgJ2h0dHA6Ly8wLjAuMC4wLycpO1xuICAgIG91dC5ocmVmID0gdS5ocmVmO1xuICAgIG91dC5ocmVmID0gb3V0LmhyZWY/LnNsaWNlKDE0KTsgLy8gcmVtb3ZlICdodHRwOi8vMC4wLjAuMC8nXG4gIH0gZWxzZSB7XG4gICAgdSA9IG5ldyBVUkwodXJsKTtcbiAgICBvdXQuaHJlZiA9IHUuaHJlZjtcbiAgICBvdXQucG9ydCA9IHUucG9ydCA9PT0gJycgPyBudWxsIDogdS5wb3J0O1xuICAgIG91dC5oYXNoID0gdS5oYXNoID09PSAnJyA/IG51bGwgOiB1Lmhhc2g7XG4gICAgb3V0Lmhvc3QgPSB1Lmhvc3Q7XG4gICAgb3V0Lmhvc3RuYW1lID0gdS5ob3N0bmFtZTtcbiAgICBvdXQuaHJlZiA9IHUuaHJlZjtcbiAgICBvdXQucGF0aG5hbWUgPSB1LnBhdGhuYW1lO1xuICAgIG91dC5wcm90b2NvbCA9IHUucHJvdG9jb2w7XG4gICAgb3V0LnNsYXNoZXMgPSB1cmxbdS5wcm90b2NvbC5sZW5ndGhdID09PSAnLyc7IC8vIGNoZWNrIGlmIHRoZSBtaW1ldHlwZSBpcyBwcm9jZWVkZWQgYnkgYSBzbGFzaFxuICB9XG5cbiAgb3V0LnNlYXJjaCA9IHUuc2VhcmNoO1xuICBvdXQucXVlcnkgPSB1LnNlYXJjaC5zbGljZSgxKTsgLy8gcmVtb3ZlICc/J1xuICBvdXQucGF0aCA9IGAke3UucGF0aG5hbWV9JHt1LnNlYXJjaH1gO1xuICBvdXQucGF0aG5hbWUgPSB1LnBhdGhuYW1lO1xuXG4gIHJldHVybiBvdXQ7XG59XG4iLCIvKipcbiAqIFNhZmUgY29udmVyc2lvbiB0byBlcnJvciB0eXBlLiBJbnRlbmRlZCB0byBiZSB1c2VkIGluIGNhdGNoIGJsb2NrcyB3aGVyZSB0aGVcbiAqICB2YWx1ZSBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSBhbiBlcnJvci5cbiAqXG4gKiAgQGV4YW1wbGVcbiAqICB0cnkge1xuICogICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpXG4gKiAgfVxuICogIGNhdGNoIChlcnI6IHVua25vd24pIHtcbiAqICAgIGNvbnN0IGVycm9yOiBFcnJvciA9IHRvRXJyb3IoZXJyKVxuICogIH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRXJyb3IoZXJyOiB1bmtub3duKTogRXJyb3Ige1xuICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBlcnI7XG4gIHJldHVybiBuZXcgRXJyb3IoU3RyaW5nKGVycikpO1xufVxuIiwiZXhwb3J0IHR5cGUgQXBpVmVyc2lvbiA9ICd2MScgfCAndjMnO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVBJX1ZFUlNJT046IEFwaVZlcnNpb24gPSAndjMnO1xuIiwiZXhwb3J0IGNvbnN0IFNES19WRVJTSU9OID0gJzYuMS4yJztcbiIsImltcG9ydCAnLi9wb2x5ZmlsbHMvY3VzdG9tLWV2ZW50LXBvbHlmaWxsJztcbmltcG9ydCB7IEluY29taW5nTWVzc2FnZSwgU2VydmVyUmVzcG9uc2UgfSBmcm9tICdodHRwJztcbmltcG9ydCB7IG5leHRUaWNrIH0gZnJvbSAnLi9mdW5jdGlvbnMvbmV4dC10aWNrLmZ1bmN0aW9uJztcbmltcG9ydCB7IFF1ZXJ5U3RyaW5nIH0gZnJvbSAnLi9jbGFzc2VzL3F1ZXJ5LXN0cmluZy5jbGFzcyc7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tICcuL2NsYXNzZXMvb2JzZXJ2YWJsZS5jbGFzcyc7XG5pbXBvcnQgeyBnZXRGZXRjaCwgU2ltcGxpZmllZEZldGNoT3B0aW9ucyB9IGZyb20gJy4vZnVuY3Rpb25zL2ZldGNoLmZ1bmN0aW9uJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vZnVuY3Rpb25zL2Fzc2lnbi5mdW5jdGlvbic7XG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4vZnVuY3Rpb25zL3Rocm90dGxlLmZ1bmN0aW9uJztcbmltcG9ydCB7IEFuaW1hdG9yIH0gZnJvbSAnLi9jbGFzc2VzL2FuaW1hdG9yLmNsYXNzJztcbmltcG9ydCB7IEJ1aWxkZXJFbGVtZW50IH0gZnJvbSAnLi90eXBlcy9lbGVtZW50JztcbmltcG9ydCBDb29raWVzIGZyb20gJy4vY2xhc3Nlcy9jb29raWVzLmNsYXNzJztcbmltcG9ydCB7IG9taXQgfSBmcm9tICcuL2Z1bmN0aW9ucy9vbWl0LmZ1bmN0aW9uJztcbmltcG9ydCB7IEJ1aWxkZXJDb250ZW50IH0gZnJvbSAnLi90eXBlcy9jb250ZW50JztcbmltcG9ydCB7IHV1aWQgfSBmcm9tICcuL2Z1bmN0aW9ucy91dWlkJztcbmltcG9ydCB7IHBhcnNlIGFzIHVybFBhcnNlIH0gZnJvbSAnLi91cmwnO1xuXG4vLyBEbyBub3QgY2hhbmdlIHRoaXMgdG8gYSByZXF1aXJlISBJdCB0aHJvd3MgcnVudGltZSBlcnJvcnMgLSByb2xsdXBcbi8vIHdpbGwgcHJlc2VydmUgdGhlIGByZXF1aXJlYCBhbmQgdGhyb3cgcnVudGltZSBlcnJvcnNcbmltcG9ydCBoYXNoIGZyb20gJ2hhc2gtc3VtJztcbmltcG9ydCB7IHRvRXJyb3IgfSBmcm9tICcuL2Z1bmN0aW9ucy90by1lcnJvcic7XG5pbXBvcnQgeyBlbXB0eVVybCwgVXJsTGlrZSB9IGZyb20gJy4vdXJsJztcbmltcG9ydCB7IERFRkFVTFRfQVBJX1ZFUlNJT04sIEFwaVZlcnNpb24gfSBmcm9tICcuL3R5cGVzL2FwaS12ZXJzaW9uJztcbmltcG9ydCB7IFNES19WRVJTSU9OIH0gZnJvbSAnLi9zZGstdmVyc2lvbic7XG5cbmV4cG9ydCB0eXBlIFVybCA9IGFueTtcblxuZnVuY3Rpb24gZGF0ZVBsdXNNaW51dGVzKG1pbnV0ZXMgPSAzMCkge1xuICByZXR1cm4gbmV3IERhdGUoRGF0ZS5ub3coKSArIG1pbnV0ZXMgKiA2MDAwMCk7XG59XG5cbmNvbnN0IGlzUG9zaXRpdmVOdW1iZXIgPSAodGhpbmc6IHVua25vd24pID0+XG4gIHR5cGVvZiB0aGluZyA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHRoaW5nKSAmJiB0aGluZyA+PSAwO1xuXG5leHBvcnQgY29uc3QgaXNSZWFjdE5hdGl2ZSA9IHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnO1xuXG5leHBvcnQgY29uc3QgdmFsaWRFbnZMaXN0ID0gW1xuICAncHJvZHVjdGlvbicsXG4gICdxYScsXG4gICd0ZXN0JyxcbiAgJ2RldmVsb3BtZW50JyxcbiAgJ2RldicsXG4gICdjZG4tcWEnLFxuICAnY2xvdWQnLFxuICAnZmFzdCcsXG4gICdjZG4yJyxcbiAgJ2Nkbi1wcm9kJyxcbl07XG5cbmZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW0odXJsOiBzdHJpbmcsIHZhcmlhYmxlOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgY29uc3QgcXVlcnkgPSB1cmwuc3BsaXQoJz8nKVsxXSB8fCAnJztcbiAgY29uc3QgdmFycyA9IHF1ZXJ5LnNwbGl0KCcmJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHBhaXIgPSB2YXJzW2ldLnNwbGl0KCc9Jyk7XG4gICAgaWYgKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKSA9PT0gdmFyaWFibGUpIHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5jb25zdCB1cmxQYXJzZXIgPSB7XG4gIHBhcnNlKHVybDogc3RyaW5nKTogVXJsTGlrZSB7XG4gICAgY29uc3QgZWw6IEhUTUxBbmNob3JFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpIGFzIGFueTtcbiAgICBlbC5ocmVmID0gdXJsO1xuICAgIGNvbnN0IG91dDogYW55ID0ge307XG5cbiAgICBjb25zdCBwcm9wcyA9IFtcbiAgICAgICd1c2VybmFtZScsXG4gICAgICAncGFzc3dvcmQnLFxuICAgICAgJ2hvc3QnLFxuICAgICAgJ2hvc3RuYW1lJyxcbiAgICAgICdwb3J0JyxcbiAgICAgICdwcm90b2NvbCcsXG4gICAgICAnb3JpZ2luJyxcbiAgICAgICdwYXRobmFtZScsXG4gICAgICAnc2VhcmNoJyxcbiAgICAgICdoYXNoJyxcbiAgICBdIGFzIGNvbnN0O1xuXG4gICAgZm9yIChjb25zdCBwcm9wIG9mIHByb3BzKSB7XG4gICAgICBvdXRbcHJvcF0gPSBlbFtwcm9wXTtcbiAgICB9XG5cbiAgICAvLyBJRSAxMSBwYXRobmFtZSBoYW5kbGluZyB3b3JrYXJvdW5kXG4gICAgLy8gKElFIG9taXRzIHByZWNlZWRpbmcgJy8nLCB1bmxpa2Ugb3RoZXIgYnJvd3NlcnMpXG4gICAgaWYgKFxuICAgICAgKG91dC5wYXRobmFtZSB8fCBvdXQucGF0aG5hbWUgPT09ICcnKSAmJlxuICAgICAgdHlwZW9mIG91dC5wYXRobmFtZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgIG91dC5wYXRobmFtZS5pbmRleE9mKCcvJykgIT09IDBcbiAgICApIHtcbiAgICAgIG91dC5wYXRobmFtZSA9ICcvJyArIG91dC5wYXRobmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xuICB9LFxufTtcblxuY29uc3QgcGFyc2U6ICh1cmw6IHN0cmluZykgPT4gVXJsTGlrZSA9IGlzUmVhY3ROYXRpdmVcbiAgPyAoKSA9PiBlbXB0eVVybCgpXG4gIDogdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCdcbiAgICA/IHVybFBhcnNlci5wYXJzZVxuICAgIDogdXJsUGFyc2U7XG5cbmZ1bmN0aW9uIHNldENvb2tpZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZXM/OiBEYXRlKSB7XG4gIHRyeSB7XG4gICAgbGV0IGV4cGlyZXNTdHJpbmcgPSAnJztcblxuICAgIC8vIFRPRE86IG5lZWQgdG8ga25vdyBpZiBzZWN1cmUgc2VydmVyIHNpZGVcbiAgICBpZiAoZXhwaXJlcykge1xuICAgICAgZXhwaXJlc1N0cmluZyA9ICc7IGV4cGlyZXM9JyArIGV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZWN1cmUgPSBpc0Jyb3dzZXIgPyBsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgOiB0cnVlO1xuICAgIGRvY3VtZW50LmNvb2tpZSA9XG4gICAgICBuYW1lICtcbiAgICAgICc9JyArXG4gICAgICAodmFsdWUgfHwgJycpICtcbiAgICAgIGV4cGlyZXNTdHJpbmcgK1xuICAgICAgJzsgcGF0aD0vJyArXG4gICAgICAoc2VjdXJlID8gJzsgc2VjdXJlOyBTYW1lU2l0ZT1Ob25lJyA6ICcnKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS53YXJuKCdDb3VsZCBub3Qgc2V0IGNvb2tpZScsIGVycik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29va2llKG5hbWU6IHN0cmluZykge1xuICB0cnkge1xuICAgIHJldHVybiAoXG4gICAgICBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlKFxuICAgICAgICAgIG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAnKD86KD86XnwuKjspXFxcXHMqJyArXG4gICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChuYW1lKS5yZXBsYWNlKC9bXFwtXFwuXFwrXFwqXS9nLCAnXFxcXCQmJykgK1xuICAgICAgICAgICAgICAnXFxcXHMqXFxcXD1cXFxccyooW147XSopLiokKXxeLiokJ1xuICAgICAgICAgICksXG4gICAgICAgICAgJyQxJ1xuICAgICAgICApXG4gICAgICApIHx8IG51bGxcbiAgICApO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBnZXQgY29va2llJywgZXJyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaXplKG9iamVjdDogb2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gZmluZDxUID0gYW55Pih0YXJnZXQ6IFRbXSwgY2FsbGJhY2s6IChpdGVtOiBULCBpbmRleDogbnVtYmVyLCBsaXN0OiBUW10pID0+IGJvb2xlYW4pIHtcbiAgY29uc3QgbGlzdCA9IHRhcmdldDtcbiAgLy8gTWFrZXMgc3VyZXMgaXMgYWx3YXlzIGhhcyBhbiBwb3NpdGl2ZSBpbnRlZ2VyIGFzIGxlbmd0aC5cbiAgY29uc3QgbGVuZ3RoID0gbGlzdC5sZW5ndGggPj4+IDA7XG4gIGNvbnN0IHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBlbGVtZW50ID0gbGlzdFtpXTtcbiAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBlbGVtZW50LCBpLCBsaXN0KSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IHNlc3Npb25TdG9yYWdlS2V5ID0gJ2J1aWxkZXJTZXNzaW9uSWQnO1xuY29uc3QgbG9jYWxTdG9yYWdlS2V5ID0gJ2J1aWxkZXJWaXNpdG9ySWQnO1xuXG5leHBvcnQgY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgIWlzUmVhY3ROYXRpdmU7XG5leHBvcnQgY29uc3QgaXNJZnJhbWUgPSBpc0Jyb3dzZXIgJiYgd2luZG93LnRvcCAhPT0gd2luZG93LnNlbGY7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyYW1zTWFwIHtcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG50eXBlIFRyYWNraW5nSG9vayA9IChcbiAgZXZlbnREYXRhOiBFdmVudCxcbiAgY29udGV4dDogeyBjb250ZW50PzogQnVpbGRlckNvbnRlbnQ7IFtrZXk6IHN0cmluZ106IGFueSB9XG4pID0+IEV2ZW50IHwgdW5kZWZpbmVkO1xuXG5pbnRlcmZhY2UgRXZlbnREYXRhIHtcbiAgY29udGVudElkPzogc3RyaW5nO1xuICBvd25lcklkOiBzdHJpbmc7XG4gIHZhcmlhdGlvbklkPzogc3RyaW5nO1xuICB1c2VyQXR0cmlidXRlcz86IGFueTtcbiAgdGFyZ2V0U2VsZWN0b3I/OiBzdHJpbmc7XG4gIHRhcmdldEJ1aWxkZXJFbGVtZW50Pzogc3RyaW5nO1xuICB1bmlxdWU/OiBib29sZWFuO1xuICBtZXRhZGF0YT86IGFueSB8IHN0cmluZztcbiAgbWV0YT86IGFueSB8IHN0cmluZztcbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xuICB2aXNpdG9ySWQ/OiBzdHJpbmc7XG4gIGFtb3VudD86IG51bWJlcjtcbn1cbi8vIFRPRE86IHNoYXJlIGludGVyZmFjZXMgd2l0aCBBUElcbmludGVyZmFjZSBFdmVudCB7XG4gIHR5cGU6IHN0cmluZztcbiAgZGF0YTogRXZlbnREYXRhO1xufVxuXG4vKipcbiAqIEF0dHJpYnV0ZXMgdGhhdCBjYW4gYmUgdXNlZCBmb3IgY3VzdG9tIHRhcmdldGluZy4ge0BsaW5rXG4gKiBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9ndWlkZXMvdGFyZ2V0aW5nLWFuZC1zY2hlZHVsaW5nfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJBdHRyaWJ1dGVzIHtcbiAgW2tleTogc3RyaW5nXTpcbiAgICB8IHVuZGVmaW5lZFxuICAgIHwgc3RyaW5nXG4gICAgfCBzdHJpbmdbXVxuICAgIHwgYm9vbGVhblxuICAgIHwgYm9vbGVhbltdXG4gICAgfCBudW1iZXJcbiAgICB8IG51bWJlcltdXG4gICAgfCBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAvKipcbiAgICogVVJMIHBhdGggb2YgdGhlIGN1cnJlbnQgdXNlci5cbiAgICovXG4gIHVybFBhdGg/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBxdWVyeVN0cmluZz86IHN0cmluZyB8IFBhcmFtc01hcDtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIGRldmljZT86ICdtb2JpbGUnIHwgJ3RhYmxldCcgfCAnZGVza3RvcCc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBsb2NhdGlvbj86IGFueTtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIHVzZXJBZ2VudD86IHN0cmluZztcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIHJlZmVycmVyPzogc3RyaW5nO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQGhpZGRlblxuICAgKi9cbiAgZW50cnlNZWRpdW0/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBsYW5ndWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIGJyb3dzZXI/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBjb29raWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBuZXdWaXNpdG9yPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIG9wZXJhdGluZ1N5c3RlbT86IHN0cmluZztcbn1cblxudHlwZSBBbGxvd0VucmljaCA9XG4gIHwgeyBhcGlWZXJzaW9uPzogRXh0cmFjdDxBcGlWZXJzaW9uLCAndjEnPiB9XG4gIHwgeyBhcGlWZXJzaW9uPzogRXh0cmFjdDxBcGlWZXJzaW9uLCAndjMnPjsgZW5yaWNoPzogYm9vbGVhbiB9XG4gIHwgeyBhcGlWZXJzaW9uPzogbmV2ZXI7IGVucmljaD86IGJvb2xlYW4gfTtcblxuZXhwb3J0IHR5cGUgR2V0Q29udGVudE9wdGlvbnMgPSBBbGxvd0VucmljaCAmIHtcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGZldGNoIG9wdGlvbnMgdG8gYmUgcGFzc2VkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gdGhlIGBmZXRjaGAgZnVuY3Rpb24uXG4gICAqL1xuICBmZXRjaE9wdGlvbnM/OiBvYmplY3Q7XG5cbiAgLyoqXG4gICAqIFVzZXIgYXR0cmlidXRlIGtleSB2YWx1ZSBwYWlycyB0byBiZSB1c2VkIGZvciB0YXJnZXRpbmdcbiAgICogaHR0cHM6Ly93d3cuYnVpbGRlci5pby9jL2RvY3MvY3VzdG9tLXRhcmdldGluZy1hdHRyaWJ1dGVzXG4gICAqXG4gICAqIGUuZy5cbiAgICogYGBganNcbiAgICogdXNlckF0dHJpYnV0ZXM6IHtcbiAgICogICB1cmxQYXRoOiAnLycsXG4gICAqICAgcmV0dXJuVmlzaXRvcjogdHJ1ZSxcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIHVzZXJBdHRyaWJ1dGVzPzogVXNlckF0dHJpYnV0ZXM7XG4gIC8qKlxuICAgKiBBbGlhcyBmb3IgdXNlckF0dHJpYnV0ZXMudXJsUGF0aCBleGNlcHQgaXQgY2FuIGhhbmRsZSBhIGZ1bGwgVVJMIChvcHRpb25hbGx5IHdpdGggaG9zdCxcbiAgICogcHJvdG9jb2wsIHF1ZXJ5LCBldGMpIGFuZCB3ZSB3aWxsIHBhcnNlIG91dCB0aGUgcGF0aC5cbiAgICovXG4gIHVybD86IHN0cmluZztcbiAgLyoqXG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICBpbmNsdWRlVXJsPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEluY2x1ZGUgY29udGVudCBvZiByZWZlcmVuY2VzIGluIHRoZSByZXNwb25zZS5cbiAgICogSWYgeW91IHVzZSB0aGUgYHJlZmVyZW5jZWAgZmllbGQgdG8gcHVsbCBpbiBvdGhlciBjb250ZW50IHdpdGhvdXQgdGhpc1xuICAgKiBlbmFibGVkIHdlIHdpbGwgbm90IGZldGNoIHRoYXQgY29udGVudCBmb3IgdGhlIGZpbmFsIHJlc3BvbnNlLlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYGVucmljaGAgaW5zdGVhZFxuICAgKi9cbiAgaW5jbHVkZVJlZnM/OiBib29sZWFuO1xuICAvKipcbiAgICogU2Vjb25kcyB0byBjYWNoZSBjb250ZW50LiBTZXRzIHRoZSBtYXgtYWdlIG9mIHRoZSBjYWNoZS1jb250cm9sIGhlYWRlclxuICAgKiByZXNwb25zZSBoZWFkZXIuXG4gICAqXG4gICAqIFVzZSBhIGhpZ2hlciB2YWx1ZSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLCBsb3dlciBmb3IgY29udGVudCB0aGF0IHdpbGwgY2hhbmdlIG1vcmUgZnJlcXVlbnRseVxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9xdWVyeS1hcGkjX19uZXh0On46dGV4dD0lMjZpbmNsdWRlUmVmcyUzRHRydWUtLGNhY2hlU2Vjb25kcywtTm99XG4gICAqL1xuICBjYWNoZVNlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBCdWlsZGVyLmlvIHVzZXMgc3RhbGUtd2hpbGUtcmV2YWxpZGF0ZSBjYWNoaW5nIGF0IHRoZSBDRE4gbGV2ZWwuIFRoaXMgbWVhbnMgd2UgYWx3YXlzIHNlcnZlXG4gICAqIGZyb20gZWRnZSBjYWNoZSBhbmQgdXBkYXRlIGNhY2hlcyBpbiB0aGUgYmFja2dyb3VuZCBmb3IgbWF4aW11bSBwb3NzaWJsZSBwZXJmb3JtYW5jZS4gVGhpcyBhbHNvXG4gICAqIG1lYW5zIHRoYXQgdGhlIG1vcmUgZnJlcXVlbnRseSBjb250ZW50IGlzIHJlcXVlc3RlZCwgdGhlIG1vcmUgZnJlc2ggaXQgd2lsbCBiZS4gVGhlIGxvbmdlc3Qgd2VcbiAgICogd2lsbCBldmVyIGhvbGQgc29tZXRoaW5nIGluIHN0YWxlIGNhY2hlIGlzIDEgZGF5IGJ5IGRlZmF1bHQsIGFuZCB5b3UgY2FuIHNldCB0aGlzIHRvIGJlIHNob3J0ZXJcbiAgICogeW91cnNlbGYgYXMgd2VsbC4gV2Ugc3VnZ2VzdCBrZWVwaW5nIHRoaXMgaGlnaCB1bmxlc3MgeW91IGhhdmUgY29udGVudCB0aGF0IG11c3QgY2hhbmdlIHJhcGlkbHlcbiAgICogYW5kIGdldHMgdmVyeSBsaXR0bGUgdHJhZmZpYy5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuZmFzdGx5LmNvbS9ibG9nL3ByZXZlbnQtYXBwbGljYXRpb24tbmV0d29yay1pbnN0YWJpbGl0eS1zZXJ2ZS1zdGFsZS1jb250ZW50fVxuICAgKi9cbiAgc3RhbGVDYWNoZVNlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBNYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVybi4gRGVmYXVsdHMgdG8gYDFgLlxuICAgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBVc2UgdG8gc3BlY2lmeSBhbiBvZmZzZXQgZm9yIHBhZ2luYXRpb24gb2YgcmVzdWx0cy4gVGhlIGRlZmF1bHQgaXMgMC5cbiAgICovXG4gIG9mZnNldD86IG51bWJlcjtcbiAgLyoqXG4gICAqIE1vbmdvZGIgc3R5bGUgcXVlcnkgb2YgeW91ciBkYXRhLiBFLmcuOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBxdWVyeToge1xuICAgKiAgaWQ6ICdhYmMxMjMnLFxuICAgKiAgZGF0YToge1xuICAgKiAgICBteUN1c3RvbUZpZWxkOiB7ICRndDogMjAgfSxcbiAgICogIH1cbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogU2VlIG1vcmUgaW5mbyBvbiBNb25nb0RCJ3MgcXVlcnkgb3BlcmF0b3JzIGFuZCBmb3JtYXQuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZG9jcy5tb25nb2RiLmNvbS9tYW51YWwvcmVmZXJlbmNlL29wZXJhdG9yL3F1ZXJ5L31cbiAgICovXG4gIHF1ZXJ5PzogYW55O1xuICAvKipcbiAgICogQnVzdCB0aHJvdWdoIGFsbCBjYWNoZXMuIE5vdCByZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbiAoZm9yIHBlcmZvcm1hbmNlKSxcbiAgICogYnV0IGNhbiBiZSB1c2VmdWwgZm9yIGRldmVsb3BtZW50IGFuZCBzdGF0aWMgYnVpbGRzIChzbyB0aGUgc3RhdGljIHNpdGUgaGFzXG4gICAqIGZ1bGx5IGZyZXNoIC8gdXAgdG8gZGF0ZSBjb250ZW50KVxuICAgKi9cbiAgY2FjaGVidXN0PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENvbnZlcnQgYW55IHZpc3VhbCBidWlsZGVyIGNvbnRlbnQgdG8gSFRNTC5cbiAgICpcbiAgICogVGhpcyB3aWxsIGJlIG9uIGRhdGEuaHRtbCBvZiB0aGUgcmVzcG9uc2UncyBjb250ZW50IGVudHJ5IG9iamVjdCBqc29uLlxuICAgKi9cbiAgcHJlcmVuZGVyPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEV4dHJhY3QgYW55IHN0eWxlcyB0byBhIHNlcGFyYXRlIGNzcyBwcm9wZXJ0eSB3aGVuIGdlbmVyYXRpbmcgSFRNTC5cbiAgICovXG4gIGV4dHJhY3RDc3M/OiBib29sZWFuO1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogYEJ1aWxkZXJDb250ZW50YCB0byByZW5kZXIgaW5zdGVhZCBvZiBmZXRjaGluZy5cbiAgICovXG4gIGluaXRpYWxDb250ZW50PzogYW55O1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIG1vZGVsIHRvIGZldGNoIGNvbnRlbnQgZm9yLlxuICAgKi9cbiAgbW9kZWw/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBTZXQgdG8gYGZhbHNlYCB0byBub3QgY2FjaGUgcmVzcG9uc2VzIHdoZW4gcnVubmluZyBvbiB0aGUgY2xpZW50LlxuICAgKi9cbiAgY2FjaGU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTZXQgdG8gdGhlIGN1cnJlbnQgbG9jYWxlIGluIHlvdXIgYXBwbGljYXRpb24gaWYgeW91IHdhbnQgbG9jYWxpemVkIGlucHV0cyB0byBiZSBhdXRvLXJlc29sdmVkLCBzaG91bGQgbWF0Y2ggb25lIG9mIHRoZSBsb2NhbGVzIGtleXMgaW4geW91ciBzcGFjZSBzZXR0aW5nc1xuICAgKiBMZWFybiBtb3JlIGFib3V0IGFkZGluZyBvciByZW1vdmluZyBsb2NhbGVzIFtoZXJlXShodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9hZGQtcmVtb3ZlLWxvY2FsZXMpXG4gICAqL1xuICBsb2NhbGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAcGFja2FnZVxuICAgKlxuICAgKiBJbmRpY2F0ZSB0aGF0IHRoZSBmZXRjaCByZXF1ZXN0IGlzIGZvciBwcmV2aWV3IHB1cnBvc2VzLlxuICAgKi9cbiAgcHJldmlldz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBTcGVjaWZpYyBjb250ZW50IGVudHJ5IElEIHRvIGZldGNoLlxuICAgKi9cbiAgZW50cnk/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAcGFja2FnZVxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBhbGlhcz86IHN0cmluZztcbiAgLyoqXG4gICAqIE9ubHkgaW5jbHVkZSB0aGVzZSBmaWVsZHMuXG4gICAqIE5vdGU6ICdvbWl0JyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgJ2ZpZWxkcydcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIGZpZWxkczogJ2lkLCBuYW1lLCBkYXRhLmN1c3RvbUZpZWxkJ1xuICAgKiBgYGBcbiAgICovXG4gIGZpZWxkcz86IHN0cmluZztcbiAgLyoqXG4gICAqIE9taXQgb25seSB0aGVzZSBmaWVsZHMuXG4gICAqIE5vdGU6ICdvbWl0JyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgJ2ZpZWxkcydcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIG9taXQ6ICdkYXRhLmJpZ0ZpZWxkLGRhdGEuYmxvY2tzJ1xuICAgKiBgYGBcbiAgICovXG4gIG9taXQ/OiBzdHJpbmc7XG4gIGtleT86IHN0cmluZztcbiAgLyoqXG4gICAqIEBwYWNrYWdlXG4gICAqXG4gICAqIEFmZmVjdHMgSFRNTCBnZW5lcmF0aW9uIGZvciBzcGVjaWZpYyB0YXJnZXRzLlxuICAgKi9cbiAgZm9ybWF0PzogJ2FtcCcgfCAnZW1haWwnIHwgJ2h0bWwnIHwgJ3JlYWN0JyB8ICdzb2xpZCc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBub1dyYXA/OiB0cnVlO1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogU3BlY2lmaWMgc3RyaW5nIHRvIHVzZSBmb3IgY2FjaGUgYnVzdGluZy4gZS5nLiBldmVyeSB0aW1lIHdlIGdlbmVyYXRlXG4gICAqIEhUTUwgd2UgZ2VuZXJhdGUgYSByZXYgKGEgcmV2aXNpb24gSUQpIGFuZCB3ZSBzZW5kIHRoYXQgd2l0aCBlYWNoIHJlcXVlc3RcbiAgICogb24gdGhlIGNsaWVudCwgc3VjaCB0aGF0IGlmIHdlIGdlbmVyYXRlIG5ldyBzZXJ2ZXIgSFRNTCB3ZSBnZXQgYSBuZXcgcmV2XG4gICAqIGFuZCB3ZSB1c2UgdGhhdCB0byBidXN0IHRoZSBjYWNoZSBiZWNhdXNlIGV2ZW4gdGhvdWdoIHRoZSBjb250ZW50IElEIG1heVxuICAgKiBiZSB0aGUgc2FtZSwgaXQgY291bGQgYmUgYW4gdXBkYXRlZCB2ZXJzaW9uIG9mIHRoaXMgY29udGVudCB0aGF0IG5lZWRzIHRvXG4gICAqIGJlIGZyZXNoLlxuICAgKi9cbiAgcmV2Pzogc3RyaW5nO1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogVGVsbCB0aGUgQVBJIHRoYXQgd2hlbiBnZW5lcmF0aW5nIEhUTUwgdG8gZ2VuZXJhdGUgaXQgaW4gc3RhdGljIG1vZGUgZm9yXG4gICAqIGEvYiB0ZXN0cyBpbnN0ZWFkIG9mIHRoZSBvbGRlciB3YXkgd2UgZGlkIHRoaXNcbiAgICovXG4gIHN0YXRpYz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIHF1ZXJ5IHBhcmFtcyBvZiB0aGUgQ29udGVudCBBUEkgdG8gc2VuZC5cbiAgICovXG4gIG9wdGlvbnM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogRG9uJ3QgbGlzdGVuIHRvIHVwZGF0ZXMgaW4gdGhlIGVkaXRvciAtIHRoaXMgaXMgdXNlZnVsIGZvciBlbWJlZGRlZFxuICAgKiBzeW1ib2xzIHNvIHRoZXkgZG9uJ3QgYWNjaWRlbnRhbGx5IGxpc3RlbiB0byBtZXNzYWdlcyBhcyB5b3UgYXJlIGVkaXRpbmdcbiAgICogY29udGVudCB0aGlua2luZyB0aGV5IHNob3VsZCB1cGRhdGVzIHdoZW4gdGhleSBhY3R1YWxseSBzaG91bGRuJ3QuXG4gICAqL1xuICBub0VkaXRvclVwZGF0ZXM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBpdCB3aWxsIGxhenkgbG9hZCBzeW1ib2xzL3JlZmVyZW5jZXMuXG4gICAqIElmIHNldCB0byBgZmFsc2VgLCBpdCB3aWxsIHJlbmRlciB0aGUgZW50aXJlIGNvbnRlbnQgdHJlZSBlYWdlcmx5LlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYGVucmljaGAgaW5zdGVhZFxuICAgKi9cbiAgbm9UcmF2ZXJzZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFByb3BlcnR5IHRvIG9yZGVyIHJlc3VsdHMgYnkuXG4gICAqIFVzZSAxIGZvciBhc2NlbmRpbmcgYW5kIC0xIGZvciBkZXNjZW5kaW5nLlxuICAgKlxuICAgKiBUaGUga2V5IGlzIHdoYXQgeW91J3JlIHNvcnRpbmcgb24sIHNvIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzb3J0cyBieSBjcmVhdGVkRGF0ZVxuICAgKiBhbmQgYmVjYXVzZSB0aGUgdmFsdWUgaXMgMSwgdGhlIHNvcnQgaXMgYXNjZW5kaW5nLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBcbiAgICogY3JlYXRlZERhdGU6IDFcbiAgICogYGBgXG4gICAqL1xuICBzb3J0PzogeyBba2V5OiBzdHJpbmddOiAxIHwgLTEgfTtcblxuICAvKipcbiAgICogSW5jbHVkZSBjb250ZW50IGVudHJpZXMgaW4gYSByZXNwb25zZSB0aGF0IGFyZSBzdGlsbCBpblxuICAgKiBkcmFmdCBtb2RlIGFuZCB1bi1hcmNoaXZlZC4gRGVmYXVsdCBpcyBmYWxzZS5cbiAgICovXG4gIGluY2x1ZGVVbnB1Ymxpc2hlZD86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBDbGFzcyA9IHtcbiAgbmFtZT86IHN0cmluZztcbiAgbmV3ICguLi5hcmdzOiBhbnlbXSk6IGFueTtcbn07XG5cbmludGVyZmFjZSBNYXA8SywgVj4ge1xuICBjbGVhcigpOiB2b2lkO1xuICBkZWxldGUoa2V5OiBLKTogYm9vbGVhbjtcbiAgZW50cmllcygpOiBJdGVyYWJsZUl0ZXJhdG9yPFtLLCBWXT47XG4gIGZvckVhY2goY2FsbGJhY2tmbjogKHZhbHVlOiBWLCBpbmRleDogSywgbWFwOiBNYXA8SywgVj4pID0+IHZvaWQsIHRoaXNBcmc/OiBhbnkpOiB2b2lkO1xuICBnZXQoa2V5OiBLKTogVjtcbiAgaGFzKGtleTogSyk6IGJvb2xlYW47XG4gIGtleXMoKTogSXRlcmFibGVJdGVyYXRvcjxLPjtcbiAgc2V0KGtleTogSywgdmFsdWU/OiBWKTogTWFwPEssIFY+O1xuICBzaXplOiBudW1iZXI7XG4gIHZhbHVlcygpOiBJdGVyYWJsZUl0ZXJhdG9yPFY+O1xuICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPFtLLCBWXT47XG59XG5cbi8qKlxuICogVGhpcyBpcyB0aGUgaW50ZXJmYWNlIGZvciBpbnB1dHMgaW4gYEJ1aWxkZXIucmVnaXN0ZXJDb21wb25lbnRgXG4gKlxuICogYGBganNcbiAqIEJ1aWxkZXIucmVnaXN0ZXJDb21wb25lbnQoTXlDb21wb25lbnQsIHtcbiAqICAgaW5wdXRzOiBbeyBuYW1lOiAndGl0bGUnLCB0eXBlOiAndGV4dCcgfV0gLy8gPC0gSW5wdXRbXVxuICogfSlcbiAqIGBgYFxuICpcbiAqIExlYXJuIG1vcmUgYWJvdXQgcmVnaXN0ZXJpbmcgY3VzdG9tIGNvbXBvbmVudHMgW2hlcmVdKGh0dHBzOi8vd3d3LmJ1aWxkZXIuaW8vYy9kb2NzL2N1c3RvbS1yZWFjdC1jb21wb25lbnRzKVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElucHV0IHtcbiAgLyoqIFRoaXMgaXMgdGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudCBwcm9wIHRoaXMgaW5wdXQgcmVwcmVzZW50cyAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBBIGZyaWVuZGxpZXIgbmFtZSB0byBzaG93IGluIHRoZSBVSSBpZiB0aGUgY29tcG9uZW50IHByb3AgbmFtZSBpcyBub3QgaWRlYWwgZm9yIGVuZCB1c2VycyAqL1xuICBmcmllbmRseU5hbWU/OiBzdHJpbmc7XG4gIC8qKiBAaGlkZGVuIEBkZXByZWNhdGVkICovXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAvKiogQSBkZWZhdWx0IHZhbHVlIHRvIHVzZSAqL1xuICBkZWZhdWx0VmFsdWU/OiBhbnk7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBpbnB1dCB0byB1c2UsIHN1Y2ggYXMgJ3RleHQnXG4gICAqXG4gICAqIFNlZSBhbGwgYXZhaWxhYmxlIGlucHV0cyBbaGVyZV0oaHR0cHM6Ly93d3cuYnVpbGRlci5pby9jL2RvY3MvY3VzdG9tLWNvbXBvbmVudHMtaW5wdXQtdHlwZXMpXG4gICAqIGFuZCB5b3UgY2FuIGNyZWF0ZSB5b3VyIG93biBjdXN0b20gaW5wdXQgdHlwZXMgYW5kIGFzc29jaWF0ZWQgZWRpdG9yIFVJcyB3aXRoIFtwbHVnaW5zXShodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9leHRlbmRpbmcvcGx1Z2lucylcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqIElzIHRoaXMgaW5wdXQgbWFuZGF0b3J5IG9yIG5vdCAqL1xuICByZXF1aXJlZD86IGJvb2xlYW47XG4gIC8qKiBAaGlkZGVuICovXG4gIGF1dG9Gb2N1cz86IGJvb2xlYW47XG4gIHN1YkZpZWxkcz86IHJlYWRvbmx5IElucHV0W107XG4gIC8qKlxuICAgKiBXaGVuIGlucHV0IGlzIG9mIGB0eXBlYCBgb2JqZWN0YCwgdXNlIHRoaXMgZmllbGQgdG8gY29sbGFwc2UgbXVsdGlwbGUgaW5wdXRzXG4gICAqIGluIHRoZSBWaXN1YWwgRWRpdG9yIGJ5IGRlZmF1bHQgYW5kIHByZXNlcnZlIHNjcmVlbiBzcGFjZS5cbiAgICovXG4gIGZvbGRlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBXaGVuIGlucHV0IGlzIG9mIGB0eXBlYCBgb2JqZWN0YCwgcHJvdmlkZSBndWlkYW5jZSBpbiB0aGUgVmlzdWFsIEVkaXRvclxuICAgKiBvbiBob3cgdG8gZWRpdCB0aGlzIG9iamVjdCdzIGNvbnRlbnRzLlxuICAgKi9cbiAga2V5c0hlbHBlclRleHQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgdGV4dCB0byByZW5kZXIgaW4gdGhlIFVJIHRvIGdpdmUgZ3VpZGFuY2Ugb24gaG93IHRvIHVzZSB0aGlzXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIGhlbHBlclRleHQ6ICdCZSBzdXJlIHRvIHVzZSBhIHByb3BlciBVUkwsIHN0YXJ0aW5nIHdpdGggXCJodHRwczovL1wiJ1xuICAgKiAxMTFcbiAgICovXG4gIGhlbHBlclRleHQ/OiBzdHJpbmc7XG4gIC8qKiBAaGlkZGVuICovXG4gIGFsbG93ZWRGaWxlVHlwZXM/OiByZWFkb25seSBzdHJpbmdbXTtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgaW1hZ2VIZWlnaHQ/OiBudW1iZXI7XG4gIC8qKiBAaGlkZGVuICovXG4gIGJlaGF2aW9yPzogc3RyaW5nO1xuICAvKiogQGhpZGRlbiAqL1xuICBpbWFnZVdpZHRoPzogbnVtYmVyO1xuICAvKiogQGhpZGRlbiAqL1xuICBtZWRpYUhlaWdodD86IG51bWJlcjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgbWVkaWFXaWR0aD86IG51bWJlcjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgaGlkZUZyb21VST86IGJvb2xlYW47XG4gIC8qKiBAaGlkZGVuICovXG4gIG1vZGVsSWQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBOdW1iZXIgZmllbGQgdHlwZSB2YWxpZGF0aW9uIG1heGltdW0gYWNjZXB0ZWQgaW5wdXRcbiAgICovXG4gIG1heD86IG51bWJlcjtcbiAgLyoqXG4gICAqIE51bWJlciBmaWVsZCB0eXBlIHZhbGlkYXRpb24gbWluaW11bSBhY2NlcHRlZCBpbnB1dFxuICAgKi9cbiAgbWluPzogbnVtYmVyO1xuICAvKipcbiAgICogTnVtYmVyIGZpZWxkIHR5cGUgc3RlcCBzaXplIHdoZW4gdXNpbmcgYXJyb3dzXG4gICAqL1xuICBzdGVwPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0byBgdHJ1ZWAgdG8gc2hvdyB0aGUgZWRpdG9yIGZvciB0aGlzIGlucHV0IHdoZW5cbiAgICogY2hpbGRyZW4gb2YgdGhpcyBjb21wb25lbnQgYXJlIHNlbGVjdGVkLiBUaGlzIGlzIHVzZWZ1bCBmb3IgdGhpbmdzXG4gICAqIGxpa2UgVGFicywgc3VjaCB0aGF0IHVzZXJzIG1heSBub3QgYWx3YXlzIHNlbGVjdCB0aGUgVGFicyBjb21wb25lbnRcbiAgICogZGlyZWN0bHkgYnV0IHdpbGwgc3RpbGwgYmUgbG9va2luZyBmb3IgaG93IHRvIGFkZCBhZGRpdGlvbmFsIHRhYnNcbiAgICovXG4gIGJyb2FkY2FzdD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0byBgdHJ1ZWAgdG8gc2hvdyB0aGUgZWRpdG9yIGZvciB0aGlzIGlucHV0IHdoZW5cbiAgICogZ3JvdXAgbG9ja2VkIHBhcmVudHMgb2YgdGhpcyBjb21wb25lbnQgYXJlIHNlbGVjdGVkLiBUaGlzIGlzIHVzZWZ1bFxuICAgKiB0byBidWJibGUgdXAgaW1wb3J0YW50IGlucHV0cyBmb3IgbG9ja2VkIGdyb3VwcywgbGlrZSB0ZXh0IGFuZCBpbWFnZXNcbiAgICovXG4gIGJ1YmJsZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0byBgdHJ1ZWAgaWYgeW91IHdhbnQgdGhpcyBjb21wb25lbnQgdG8gYmUgdHJhbnNsYXRhYmxlXG4gICAqL1xuICBsb2NhbGl6ZWQ/OiBib29sZWFuO1xuICAvKiogQGhpZGRlbiAqL1xuICBvcHRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIEZvciBcInRleHRcIiBpbnB1dCB0eXBlLCBzcGVjaWZ5aW5nIGFuIGVudW0gd2lsbCBzaG93IGEgZHJvcGRvd24gb2Ygb3B0aW9ucyBpbnN0ZWFkXG4gICAqL1xuICBlbnVtPzpcbiAgICB8IHJlYWRvbmx5IHN0cmluZ1tdXG4gICAgfCByZWFkb25seSB7IGxhYmVsOiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuOyBoZWxwZXJUZXh0Pzogc3RyaW5nIH1bXTtcbiAgLyoqIFJlZ2V4IGZpZWxkIHZhbGlkYXRpb24gZm9yIGFsbCBzdHJpbmcgdHlwZXMgKHRleHQsIGxvbmdUZXh0LCBodG1sLCB1cmwsIGV0YykgKi9cbiAgcmVnZXg/OiB7XG4gICAgLyoqIHBhdHRlcm4gdG8gdGVzdCwgbGlrZSBcIl5cXC9bYS16XSRcIiAqL1xuICAgIHBhdHRlcm46IHN0cmluZztcbiAgICAvKiogZmxhZ3MgZm9yIHRoZSBSZWdFeHAgY29uc3RydWN0b3IsIGUuZy4gXCJnaVwiICAqL1xuICAgIG9wdGlvbnM/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogRnJpZW5kbHkgbWVzc2FnZSB0byBkaXNwbGF5IHRvIGVuZC11c2VycyBpZiB0aGUgcmVnZXggZmFpbHMsIGUuZy5cbiAgICAgKiBcIllvdSBtdXN0IHVzZSBhIHJlbGF0aXZlIHVybCBzdGFydGluZyB3aXRoICcvLi4uJyBcIlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgfTtcbiAgLyoqXG4gICAqIFNldCB0aGlzIHRvIGB0cnVlYCB0byBwdXQgdGhpcyB1bmRlciB0aGUgXCJzaG93IG1vcmVcIiBzZWN0aW9uIG9mXG4gICAqIHRoZSBvcHRpb25zIGVkaXRvci4gVXNlZnVsIGZvciB0aGluZ3MgdGhhdCBhcmUgbW9yZSBhZHZhbmNlZFxuICAgKiBvciBtb3JlIHJhcmVseSB1c2VkIGFuZCBkb24ndCBuZWVkIHRvIGJlIHRvbyBwcm9taW5lbnRcbiAgICovXG4gIGFkdmFuY2VkPzogYm9vbGVhbjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgb25DaGFuZ2U/OiAoXG4gICAgb3B0aW9uczogYW55LFxuICAgIHByZXZpb3VzT3B0aW9ucz86IGFueVxuICApID0+IFByb21pc2U8dm9pZD4gfCAoKG9wdGlvbnM6IGFueSwgcHJldmlvdXNPcHRpb25zPzogYW55KSA9PiB2b2lkKSB8IHN0cmluZyB8IHZvaWQgfCB1bmRlZmluZWQ7XG4gIC8qKiBAaGlkZGVuICovXG4gIGNvZGU/OiBib29sZWFuO1xuICAvKiogQGhpZGRlbiAqL1xuICByaWNoVGV4dD86IGJvb2xlYW47XG4gIC8qKiBAaGlkZGVuICovXG4gIHNob3dJZj86ICgob3B0aW9uczogTWFwPHN0cmluZywgYW55PikgPT4gYm9vbGVhbikgfCBzdHJpbmc7XG4gIC8qKiBAaGlkZGVuICovXG4gIGNvcHlPbkFkZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBVc2Ugb3B0aW9uYWxseSB3aXRoIGlucHV0cyBvZiB0eXBlIGByZWZlcmVuY2VgLiBSZXN0cmljdHMgdGhlIGNvbnRlbnQgZW50cnkgcGlja2VyIHRvIGEgc3BlY2lmaWMgbW9kZWwgYnkgbmFtZS5cbiAgICovXG4gIG1vZGVsPzogc3RyaW5nO1xuXG4gIG1ldGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xufVxuXG4vKipcbiAqIFRoaXMgaXMgdGhlIGludGVyZmFjZSBmb3IgdGhlIG9wdGlvbnMgZm9yIGBCdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50YFxuICpcbiAqIGBgYGpzXG4gKiBCdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50KFlvdXJDb21wb25lbnQsIHtcbiAqICAvLyA8LSBDb21wb25lbnQgb3B0aW9uc1xuICogfSlcbiAqIGBgYFxuICpcbiAqIExlYXJuIG1vcmUgYWJvdXQgcmVnaXN0ZXJpbmcgY3VzdG9tIGNvbXBvbmVudHMgW2hlcmVdKGh0dHBzOi8vd3d3LmJ1aWxkZXIuaW8vYy9kb2NzL2N1c3RvbS1yZWFjdC1jb21wb25lbnRzKVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvbmVudCB7XG4gIC8qKlxuICAgKiBOYW1lIHlvdXIgY29tcG9uZW50IHNvbWV0aGluZyB1bmlxdWUsIGUuZy4gJ015QnV0dG9uJy4gWW91IGNhbiBvdmVycmlkZSBidWlsdC1pbiBjb21wb25lbnRzXG4gICAqIGJ5IHJlZ2lzdGVyaW5nIGEgY29tcG9uZW50IHdpdGggdGhlIHNhbWUgbmFtZSwgZS5nLiAnVGV4dCcsIHRvIHJlcGxhY2UgdGhlIGJ1aWx0LWluIHRleHQgY29tcG9uZW50XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBAaGlkZGVuIEBkZXByZWNhdGVkICovXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAvKipcbiAgICogTGluayB0byBhIGRvY3VtZW50YXRpb24gcGFnZSBmb3IgdGhpcyBjb21wb25lbnRcbiAgICovXG4gIGRvY3NMaW5rPzogc3RyaW5nO1xuICAvKipcbiAgICogTGluayB0byBhbiBpbWFnZSB0byBiZSB1c2VkIGFzIGFuIGljb24gZm9yIHRoaXMgY29tcG9uZW50IGluIEJ1aWxkZXIncyBlZGl0b3JcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogaW1hZ2U6ICdodHRwczovL3NvbWUtY2RuLmNvbS9teS1pY29uLWZvci10aGlzLWNvbXBvbmVudC5wbmcnXG4gICAqIGBgYFxuICAgKi9cbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBMaW5rIHRvIGEgc2NyZWVuc2hvdCBzaG93biB3aGVuIHVzZXIgaG92ZXJzIG92ZXIgdGhlIGNvbXBvbmVudCBpbiBCdWlsZGVyJ3MgZWRpdG9yXG4gICAqIHVzZSBodHRwczovL2J1aWxkZXIuaW8vdXBsb2FkIHRvIHVwbG9hZCB5b3VyIHNjcmVlc2hvdCwgZm9yIGVhc2llciByZXNpemluZyBieSBCdWlsZGVyLlxuICAgKi9cbiAgc2NyZWVuc2hvdD86IHN0cmluZztcblxuICAvKipcbiAgICogV2hlbiBvdmVycmlkaW5nIGJ1aWx0LWluIGNvbXBvbmVudHMsIGlmIHlvdSBkb24ndCB3YW50IGFueSBzcGVjaWFsIGJlaGF2aW9yIHRoYXRcbiAgICogdGhlIG9yaWdpbmFsIGhhcywgc2V0IHRoaXMgdG8gYHRydWVgIHRvIHNraXAgdGhlIGRlZmF1bHQgYmVoYXZpb3JcbiAgICpcbiAgICogRGVmYXVsdCBiZWhhdmlvcnMgaW5jbHVkZSBzcGVjaWFsIFwidmlydHVhbCBvcHRpb25zXCIsIHN1Y2ggYXMgYSBjdXN0b21cbiAgICogYXNwZWN0IHJhdGlvIGVkaXRvciBmb3IgSW1hZ2VzLCBvciBhIHNwZWNpYWwgY29sdW1uIGVkaXRvciBmb3IgQ29sdW1uc1xuICAgKlxuICAgKiBMZWFybiBtb3JlIGFib3V0IG92ZXJyaWRpbmcgYnVpbHQtaW4gY29tcG9uZW50cyBoZXJlOiBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9jdXN0b20tY29tcG9uZW50cy1vdmVycmlkaW5nXG4gICAqL1xuICBvdmVycmlkZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIElucHV0IHNjaGVtYSBmb3IgeW91ciBjb21wb25lbnQgZm9yIHVzZXJzIHRvIGZpbGwgaW4gdGhlIG9wdGlvbnMgdmlhIGEgVUlcbiAgICogdGhhdCB0cmFuc2xhdGUgdG8gdGhpcyBjb21wb25lbnRzIHByb3BzXG4gICAqL1xuICBpbnB1dHM/OiByZWFkb25seSBJbnB1dFtdO1xuICAvKiogQGhpZGRlbiBAZGVwcmVjYXRlZCAqL1xuICBjbGFzcz86IGFueTtcbiAgLyoqIEBoaWRkZW4gQGRlcHJlY2F0ZWQgKi9cbiAgdHlwZT86ICdhbmd1bGFyJyB8ICd3ZWJjb21wb25lbnQnIHwgJ3JlYWN0JyB8ICd2dWUnO1xuICAvKipcbiAgICogRGVmYXVsdCBzdHlsZXMgdG8gYXBwbHkgd2hlbiBkcm9wcGdlZCBpbnRvIHRoZSBCdWlsZGVyLmlvIGVkaXRvclxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBkZWZhdWx0U3R5bGVzOiB7XG4gICAqICBhcHBlYXJhbmNlOiAnbm9uZScsXG4gICAqICBwYWRkaW5nVG9wOiAnMTVweCcsXG4gICAqICBwYWRkaW5nQm90dG9tOiAnMTVweCcsXG4gICAqICBwYWRkaW5nTGVmdDogJzI1cHgnLFxuICAgKiAgcGFkZGluZ1JpZ2h0OiAnMjVweCcsXG4gICAqICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyxcbiAgICogIGNvbG9yOiAnd2hpdGUnLFxuICAgKiAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIGRlZmF1bHRTdHlsZXM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAvKipcbiAgICogVHVybiBvbiBpZiB5b3VyIGNvbXBvbmVudCBjYW4gYWNjZXB0IGNoaWxkcmVuLiBCZSBzdXJlIHRvIHVzZSBpbiBjb21iaW5hdGlvbiB3aXRoXG4gICAqIHdpdGhDaGlsZHJlbihZb3VyQ29tcG9uZW50KSBsaWtlIGhlcmVcbiAgICogZ2l0aHViLmNvbS9CdWlsZGVySU8vYnVpbGRlci9ibG9iL21hc3Rlci9leGFtcGxlcy9yZWFjdC1kZXNpZ24tc3lzdGVtL3NyYy9jb21wb25lbnRzL0hlcm9XaXRoQ2hpbGRyZW4vSGVyb1dpdGhDaGlsZHJlbi5idWlsZGVyLmpzI0w1XG4gICAqL1xuICBjYW5IYXZlQ2hpbGRyZW4/OiBib29sZWFuO1xuICAvKiogQGhpZGRlbiAqL1xuICBmcmFnbWVudD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBEbyBub3Qgd3JhcCBhIGNvbXBvbmVudCBpbiBhIGRvbSBlbGVtZW50LiBCZSBzdXJlIHRvIHVzZSB7Li4ucHJvcHMuYXR0cmlidXRlc30gd2l0aCB0aGlzIG9wdGlvblxuICAgKiBsaWtlIGhlcmUgZ2l0aHViLmNvbS9CdWlsZGVySU8vYnVpbGRlci9ibG9iL21hc3Rlci9wYWNrYWdlcy9yZWFjdC9zcmMvYmxvY2tzL2Zvcm1zL0lucHV0LnRzeCNMMzRcbiAgICovXG4gIG5vV3JhcD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBEZWZhdWx0IGNoaWxkcmVuXG4gICAqL1xuICBkZWZhdWx0Q2hpbGRyZW4/OiByZWFkb25seSBCdWlsZGVyRWxlbWVudFtdO1xuICAvKipcbiAgICogRGVmYXVsdCBvcHRpb25zIHRvIG1lcmdlIGluIHdoZW4gY3JlYXRpbmcgdGhpcyBibG9ja1xuICAgKi9cbiAgZGVmYXVsdHM/OiBQYXJ0aWFsPEJ1aWxkZXJFbGVtZW50PjtcbiAgLyoqIEBoaWRkZW4gQGRlcHJlY2F0ZWQgKi9cbiAgaG9va3M/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB8IEZ1bmN0aW9uIH07XG4gIC8qKlxuICAgKiBIaWRlIHlvdXIgY29tcG9uZW50IGluIGVkaXRvciwgdXNlZnVsIGZvciBncmFkdWFsbHkgZGVwcmVjYXRpbmcgY29tcG9uZW50c1xuICAgKi9cbiAgaGlkZUZyb21JbnNlcnRNZW51PzogYm9vbGVhbjtcbiAgLyoqIEN1c3RvbSB0YWcgbmFtZSAoZm9yIGN1c3RvbSB3ZWJjb21wb25lbnRzIG9ubHkpICovXG4gIHRhZz86IHN0cmluZztcbiAgLyoqIEBoaWRkZW4gQGRlcHJlY2F0ZWQgKi9cbiAgc3RhdGljPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFBhc3NpbmcgYSBsaXN0IG9mIG1vZGVsIG5hbWVzIHdpbGwgcmVzdHJpY3QgdXNpbmcgdGhlIGNvbXBvbmVudCB0byBvbmx5IHRoZSBtb2RlbHMgbGlzdGVkIGhlcmUsIG90aGVyd2lzZSBpdCdsbCBiZSBhdmFpbGFibGUgZm9yIGFsbCBtb2RlbHNcbiAgICovXG4gIG1vZGVscz86IHJlYWRvbmx5IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBjb21wb25lbnQgaXMgYSBSZWFjdCBTZXJ2ZXIgQ29tcG9uZW50XG4gICAqL1xuICBpc1JTQz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNwZWNpZnkgcmVzdHJpY3Rpb25zIGRpcmVjdCBjaGlsZHJlbiBtdXN0IG1hdGNoXG4gICAqL1xuICBjaGlsZFJlcXVpcmVtZW50cz86IHtcbiAgICAvKiogTWVzc2FnZSB0byBzaG93IHdoZW4gdGhpcyBkb2Vzbid0IG1hdGNoLCBlLmcuIFwiQ2hpbGRyZW4gb2YgJ0NvbHVtbnMnIG11c3QgYmUgYSAnQ29sdW1uJ1wiICovXG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIC8qKiBTaW1wbGUgd2F5IHRvIHNheSBjaGlsZHJlbiBtdXN0IGJlIGEgc3BlY2lmaWMgY29tcG9uZW50IG5hbWUgKi9cbiAgICBjb21wb25lbnQ/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogTW9yZSBhZHZhbmNlZCAtIHNwZWNpZnkgYSBNb25nb0RCLXN0eWxlIHF1ZXJ5ICh1c2luZyBzaWZ0LmpzIGdpdGh1Yi5jb20vY3Jjbi9zaWZ0LmpzKVxuICAgICAqIG9mIHdoYXQgdGhlIGNoaWxkcmVuIG9iamVjdHMgc2hvdWxkIG1hdGNoLCBlLmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICBxdWVyeToge1xuICAgICAqICAgIC8vIENoaWxkIG9mIHRoaXMgZWxlbWVudCBtdXN0IGJlIGEgJ0J1dHRvbicgb3IgJ1RleHQnIGNvbXBvbmVudFxuICAgICAqICAgICdjb21wb25lbnQubmFtZSc6IHsgJGluOiBbJ0J1dHRvbicsICdUZXh0J10gfVxuICAgICAqICB9XG4gICAgICovXG4gICAgcXVlcnk/OiBhbnk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZnkgcmVzdHJpY3Rpb25zIGFueSBwYXJlbnQgbXVzdCBtYXRjaFxuICAgKi9cbiAgcmVxdWlyZXNQYXJlbnQ/OiB7XG4gICAgLyoqIE1lc3NhZ2UgdG8gc2hvdyB3aGVuIHRoaXMgZG9lc24ndCBtYXRjaCwgZS5nLiBcIidBZGQgdG8gY2FydCcgYnV0dG9ucyBtdXN0IGJlIHdpdGhpbiBhICdQcm9kdWN0IGJveCdcIiAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICAvKiogU2ltcGxlIHdheSB0byBzYXkgYSBwYXJlbnQgbXVzdCBiZSBhIHNwZWNpZmljIGNvbXBvbmVudCBuYW1lLCBlLmcuICdQcm9kdWN0IGJveCcgKi9cbiAgICBjb21wb25lbnQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBNb3JlIGFkdmFuY2VkIC0gc3BlY2lmeSBhIE1vbmdvREItc3R5bGUgcXVlcnkgKHVzaW5nIHNpZnQuanMgZ2l0aHViLmNvbS9jcmNuL3NpZnQuanMpXG4gICAgICogb2Ygd2hhdCBhdCBsZWFzdCBvbmUgcGFyZW50IGluIHRoZSBwYXJlbnRzIGhpZXJhcmNoeSBzaG91bGQgbWF0Y2gsIGUuZy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogIHF1ZXJ5OiB7XG4gICAgICogICAgLy8gVGhpbHMgZWxlbWVudCBtdXN0IGJlIHNvbWV3aGVyZSBpbnNpZGUgZWl0aGVyIGEgJ1Byb2R1Y3QgYm94JyBvciAnQ29sbGVjdGlvbicgY29tcG9uZW50XG4gICAgICogICAgJ2NvbXBvbmVudC5uYW1lJzogeyAkaW46IFsnUHJvZHVjdCBCb3gnLCAnQ29sbGVjdGlvbiddIH1cbiAgICAgKiAgfVxuICAgICAqL1xuICAgIHF1ZXJ5PzogYW55O1xuICB9O1xuXG4gIGZyaWVuZGx5TmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogVXNlIHRvIHJlc3RyaWN0IGFjY2VzcyB0byB5b3VyIGNvbXBvbmVudCBiYXNlZCBvbiBhIHRoZSBjdXJyZW50IHVzZXIgcGVybWlzc2lvbnNcbiAgICogQnkgZGVmYXVsdCBjb21wb25lbnRzIHdpbGwgc2hvdyB0byBhbGwgdXNlcnNcbiAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcGVybWlzc2lvbnMgaW4gYnVpbGRlciBjaGVjayBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9ndWlkZXMvcm9sZXMtYW5kLXBlcm1pc3Npb25zXG4gICAqL1xuICByZXF1aXJlZFBlcm1pc3Npb25zPzogQXJyYXk8UGVybWlzc2lvbj47XG5cbiAgbWV0YT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG59XG5cbnR5cGUgUGVybWlzc2lvbiA9ICdyZWFkJyB8ICdwdWJsaXNoJyB8ICdlZGl0Q29kZScgfCAnZWRpdERlc2lnbnMnIHwgJ2FkbWluJyB8ICdjcmVhdGUnO1xuXG50eXBlIERlZXBQYXJ0aWFsPFQ+ID0ge1xuICBbUCBpbiBrZXlvZiBUXT86IFRbUF0gZXh0ZW5kcyBBcnJheTxpbmZlciBVPlxuICAgID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gICAgOiBUW1BdIGV4dGVuZHMgUmVhZG9ubHlBcnJheTxpbmZlciBVPlxuICAgICAgPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICAgICAgOiBEZWVwUGFydGlhbDxUW1BdPjtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5zZXJ0TWVudUl0ZW0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIGljb24/OiBzdHJpbmc7XG4gIGl0ZW06IERlZXBQYXJ0aWFsPEJ1aWxkZXJFbGVtZW50Pjtcbn1cblxuLyoqXG4gKiBVc2UgdGhpcyB0byByZWdpc3RlciBjdXN0b20gc2VjdGlvbnMgaW4gdGhlIEluc2VydCBtZW51LCBmb3IgaW5zdGFuY2VcbiAqIHRvIG1ha2UgbmV3IHNlY3Rpb25zIHRvIG9yZ2FuaXplIHlvdXIgY3VzdG9tIGNvbXBvbmVudHNcbiAqXG4gKiAhW0V4YW1wbGUgb2Ygd2hhdCBhIGN1c3RvbSBzZWN0aW9uIGxvb2tzIGxpa2VdKGh0dHBzOi8vY2RuLmJ1aWxkZXIuaW8vYXBpL3YxL2ltYWdlL2Fzc2V0cyUyRjdmN2JiY2Y3MmExYTRkNzJiYWM1ZGFhMzU5ZTdiZWZkJTJGZTVmMjc5MmU5YzBmNDRlZDg5YTlkY2I3N2I5NDU4NTgpXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBCdWlsZGVyLnJlZ2lzdGVyKCdpbnNlcnRNZW51Jywge1xuICogICBuYW1lOiAnT3VyIGNvbXBvbmVudHMnLFxuICogICBpdGVtczogW1xuICogICAgIHsgbmFtZTogJ0hlcm8nIH0sXG4gKiAgICAgeyBuYW1lOiAnRG91YmxlIENvbHVtbnMnIH0sXG4gKiAgICAgeyBuYW1lOiAnVHJpcGxlIENvbHVtbnMnIH0sXG4gKiAgICAgeyBuYW1lOiAnRHluYW1pYyBDb2x1bW5zJyB9LFxuICogICBdLFxuICogfSlcbiAqIGBgYFxuICpcbiAqIFlvdSBjYW4gbWFrZSBhcyBtYW55IGN1c3RvbSBzZWN0aW9ucyBhcyB5b3UgbGlrZVxuICpcbiAqIFNlZSBhIGNvbXBsZXRlIHVzYWdlIGV4YW1wbGUgW2hlcmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9idWlsZGVyaW8vYnVpbGRlci9ibG9iL21haW4vZXhhbXBsZXMvcmVhY3QtZGVzaWduLXN5c3RlbS9zcmMvYnVpbGRlci1zZXR0aW5ncy5qcylcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnNlcnRNZW51Q29uZmlnIHtcbiAgbmFtZTogc3RyaW5nO1xuICBwcmlvcml0eT86IG51bWJlcjtcbiAgcGVyc2lzdD86IGJvb2xlYW47XG4gIGFkdmFuY2VkPzogYm9vbGVhbjtcbiAgaXRlbXM6IHJlYWRvbmx5IEluc2VydE1lbnVJdGVtW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCdWlsZGVyQ29tcG9uZW50KGluZm86IFBhcnRpYWw8Q29tcG9uZW50PiA9IHt9KSB7XG4gIHJldHVybiBCdWlsZGVyLkNvbXBvbmVudChpbmZvKTtcbn1cblxuLy8gVE9ET1xudHlwZSBTZXR0aW5ncyA9IGFueTtcblxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb24ge1xuICBuYW1lOiBzdHJpbmc7XG4gIGlucHV0cz86IHJlYWRvbmx5IElucHV0W107XG4gIHJldHVyblR5cGU/OiBJbnB1dDtcbiAgYWN0aW9uOiAob3B0aW9uczogUmVjb3JkPHN0cmluZywgYW55PikgPT4gc3RyaW5nO1xuICAvKipcbiAgICogSXMgYW4gYWN0aW9uIGZvciBleHByZXNzaW9uIChlLmcuIGNhbGN1bGF0aW5nIGEgYmluZGluZyBsaWtlIGEgZm9ybXVsYVxuICAgKiB0byBmaWxsIGEgdmFsdWUgYmFzZWQgb24gbG9jYWxlKSBvciBhIGZ1bmN0aW9uIChlLmcuIHNvbWV0aGluZyB0byB0cmlnZ2VyXG4gICAqIG9uIGFuIGV2ZW50IGxpa2UgYWRkIHRvIGNhcnQpIG9yIGVpdGhlciAoZS5nLiBhIGN1c3RvbSBjb2RlIGJsb2NrKVxuICAgKi9cbiAga2luZDogJ2V4cHJlc3Npb24nIHwgJ2Z1bmN0aW9uJyB8ICdhbnknO1xuICAvKipcbiAgICogR2xvYmFsbHkgdW5pcXVlIElEIGZvciBhbiBhY3Rpb24sIGUuZy4gXCJAYnVpbGRlci5pbzpzZXRTdGF0ZVwiXG4gICAqL1xuICBpZDogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgQnVpbGRlciB7XG4gIHN0YXRpYyBWRVJTSU9OID0gU0RLX1ZFUlNJT047XG5cbiAgc3RhdGljIGNvbXBvbmVudHM6IENvbXBvbmVudFtdID0gW107XG4gIHN0YXRpYyBzaW5nbGV0b25JbnN0YW5jZTogQnVpbGRlcjtcbiAgLyoqXG4gICAqIE1ha2VzIGl0IHNvIHRoYXQgYS9iIHRlc3RzIGdlbmVyYXRlIGNvZGUgbGlrZSB7QGxpbmtcbiAgICogaHR0cHM6Ly93d3cuYnVpbGRlci5pby9ibG9nL2hpZ2gtcGVyZm9ybWFuY2Utbm8tY29kZSNfX25leHQ6fjp0ZXh0PVN0YXRpYyUyMGdlbmVyYXRlZCUyMEElMkZCJTIwdGVzdGluZ31cbiAgICogaW5zdGVhZCBvZiB0aGUgb2xkIHdheSB3aGVyZSB3ZSByZW5kZXIgb25seSBvbmUgdGVzdCBncm91cCBhdCBhIHRpbWUgb24gdGhlXG4gICAqIHNlcnZlci4gVGhpcyBpcyB0aGUgcHJlZmVycmVkL2JldHRlciB3YXkgbm90IGFuZCB3ZSBzaG91bGQgdWx0aW1hdGVseSBtYWtlIGl0XG4gICAqIHRoZSBkZWZhdWx0XG4gICAqL1xuICBzdGF0aWMgaXNTdGF0aWMgPSB0cnVlO1xuICBzdGF0aWMgYW5pbWF0b3IgPSBuZXcgQW5pbWF0b3IoKTtcblxuICBzdGF0aWMgbmV4dFRpY2sgPSBuZXh0VGljaztcbiAgc3RhdGljIHRocm90dGxlID0gdGhyb3R0bGU7XG5cbiAgc3RhdGljIGVkaXRvcnM6IGFueVtdID0gW107XG4gIHN0YXRpYyB0cnVzdGVkSG9zdHM6IHN0cmluZ1tdID0gW1xuICAgICcqLmJldGEuYnVpbGRlci5pbycsXG4gICAgJ2JldGEuYnVpbGRlci5pbycsXG4gICAgJ2J1aWxkZXIuaW8nLFxuICAgICdsb2NhbGhvc3QnLFxuICAgICdxYS5idWlsZGVyLmlvJyxcbiAgXTtcbiAgc3RhdGljIHNlcnZlckNvbnRleHQ6IGFueTtcbiAgc3RhdGljIHBsdWdpbnM6IGFueVtdID0gW107XG5cbiAgc3RhdGljIGFjdGlvbnM6IEFjdGlvbltdID0gW107XG4gIHN0YXRpYyByZWdpc3RyeTogeyBba2V5OiBzdHJpbmddOiBhbnlbXSB9ID0ge307XG4gIHN0YXRpYyBvdmVycmlkZUhvc3Q6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc3RhdGljIGF0dHJpYnV0ZXNDb29raWVOYW1lID0gJ2J1aWxkZXIudXNlckF0dHJpYnV0ZXMnO1xuXG4gIC8qKlxuICAgKiBAdG9kbyBga2V5YCBwcm9wZXJ0eSBvbiBhbnkgaW5mbyB3aGVyZSBpZiBhIGtleSBtYXRjaGVzIGEgY3VycmVudFxuICAgKiBrZXkgaXQgZ2V0cyByZW1vdmVkXG4gICAqL1xuICBzdGF0aWMgcmVnaXN0ZXIodHlwZTogJ2luc2VydE1lbnUnLCBpbmZvOiBJbnNlcnRNZW51Q29uZmlnKTogdm9pZDtcbiAgc3RhdGljIHJlZ2lzdGVyKHR5cGU6IHN0cmluZywgaW5mbzogYW55KTogdm9pZDtcbiAgc3RhdGljIHJlZ2lzdGVyKHR5cGU6IHN0cmluZywgaW5mbzogYW55KSB7XG4gICAgaWYgKHR5cGUgPT09ICdwbHVnaW4nKSB7XG4gICAgICBpbmZvID0gdGhpcy5zZXJpYWxpemVJbmNsdWRpbmdGdW5jdGlvbnMoaW5mbywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogYWxsIG11c3QgaGF2ZSBuYW1lIGFuZCBjYW4ndCBjb25mbGljdD9cbiAgICBsZXQgdHlwZUxpc3QgPSB0aGlzLnJlZ2lzdHJ5W3R5cGVdO1xuICAgIGlmICghdHlwZUxpc3QpIHtcbiAgICAgIHR5cGVMaXN0ID0gdGhpcy5yZWdpc3RyeVt0eXBlXSA9IFtdO1xuICAgIH1cbiAgICB0eXBlTGlzdC5wdXNoKGluZm8pO1xuICAgIGlmIChCdWlsZGVyLmlzQnJvd3Nlcikge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgICAgdHlwZTogJ2J1aWxkZXIucmVnaXN0ZXInLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBpbmZvLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBhcmVudC5wb3N0TWVzc2FnZShtZXNzYWdlLCAnKicpO1xuICAgICAgICBpZiAocGFyZW50ICE9PSB3aW5kb3cpIHtcbiAgICAgICAgICB3aW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZSwgJyonKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ0NvdWxkIG5vdCBwb3N0bWVzc2FnZScsIGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVnaXN0cnlDaGFuZ2UubmV4dCh0aGlzLnJlZ2lzdHJ5KTtcbiAgfVxuXG4gIHN0YXRpYyByZWdpc3RyeUNoYW5nZSA9IG5ldyBCZWhhdmlvclN1YmplY3Qoe30gYXMgdHlwZW9mIEJ1aWxkZXIucmVnaXN0cnkpO1xuXG4gIHN0YXRpYyByZWdpc3RlckVkaXRvcihpbmZvOiBhbnkpIHtcbiAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZShcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdidWlsZGVyLnJlZ2lzdGVyRWRpdG9yJyxcbiAgICAgICAgICBkYXRhOiBvbWl0KGluZm8sICdjb21wb25lbnQnKSxcbiAgICAgICAgfSxcbiAgICAgICAgJyonXG4gICAgICApO1xuICAgICAgY29uc3QgeyBob3N0bmFtZSB9ID0gbG9jYXRpb247XG5cbiAgICAgIGlmICghQnVpbGRlci5pc1RydXN0ZWRIb3N0KGhvc3RuYW1lKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdCdWlsZGVyLnJlZ2lzdGVyRWRpdG9yKCkgY2FsbGVkIGluIHRoZSB3cm9uZyBlbnZpcm9ubWVudCEgWW91IGNhbm5vdCBsb2FkIGN1c3RvbSBlZGl0b3JzIGZyb20geW91ciBhcHAsIHRoZXkgbXVzdCBiZSBsb2FkZWQgdGhyb3VnaCB0aGUgQnVpbGRlci5pbyBhcHAgaXRzZWxmLiBGb2xsb3cgdGhlIHJlYWRtZSBoZXJlIGZvciBtb3JlIGRldGFpbHM6IGh0dHBzOi8vZ2l0aHViLmNvbS9idWlsZGVyaW8vYnVpbGRlci90cmVlL21hc3Rlci9wbHVnaW5zL2Nsb3VkaW5hcnkgb3IgY29udGFjdCBjaGF0IHVzIGluIG91ciBTcGVjdHJ1bSBjb21tdW5pdHkgZm9yIGhlbHA6IGh0dHBzOi8vc3BlY3RydW0uY2hhdC9idWlsZGVyJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmVkaXRvcnMucHVzaChpbmZvKTtcbiAgfVxuXG4gIHN0YXRpYyByZWdpc3RlclBsdWdpbihpbmZvOiBhbnkpIHtcbiAgICB0aGlzLnBsdWdpbnMucHVzaChpbmZvKTtcbiAgfVxuXG4gIHN0YXRpYyByZWdpc3RlckFjdGlvbihhY3Rpb246IEFjdGlvbikge1xuICAgIHRoaXMuYWN0aW9ucy5wdXNoKGFjdGlvbik7XG5cbiAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIGNvbnN0IGFjdGlvbkNsb25lID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhY3Rpb24pKTtcbiAgICAgIGlmIChhY3Rpb24uYWN0aW9uKSB7XG4gICAgICAgIGFjdGlvbkNsb25lLmFjdGlvbiA9IGFjdGlvbi5hY3Rpb24udG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5wYXJlbnQ/LnBvc3RNZXNzYWdlKFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2J1aWxkZXIucmVnaXN0ZXJBY3Rpb24nLFxuICAgICAgICAgIGRhdGE6IGFjdGlvbkNsb25lLFxuICAgICAgICB9LFxuICAgICAgICAnKidcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHJlZ2lzdGVyVHJ1c3RlZEhvc3QoaG9zdDogc3RyaW5nKSB7XG4gICAgdGhpcy50cnVzdGVkSG9zdHMucHVzaChob3N0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gY29udGV4dCBAdHlwZSB7aW1wb3J0KCdpc29sYXRlZC12bScpLkNvbnRleHR9XG4gICAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIGNvbnRyb2wgdGhlIGV4ZWN1dGlvbiBjb250ZXh0IG9mIGN1c3RvbSBjb2RlIG9uIHRoZSBzZXJ2ZXIuXG4gICAqIGNvbnN0IGl2bSA9IHJlcXVpcmUoJ2lzb2xhdGVkLXZtJyk7XG4gICAqIGNvbnN0IGlzb2xhdGUgPSBuZXcgaXZtLklzb2xhdGUoeyBtZW1vcnlMaW1pdDogMTI4IH0pO1xuICAgKiBjb25zdCBjb250ZXh0ID0gaXNvbGF0ZS5jcmVhdGVDb250ZXh0U3luYygpO1xuICAgKiBCdWlsZGVyLnNldFNlcnZlckNvbnRleHQoY29udGV4dCk7XG4gICAqL1xuICBzdGF0aWMgc2V0U2VydmVyQ29udGV4dChjb250ZXh0OiBhbnkpIHtcbiAgICB0aGlzLnNlcnZlckNvbnRleHQgPSBjb250ZXh0O1xuICB9XG5cbiAgc3RhdGljIGlzVHJ1c3RlZEhvc3QoaG9zdG5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IGlzVHJ1c3RlZCA9XG4gICAgICB0aGlzLnRydXN0ZWRIb3N0cy5maW5kSW5kZXgodHJ1c3RlZEhvc3QgPT5cbiAgICAgICAgdHJ1c3RlZEhvc3Quc3RhcnRzV2l0aCgnKi4nKVxuICAgICAgICAgID8gaG9zdG5hbWUuZW5kc1dpdGgodHJ1c3RlZEhvc3Quc2xpY2UoMSkpXG4gICAgICAgICAgOiB0cnVzdGVkSG9zdCA9PT0gaG9zdG5hbWVcbiAgICAgICkgPiAtMTtcblxuICAgIHJldHVybiBpc1RydXN0ZWQ7XG4gIH1cblxuICBzdGF0aWMgaXNUcnVzdGVkSG9zdEZvckV2ZW50KGV2ZW50OiBNZXNzYWdlRXZlbnQpIHtcbiAgICBpZiAoZXZlbnQub3JpZ2luID09PSAnbnVsbCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdXJsID0gcGFyc2UoZXZlbnQub3JpZ2luKTtcbiAgICByZXR1cm4gdXJsLmhvc3RuYW1lICYmIEJ1aWxkZXIuaXNUcnVzdGVkSG9zdCh1cmwuaG9zdG5hbWUpO1xuICB9XG5cbiAgc3RhdGljIHJ1bkFjdGlvbihhY3Rpb246IEFjdGlvbiB8IHN0cmluZykge1xuICAgIC8vIFRPRE9cbiAgICBjb25zdCBhY3Rpb25PYmplY3QgPVxuICAgICAgdHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycgPyBmaW5kKHRoaXMuYWN0aW9ucywgaXRlbSA9PiBpdGVtLm5hbWUgPT09IGFjdGlvbikgOiBhY3Rpb247XG5cbiAgICBpZiAoIWFjdGlvbk9iamVjdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY3Rpb24gbm90IGZvdW5kOiAke2FjdGlvbn1gKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZmllbGRzKG5hbWU6IHN0cmluZywgZmllbGRzOiByZWFkb25seSBJbnB1dFtdKSB7XG4gICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdidWlsZGVyLmZpZWxkcycsXG4gICAgICAgIGRhdGE6IHsgbmFtZSwgZmllbGRzIH0sXG4gICAgICB9LFxuICAgICAgJyonXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9lZGl0aW5nUGFnZSA9IGZhbHNlO1xuXG4gIHN0YXRpYyBpc0lmcmFtZSA9IGlzSWZyYW1lO1xuICBzdGF0aWMgaXNCcm93c2VyID0gaXNCcm93c2VyO1xuICBzdGF0aWMgaXNSZWFjdE5hdGl2ZSA9IGlzUmVhY3ROYXRpdmU7XG4gIHN0YXRpYyBpc1NlcnZlciA9ICFpc0Jyb3dzZXIgJiYgIWlzUmVhY3ROYXRpdmU7XG4gIHN0YXRpYyBwcmV2aWV3aW5nTW9kZWwgPSBCdWlsZGVyLmlzQnJvd3NlciAmJiBnZXRRdWVyeVBhcmFtKGxvY2F0aW9uLmhyZWYsICdidWlsZGVyLnByZXZpZXcnKTtcblxuICBzdGF0aWMgc2V0dGluZ3M6IFNldHRpbmdzID0ge307XG4gIHN0YXRpYyBzZXR0aW5nc0NoYW5nZSA9IG5ldyBCZWhhdmlvclN1YmplY3Q8U2V0dGluZ3M+KHt9KTtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQGhpZGRlblxuICAgKlxuICAgKiBVc2UgQnVpbGRlci5yZWdpc3RlcignZWRpdG9yLnNldHRpbmdzJywge30pIGluc3RlYWQuXG4gICAqL1xuICBzdGF0aWMgc2V0KHNldHRpbmdzOiBTZXR0aW5ncyk6IHZvaWQge1xuICAgIEJ1aWxkZXIucmVnaXN0ZXIoJ2VkaXRvci5zZXR0aW5ncycsIHNldHRpbmdzKTtcbiAgfVxuXG4gIHN0YXRpYyBpbXBvcnQocGFja2FnZU5hbWU6IHN0cmluZykge1xuICAgIGlmICghQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIC8vIFRPRE86IHNlcnZlciBzaWRlIHN1cHBvcnQgKm1heWJlKlxuICAgICAgY29uc29sZS53YXJuKCdCdWlsZGVyLmltcG9ydCB1c2VkIG9uIHRoZSBzZXJ2ZXIgLSB0aGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gdGhlIGJyb3dzZXInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBTeXN0ZW0gfSA9IHdpbmRvdyBhcyBhbnk7XG5cbiAgICBpZiAoIVN5c3RlbSkge1xuICAgICAgY29uc29sZS53YXJuKCdTeXN0ZW0uanMgbm90IGF2YWlsYWJsZS4gUGxlYXNlIGluY2x1ZGUgU3lzdGVtLmpzIHdoZW4gdXNpbmcgQnVpbGRlci5pbXBvcnQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIFN5c3RlbS5pbXBvcnQoYGh0dHBzOi8vY2RuLmJ1aWxkZXIuaW8vc3lzdGVtanMvJHtwYWNrYWdlTmFtZX1gKTtcbiAgfVxuXG4gIC8vIFRPRE86IHRoaXMgaXMgcXVpY2sgYW5kIGRpcnR5LCBkbyBiZXR0ZXIgaW1wbGVtZW50YXRpb24gbGF0ZXIuIEFsc28gY2FuIGJlIHVucmVsaWFibGVcbiAgLy8gaWYgcGFnZSAzMDFzIGV0Yy4gVXNlIGEgcXVlcnkgcGFyYW0gaW5zdGVhZD8gYWxzbyBjb3VsZCBoYXZlIGlzc3VlcyB3aXRoIHJlZGlyZWN0cy4gSW5qZWN0aW5nIHZhciBjb3VsZFxuICAvLyB3b3JrIGJ1dCBpcyBhc3luYy4uLlxuICBzdGF0aWMgaXNFZGl0aW5nID0gQm9vbGVhbihcbiAgICBpc0lmcmFtZSAmJlxuICAgICAgKChkb2N1bWVudC5yZWZlcnJlciAmJiBkb2N1bWVudC5yZWZlcnJlci5tYXRjaCgvYnVpbGRlclxcLmlvfGxvY2FsaG9zdDoxMjM0LykpIHx8XG4gICAgICAgIGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdidWlsZGVyLmZyYW1lRWRpdGluZz0nKSAhPT0gLTEpXG4gICk7XG5cbiAgc3RhdGljIGlzUHJldmlld2luZyA9IEJvb2xlYW4oXG4gICAgaXNCcm93c2VyICYmXG4gICAgICAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ2J1aWxkZXIucHJldmlldz0nKSAhPT0gLTEgfHxcbiAgICAgICAgbG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ2J1aWxkZXIuZnJhbWVFZGl0aW5nPScpICE9PSAtMSlcbiAgKTtcblxuICAvLyB1c2VDZG5BcGkgPSBmYWxzZTtcblxuICBzdGF0aWMgZ2V0IGVkaXRpbmdQYWdlKCkge1xuICAgIHJldHVybiB0aGlzLl9lZGl0aW5nUGFnZTtcbiAgfVxuXG4gIHN0YXRpYyBzZXQgZWRpdGluZ1BhZ2UoZWRpdGluZ1BhZ2UpIHtcbiAgICB0aGlzLl9lZGl0aW5nUGFnZSA9IGVkaXRpbmdQYWdlO1xuICAgIGlmIChpc0Jyb3dzZXIgJiYgaXNJZnJhbWUpIHtcbiAgICAgIGlmIChlZGl0aW5nUGFnZSkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2J1aWxkZXItZWRpdGluZy1wYWdlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2J1aWxkZXItZWRpdGluZy1wYWdlJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgc2VyaWFsaXplSW5jbHVkaW5nRnVuY3Rpb25zKGluZm86IGFueSwgaXNGb3JQbHVnaW4/OiBib29sZWFuKSB7XG4gICAgY29uc3Qgc2VyaWFsaXplRm4gPSAoZm5WYWx1ZTogRnVuY3Rpb24pID0+IHtcbiAgICAgIGNvbnN0IGZuU3RyID0gZm5WYWx1ZS50b1N0cmluZygpLnRyaW0oKTtcblxuICAgICAgLy8gd2UgbmVlZCB0byBhY2NvdW50IGZvciBhIGZldyBkaWZmZXJlbnQgZm4gc3ludGF4ZXM6XG4gICAgICAvLyAxLiBgZnVuY3Rpb24gbmFtZShhcmdzKSA9PiB7Y29kZX1gXG4gICAgICAvLyAyLiBgbmFtZShhcmdzKSA9PiB7Y29kZX1gXG4gICAgICAvLyAzLiBgKGFyZ3MpID0+IHt9YFxuICAgICAgLy8gNC4gYGFyZ3MgPT4ge31gXG4gICAgICAvLyA1LiBgYXN5bmMgZnVuY3Rpb24oYXJncykge2NvZGV9YFxuICAgICAgLy8gNi4gYGFzeW5jIChhcmdzKSA9PiB7fWBcbiAgICAgIC8vIDcuIGBhc3luYyBhcmdzID0+IHt9YFxuICAgICAgY29uc3QgaXNBcnJvd1dpdGhvdXRQYXJlbnMgPSAvXlthLXpBLVowLTlfXStcXHMqPT4vaS50ZXN0KGZuU3RyKTtcbiAgICAgIGNvbnN0IGFwcGVuZEZ1bmN0aW9uID1cbiAgICAgICAgIWZuU3RyLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uJykgJiZcbiAgICAgICAgIWZuU3RyLnN0YXJ0c1dpdGgoJ2FzeW5jJykgJiZcbiAgICAgICAgIWZuU3RyLnN0YXJ0c1dpdGgoJygnKSAmJlxuICAgICAgICAhaXNBcnJvd1dpdGhvdXRQYXJlbnM7XG5cbiAgICAgIHJldHVybiBgcmV0dXJuICgke2FwcGVuZEZ1bmN0aW9uID8gJ2Z1bmN0aW9uICcgOiAnJ30ke2ZuU3RyfSkuYXBwbHkodGhpcywgYXJndW1lbnRzKWA7XG4gICAgfTtcblxuICAgIGNvbnN0IG9ialRvUmV0dXJuID0gSlNPTi5wYXJzZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KGluZm8sIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHNob3VsZE5vdFNlcmlhbGl6ZUZuID0gaXNGb3JQbHVnaW4gJiYga2V5ID09PSAnb25TYXZlJztcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhc2hvdWxkTm90U2VyaWFsaXplRm4pIHtcbiAgICAgICAgICByZXR1cm4gc2VyaWFsaXplRm4odmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIGlmIChpc0ZvclBsdWdpbikge1xuICAgICAgb2JqVG9SZXR1cm4ub25TYXZlID0gaW5mby5vblNhdmU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9ialRvUmV0dXJuO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgcHJlcGFyZUNvbXBvbmVudFNwZWNUb1NlbmQoc3BlYzogQ29tcG9uZW50KTogQ29tcG9uZW50IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udGhpcy5zZXJpYWxpemVJbmNsdWRpbmdGdW5jdGlvbnMoc3BlYyksXG4gICAgICBjbGFzczogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgcmVnaXN0ZXJCbG9jayhjb21wb25lbnQ6IGFueSwgb3B0aW9uczogQ29tcG9uZW50KSB7XG4gICAgdGhpcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnQsIG9wdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIHJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudDogYW55LCBvcHRpb25zOiBDb21wb25lbnQpIHtcbiAgICBjb25zdCBzcGVjID0ge1xuICAgICAgY2xhc3M6IGNvbXBvbmVudCxcbiAgICAgIC4uLmNvbXBvbmVudC5idWlsZGVyT3B0aW9ucyxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfTtcbiAgICB0aGlzLmFkZENvbXBvbmVudChzcGVjKTtcbiAgICBjb25zdCBlZGl0YWJsZSA9XG4gICAgICBvcHRpb25zLm1vZGVscyAmJiB0aGlzLnNpbmdsZXRvbkluc3RhbmNlLmVkaXRpbmdNb2RlbFxuICAgICAgICA/IGlzQnJvd3NlciAmJiBvcHRpb25zLm1vZGVscy5pbmNsdWRlcyh0aGlzLnNpbmdsZXRvbkluc3RhbmNlLmVkaXRpbmdNb2RlbClcbiAgICAgICAgOiBpc0Jyb3dzZXI7XG4gICAgaWYgKGVkaXRhYmxlKSB7XG4gICAgICBjb25zdCBzZW5kU3BlYyA9IHRoaXMucHJlcGFyZUNvbXBvbmVudFNwZWNUb1NlbmQoc3BlYyk7XG4gICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdidWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50JyxcbiAgICAgICAgICBkYXRhOiBzZW5kU3BlYyxcbiAgICAgICAgfSxcbiAgICAgICAgJyonXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGFkZENvbXBvbmVudChjb21wb25lbnQ6IENvbXBvbmVudCkge1xuICAgIGNvbnN0IGN1cnJlbnQgPSBmaW5kKHRoaXMuY29tcG9uZW50cywgaXRlbSA9PiBpdGVtLm5hbWUgPT09IGNvbXBvbmVudC5uYW1lKTtcbiAgICBpZiAoY3VycmVudCkge1xuICAgICAgLy8gRklYTUU6IHdoeSBkb2VzIHNvbWV0aW1lcyB3ZSBnZXQgYW4gZXh0cmEgcG9zdCB3aXRob3V0IGNsYXNzIC0gcHJvYmFibHlcbiAgICAgIC8vIGZyb20gcG9zdE1lc3NhZ2UgaGFuZGxlciB3cm9uZyBpbiBzb21lIHBsYWNlXG4gICAgICBpZiAoY3VycmVudC5jbGFzcyAmJiAhY29tcG9uZW50LmNsYXNzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29tcG9uZW50cy5zcGxpY2UodGhpcy5jb21wb25lbnRzLmluZGV4T2YoY3VycmVudCksIDEsIGNvbXBvbmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogc3R5bGUgZ3VpZGUsIGV0YyBvZmYgdGhpcyBzeXN0ZW0gYXMgd2VsbD9cbiAgc3RhdGljIGNvbXBvbmVudChpbmZvOiBQYXJ0aWFsPENvbXBvbmVudD4gPSB7fSkge1xuICAgIHJldHVybiAoY29tcG9uZW50OiBDbGFzcykgPT4ge1xuICAgICAgY29uc3Qgc3BlYyA9IHsgLi4uaW5mbywgY2xhc3M6IGNvbXBvbmVudCB9O1xuICAgICAgaWYgKCFzcGVjLm5hbWUpIHtcbiAgICAgICAgc3BlYy5uYW1lID0gY29tcG9uZW50Lm5hbWU7XG4gICAgICB9XG4gICAgICB0aGlzLmFkZENvbXBvbmVudChzcGVjIGFzIENvbXBvbmVudCk7XG5cbiAgICAgIGNvbnN0IHNlbmRTcGVjID0gdGhpcy5wcmVwYXJlQ29tcG9uZW50U3BlY1RvU2VuZChzcGVjIGFzIENvbXBvbmVudCk7XG4gICAgICAvLyBUT0RPOiBzZXJpYWxpemUgY29tcG9uZW50IG5hbWUgYW5kIGlucHV0c1xuICAgICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiAnYnVpbGRlci5yZWdpc3RlckNvbXBvbmVudCcsXG4gICAgICAgICAgICBkYXRhOiBzZW5kU3BlYyxcbiAgICAgICAgICB9LFxuICAgICAgICAgICcqJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGlzUmVhY3QgPSBmYWxzZTtcbiAgc3RhdGljIHNka0luZm8gPSB1bmRlZmluZWQgYXNcbiAgICB8IHtcbiAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICB2ZXJzaW9uOiBzdHJpbmc7XG4gICAgICB9XG4gICAgfCB1bmRlZmluZWQ7XG5cbiAgc3RhdGljIGdldCBDb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50O1xuICB9XG5cbiAgcHJpdmF0ZSBldmVudHNRdWV1ZTogRXZlbnRbXSA9IFtdO1xuXG4gIHByaXZhdGUgdGhyb3R0bGVkQ2xlYXJFdmVudHNRdWV1ZSA9IHRocm90dGxlKCgpID0+IHtcbiAgICB0aGlzLnByb2Nlc3NFdmVudHNRdWV1ZSgpO1xuICAgIC8vIEV4dGVuZCB0aGUgc2Vzc2lvbiBjb29raWVcbiAgICB0aGlzLnNldENvb2tpZShzZXNzaW9uU3RvcmFnZUtleSwgdGhpcy5zZXNzaW9uSWQsIGRhdGVQbHVzTWludXRlcygzMCkpO1xuICB9LCA1KTtcblxuICBwcml2YXRlIHByb2Nlc3NFdmVudHNRdWV1ZSgpIHtcbiAgICBpZiAoIXRoaXMuZXZlbnRzUXVldWUubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuZXZlbnRzUXVldWU7XG4gICAgdGhpcy5ldmVudHNRdWV1ZSA9IFtdO1xuXG4gICAgY29uc3QgZnVsbFVzZXJBdHRyaWJ1dGVzID0ge1xuICAgICAgLi4uQnVpbGRlci5vdmVycmlkZVVzZXJBdHRyaWJ1dGVzLFxuICAgICAgLi4udGhpcy50cmFja2luZ1VzZXJBdHRyaWJ1dGVzLFxuICAgIH07XG4gICAgZm9yIChjb25zdCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgIGlmICghZXZlbnQuZGF0YS5tZXRhZGF0YSkge1xuICAgICAgICBldmVudC5kYXRhLm1ldGFkYXRhID0ge307XG4gICAgICB9XG4gICAgICBpZiAoIWV2ZW50LmRhdGEubWV0YWRhdGEudXNlcikge1xuICAgICAgICBldmVudC5kYXRhLm1ldGFkYXRhLnVzZXIgPSB7fTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5hc3NpZ24oZXZlbnQuZGF0YS5tZXRhZGF0YS51c2VyLCBmdWxsVXNlckF0dHJpYnV0ZXMsIGV2ZW50LmRhdGEubWV0YWRhdGEudXNlcik7XG4gICAgfVxuXG4gICAgY29uc3QgaG9zdCA9IHRoaXMuaG9zdDtcblxuICAgIGdldEZldGNoKCkoYCR7aG9zdH0vYXBpL3YxL3RyYWNrYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGV2ZW50cyB9KSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgLi4udGhpcy5nZXRTZGtIZWFkZXJzKCksXG4gICAgICB9LFxuICAgICAgbW9kZTogJ2NvcnMnLFxuICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgIC8vIE5vdCB0aGUgZW5kIG9mIHRoZSB3b3JsZFxuICAgIH0pO1xuICB9XG5cbiAgZW52OiBzdHJpbmcgPSAncHJvZHVjdGlvbic7XG5cbiAgc2Vzc2lvbklkID0gdGhpcy5nZXRTZXNzaW9uSWQoKTtcblxuICB0YXJnZXRDb250ZW50ID0gdHJ1ZTtcblxuICBjb250ZW50UGVyUmVxdWVzdCA9IDE7XG5cbiAgLy8gVE9ETzogbWFrZSBhcnJheSBvciBmdW5jdGlvblxuICBhbGxvd0N1c3RvbUZvbnRzID0gdHJ1ZTtcblxuICBwcml2YXRlIGNvb2tpZXM6IENvb2tpZXMgfCBudWxsID0gbnVsbDtcblxuICAvLyBUT0RPOiBhcGkgb3B0aW9ucyBvYmplY3RcbiAgcHJpdmF0ZSBjYWNoZWJ1c3QgPSBmYWxzZTtcbiAgcHJpdmF0ZSBvdmVycmlkZVBhcmFtcyA9ICcnO1xuICBwcml2YXRlIG5vQ2FjaGUgPSBmYWxzZTtcbiAgcHJpdmF0ZSBwcmV2aWV3ID0gZmFsc2U7XG5cbiAgZ2V0IGJyb3dzZXJUcmFja2luZ0Rpc2FibGVkKCkge1xuICAgIHJldHVybiBCdWlsZGVyLmlzQnJvd3NlciAmJiBCb29sZWFuKCh3aW5kb3cgYXMgYW55KS5idWlsZGVyTm9UcmFjayB8fCAhbmF2aWdhdG9yLmNvb2tpZUVuYWJsZWQpO1xuICB9XG5cbiAgZ2V0IGNhblRyYWNrKCkge1xuICAgIHJldHVybiB0aGlzLmNhblRyYWNrJC52YWx1ZTtcbiAgfVxuXG4gIHNldCBjYW5UcmFjayhjYW5UcmFjaykge1xuICAgIHRoaXMuaGFzT3ZlcnJpZGRlbkNhblRyYWNrID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5jYW5UcmFjayAhPT0gY2FuVHJhY2spIHtcbiAgICAgIHRoaXMuY2FuVHJhY2skLm5leHQoY2FuVHJhY2spO1xuICAgIH1cbiAgfVxuXG4gIGdldCBhcGlWZXJzaW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFwaVZlcnNpb24kLnZhbHVlO1xuICB9XG5cbiAgc2V0IGFwaVZlcnNpb24oYXBpVmVyc2lvbjogQXBpVmVyc2lvbiB8IHVuZGVmaW5lZCkge1xuICAgIGlmICh0aGlzLmFwaVZlcnNpb24gIT09IGFwaVZlcnNpb24pIHtcbiAgICAgIHRoaXMuYXBpVmVyc2lvbiQubmV4dChhcGlWZXJzaW9uKTtcbiAgICB9XG4gIH1cblxuICBnZXQgYXBpRW5kcG9pbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXBpRW5kcG9pbnQkLnZhbHVlO1xuICB9XG5cbiAgc2V0IGFwaUVuZHBvaW50KGFwaUVuZHBvaW50OiAnY29udGVudCcgfCAncXVlcnknKSB7XG4gICAgaWYgKHRoaXMuYXBpRW5kcG9pbnQgIT09IGFwaUVuZHBvaW50KSB7XG4gICAgICB0aGlzLmFwaUVuZHBvaW50JC5uZXh0KGFwaUVuZHBvaW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGljdGF0ZXMgd2hpY2ggQVBJIGVuZHBvaW50IGlzIHVzZWQgd2hlbiBmZXRjaGluZyBjb250ZW50LiBBbGxvd3MgYCdjb250ZW50J2AgYW5kIGAncXVlcnknYC5cbiAgICogRGVmYXVsdHMgdG8gYCdxdWVyeSdgLlxuICAgKi9cbiAgcHJpdmF0ZSBhcGlFbmRwb2ludCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PCdjb250ZW50JyB8ICdxdWVyeSc+KCdxdWVyeScpO1xuICBwcml2YXRlIGFwaVZlcnNpb24kID0gbmV3IEJlaGF2aW9yU3ViamVjdDxBcGlWZXJzaW9uIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBwcml2YXRlIGNhblRyYWNrJCA9IG5ldyBCZWhhdmlvclN1YmplY3QoIXRoaXMuYnJvd3NlclRyYWNraW5nRGlzYWJsZWQpO1xuICBwcml2YXRlIGhhc092ZXJyaWRkZW5DYW5UcmFjayA9IGZhbHNlO1xuICBwcml2YXRlIGFwaUtleSQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBwcml2YXRlIGF1dGhUb2tlbiQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIHVzZXJBdHRyaWJ1dGVzQ2hhbmdlZCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8YW55PihudWxsKTtcblxuICBnZXQgZWRpdGluZ01vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWRpdGluZ01vZGUkLnZhbHVlO1xuICB9XG5cbiAgc2V0IGVkaXRpbmdNb2RlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSB0aGlzLmVkaXRpbmdNb2RlKSB7XG4gICAgICB0aGlzLmVkaXRpbmdNb2RlJC5uZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBlZGl0aW5nTW9kZSQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KGlzSWZyYW1lKTtcblxuICBnZXQgZWRpdGluZ01vZGVsKCkge1xuICAgIHJldHVybiB0aGlzLmVkaXRpbmdNb2RlbCQudmFsdWU7XG4gIH1cblxuICBzZXQgZWRpdGluZ01vZGVsKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSB0aGlzLmVkaXRpbmdNb2RlbCkge1xuICAgICAgdGhpcy5lZGl0aW5nTW9kZWwkLm5leHQodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZmluZFBhcmVudEVsZW1lbnQoXG4gICAgdGFyZ2V0OiBIVE1MRWxlbWVudCxcbiAgICBjYWxsYmFjazogKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiBib29sZWFuLFxuICAgIGNoZWNrRWxlbWVudCA9IHRydWVcbiAgKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbiAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgcGFyZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBjaGVja0VsZW1lbnQgPyB0YXJnZXQgOiB0YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICBkbyB7XG4gICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbWF0Y2hlcyA9IGNhbGxiYWNrKHBhcmVudCk7XG4gICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgfVxuICAgIH0gd2hpbGUgKChwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudCkpO1xuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwcml2YXRlIGZpbmRCdWlsZGVyUGFyZW50KHRhcmdldDogSFRNTEVsZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kUGFyZW50RWxlbWVudCh0YXJnZXQsIGVsID0+IHtcbiAgICAgIGNvbnN0IGlkID0gZWwuZ2V0QXR0cmlidXRlKCdidWlsZGVyLWlkJykgfHwgZWwuaWQ7XG4gICAgICByZXR1cm4gQm9vbGVhbihpZCAmJiBpZC5pbmRleE9mKCdidWlsZGVyLScpID09PSAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFRPRE86IGRlY29yYXRvciB0byBkbyB0aGlzIHN0dWZmIHdpdGggdGhlIGdldC9zZXQgKGhvdyBkbyB3aXRoIHR5cGluZyB0b28/IGNvbXBpbGVyPylcbiAgZWRpdGluZ01vZGVsJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8bnVsbCB8IHN0cmluZz4obnVsbCk7XG5cbiAgc2V0VXNlckFnZW50KHVzZXJBZ2VudDogc3RyaW5nKSB7XG4gICAgdGhpcy51c2VyQWdlbnQgPSB1c2VyQWdlbnQgfHwgJyc7XG4gIH1cbiAgdXNlckFnZW50OiBzdHJpbmcgPSAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgJyc7XG5cbiAgdHJhY2tpbmdIb29rczogVHJhY2tpbmdIb29rW10gPSBbXTtcblxuICAvKipcbiAgICogU2V0IGEgaG9vayB0byBtb2RpZnkgZXZlbnRzIGJlaW5nIHRyYWNrZWQgZnJvbSBidWlsZGVyLCBzdWNoIGFzIGltcHJlc3Npb25zIGFuZCBjbGlja3NcbiAgICpcbiAgICogRm9yIGV4YW1wbGUsIHRvIHRyYWNrIHRoZSBtb2RlbCBJRCBvZiBlYWNoIGV2ZW50IGFzc29jaWF0ZWQgd2l0aCBjb250ZW50IGZvciBxdWVyeWluZ1xuICAgKiBieSBtb2RlLCB5b3UgY2FuIGRvXG4gICAqXG4gICAqICAgIGJ1aWxkZXIuc2V0VHJhY2tpbmdIb29rKChldmVudCwgY29udGV4dCkgPT4ge1xuICAgKiAgICAgIGlmIChjb250ZXh0LmNvbnRlbnQpIHtcbiAgICogICAgICAgIGV2ZW50LmRhdGEubWV0YWRhdGEubW9kZWxJZCA9IGNvbnRleHQuY29udGVudC5tb2RlbElkXG4gICAqICAgICAgfVxuICAgKiAgICB9KVxuICAgKi9cbiAgc2V0VHJhY2tpbmdIb29rKGhvb2s6IFRyYWNraW5nSG9vaykge1xuICAgIHRoaXMudHJhY2tpbmdIb29rcy5wdXNoKGhvb2spO1xuICB9XG5cbiAgdHJhY2soZXZlbnROYW1lOiBzdHJpbmcsIHByb3BlcnRpZXM6IFBhcnRpYWw8RXZlbnREYXRhPiA9IHt9LCBjb250ZXh0PzogYW55KSB7XG4gICAgLy8gVE9ETzogcXVldWUgdXAgdHJhY2sgcmVxdWVzdHMgYW5kIGZpcmUgdGhlbSBvZmYgd2hlbiBjYW5UcmFjayBzZXQgdG8gdHJ1ZSAtIG90aGVyd2lzZSBtYXkgZ2V0IGxvdHMgb2YgY2xpY2tzIHdpdGggbm8gaW1wcmVzc2lvbnNcbiAgICBpZiAoaXNJZnJhbWUgfHwgIWlzQnJvd3NlciB8fCBCdWlsZGVyLmlzUHJldmlld2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFwaUtleSA9IHRoaXMuYXBpS2V5O1xuICAgIGlmICghYXBpS2V5KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAnQnVpbGRlciBpbnRlZ3JhdGlvbiBlcnJvcjogTG9va3MgbGlrZSB0aGUgQnVpbGRlciBTREsgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHByb3Blcmx5ICh5b3VyIEFQSSBrZXkgaGFzIG5vdCBiZWVuIHNldCkuIE1ha2Ugc3VyZSB5b3UgYXJlIGNhbGxpbmcgYGJ1aWxkZXIuaW5pdChcIsKrWU9VUi1BUEktS0VZwrtcIik7YCBhcyBlYXJseSBhcyBwb3NzaWJsZSBpbiB5b3VyIGFwcGxpY2F0aW9uXFwncyBjb2RlLidcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGV2ZW50RGF0YTogRXZlbnQgPSBKU09OLnBhcnNlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0eXBlOiBldmVudE5hbWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAuLi5vbWl0KHByb3BlcnRpZXMsICdtZXRhJyksXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIHNka1ZlcnNpb246IEJ1aWxkZXIuVkVSU0lPTixcbiAgICAgICAgICAgIHVybDogbG9jYXRpb24uaHJlZixcbiAgICAgICAgICAgIC4uLnByb3BlcnRpZXMubWV0YSxcbiAgICAgICAgICAgIC4uLnByb3BlcnRpZXMubWV0YWRhdGEsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvd25lcklkOiBhcGlLZXksXG4gICAgICAgICAgdXNlckF0dHJpYnV0ZXM6IHRoaXMuZ2V0VXNlckF0dHJpYnV0ZXMoKSxcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgICAgIHZpc2l0b3JJZDogdGhpcy52aXNpdG9ySWQsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG5cbiAgICBmb3IgKGNvbnN0IGhvb2sgb2YgdGhpcy50cmFja2luZ0hvb2tzKSB7XG4gICAgICBjb25zdCByZXR1cm5WYWx1ZSA9IGhvb2soZXZlbnREYXRhLCBjb250ZXh0IHx8IHt9KTtcbiAgICAgIGlmIChyZXR1cm5WYWx1ZSkge1xuICAgICAgICBldmVudERhdGEgPSByZXR1cm5WYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBiYXRjaCBldmVudHNcbiAgICB0aGlzLmV2ZW50c1F1ZXVlLnB1c2goZXZlbnREYXRhKTtcblxuICAgIGlmICh0aGlzLmNhblRyYWNrKSB7XG4gICAgICB0aGlzLnRocm90dGxlZENsZWFyRXZlbnRzUXVldWUoKTtcbiAgICB9XG4gIH1cblxuICBnZXRTZXNzaW9uSWQoKSB7XG4gICAgbGV0IHNlc3Npb25JZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChCdWlsZGVyLmlzQnJvd3NlciAmJiB0eXBlb2Ygc2Vzc2lvblN0b3JhZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlc3Npb25JZCA9IHRoaXMuZ2V0Q29va2llKHNlc3Npb25TdG9yYWdlS2V5KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ1Nlc3Npb24gc3RvcmFnZSBlcnJvcicsIGVycik7XG4gICAgICAvLyBJdCdzIG9rXG4gICAgfVxuXG4gICAgaWYgKCFzZXNzaW9uSWQpIHtcbiAgICAgIHNlc3Npb25JZCA9IHV1aWQoKTtcbiAgICB9XG5cbiAgICAvLyBHaXZlIHRoZSBhcHAgYSBzZWNvbmQgdG8gc3RhcnQgdXAgYW5kIHNldCBjYW5UcmFjayB0byBmYWxzZSBpZiBuZWVkZWRcbiAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0aGlzLmNhblRyYWNrKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvb2tpZShzZXNzaW9uU3RvcmFnZUtleSwgc2Vzc2lvbklkLCBkYXRlUGx1c01pbnV0ZXMoMzApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0Nvb2tpZSBzZXR0aW5nIGVycm9yJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZXNzaW9uSWQ7XG4gIH1cblxuICAvLyBTZXQgdGhpcyB0byBjb250cm9sIHRoZSB1c2VySWRcbiAgLy8gVE9ETzogYWxsb3cgY2hhbmdpbmcgaXQgbWlkIHNlc3Npb24gYW5kIHVwZGF0aW5nIGV4aXN0aW5nIGRhdGEgdG8gYmUgYXNzb2NpYXRlZFxuICAvLyBlLmcuIGZvciB3aGVuIGEgdXNlciBuYXZpZ2F0ZXMgYW5kIHRoZW4gbG9ncyBpblxuICB2aXNpdG9ySWQ6IHN0cmluZyA9IHRoaXMuZ2V0VmlzaXRvcklkKCk7XG5cbiAgZ2V0VmlzaXRvcklkKCkge1xuICAgIGlmICh0aGlzLnZpc2l0b3JJZCkge1xuICAgICAgcmV0dXJuIHRoaXMudmlzaXRvcklkO1xuICAgIH1cbiAgICBsZXQgdmlzaXRvcklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgaWYgKEJ1aWxkZXIuaXNCcm93c2VyICYmIHR5cGVvZiBsb2NhbFN0b3JhZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIFRPRE86IGNvb2tpZSBpbnN0ZWFkP1xuICAgICAgICB2aXNpdG9ySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShsb2NhbFN0b3JhZ2VLZXkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5kZWJ1ZygnTG9jYWwgc3RvcmFnZSBlcnJvcicsIGVycik7XG4gICAgICAvLyBJdCdzIG9rXG4gICAgfVxuXG4gICAgaWYgKCF2aXNpdG9ySWQpIHtcbiAgICAgIHZpc2l0b3JJZCA9IHV1aWQoKTtcbiAgICB9XG5cbiAgICB0aGlzLnZpc2l0b3JJZCA9IHZpc2l0b3JJZDtcblxuICAgIC8vIEdpdmUgdGhlIGFwcCBhIHNlY29uZCB0byBzdGFydCB1cCBhbmQgc2V0IGNhblRyYWNrIHRvIGZhbHNlIGlmIG5lZWRlZFxuICAgIGlmIChCdWlsZGVyLmlzQnJvd3Nlcikge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHRoaXMuY2FuVHJhY2sgJiYgdHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdmlzaXRvcklkKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2NhbFN0b3JhZ2VLZXksIHZpc2l0b3JJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTZXNzaW9uIHN0b3JhZ2UgZXJyb3InLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHZpc2l0b3JJZDtcbiAgfVxuXG4gIHRyYWNrSW1wcmVzc2lvbihjb250ZW50SWQ6IHN0cmluZywgdmFyaWF0aW9uSWQ/OiBzdHJpbmcsIHByb3BlcnRpZXM/OiBhbnksIGNvbnRleHQ/OiBhbnkpIHtcbiAgICBpZiAoaXNJZnJhbWUgfHwgIWlzQnJvd3NlciB8fCBCdWlsZGVyLmlzUHJldmlld2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBUT0RPOiB1c2UgdGhpcy50cmFjayBtZXRob2RcbiAgICB0aGlzLnRyYWNrKFxuICAgICAgJ2ltcHJlc3Npb24nLFxuICAgICAge1xuICAgICAgICBjb250ZW50SWQsXG4gICAgICAgIHZhcmlhdGlvbklkOiB2YXJpYXRpb25JZCAhPT0gY29udGVudElkID8gdmFyaWF0aW9uSWQgOiB1bmRlZmluZWQsXG4gICAgICAgIG1ldGFkYXRhOiBwcm9wZXJ0aWVzLFxuICAgICAgfSxcbiAgICAgIGNvbnRleHRcbiAgICApO1xuICB9XG5cbiAgdHJhY2tDb252ZXJzaW9uKGFtb3VudD86IG51bWJlciwgY3VzdG9tUHJvcGVydGllcz86IGFueSk6IHZvaWQ7XG4gIHRyYWNrQ29udmVyc2lvbihcbiAgICBhbW91bnQ/OiBudW1iZXIsXG4gICAgY29udGVudElkPzogc3RyaW5nIHwgYW55LFxuICAgIHZhcmlhdGlvbklkPzogc3RyaW5nLFxuICAgIGN1c3RvbVByb3BlcnRpZXM/OiBhbnksXG4gICAgY29udGV4dD86IGFueVxuICApIHtcbiAgICBpZiAoaXNJZnJhbWUgfHwgIWlzQnJvd3NlciB8fCBCdWlsZGVyLmlzUHJldmlld2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtZXRhID0gdHlwZW9mIGNvbnRlbnRJZCA9PT0gJ29iamVjdCcgPyBjb250ZW50SWQgOiBjdXN0b21Qcm9wZXJ0aWVzO1xuICAgIGNvbnN0IHVzZUNvbnRlbnRJZCA9IHR5cGVvZiBjb250ZW50SWQgPT09ICdzdHJpbmcnID8gY29udGVudElkIDogdW5kZWZpbmVkO1xuXG4gICAgdGhpcy50cmFjaygnY29udmVyc2lvbicsIHsgYW1vdW50LCB2YXJpYXRpb25JZCwgbWV0YSwgY29udGVudElkOiB1c2VDb250ZW50SWQgfSwgY29udGV4dCk7XG4gIH1cblxuICBhdXRvVHJhY2sgPSAhQnVpbGRlci5pc0Jyb3dzZXJcbiAgICA/IGZhbHNlXG4gICAgOiAhdGhpcy5pc0RldmVsb3BtZW50RW52ICYmXG4gICAgICAhKEJ1aWxkZXIuaXNCcm93c2VyICYmIGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdidWlsZGVyLnByZXZpZXc9JykgIT09IC0xKTtcblxuICAvLyBUT0RPOiBzZXQgdGhpcyBmb3IgUUFcbiAgcHJpdmF0ZSBnZXQgaXNEZXZlbG9wbWVudEVudigpIHtcbiAgICAvLyBBdXRvbWF0aWMgZGV0ZXJtaW5pbmcgb2YgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRcbiAgICByZXR1cm4gKFxuICAgICAgQnVpbGRlci5pc0lmcmFtZSB8fFxuICAgICAgKEJ1aWxkZXIuaXNCcm93c2VyICYmIChsb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHwgbG9jYXRpb24ucG9ydCAhPT0gJycpKSB8fFxuICAgICAgdGhpcy5lbnYgIT09ICdwcm9kdWN0aW9uJ1xuICAgICk7XG4gIH1cblxuICB0cmFja0ludGVyYWN0aW9uKFxuICAgIGNvbnRlbnRJZDogc3RyaW5nLFxuICAgIHZhcmlhdGlvbklkPzogc3RyaW5nLFxuICAgIGFscmVhZHlUcmFja2VkT25lID0gZmFsc2UsXG4gICAgZXZlbnQ/OiBNb3VzZUV2ZW50LFxuICAgIGNvbnRleHQ/OiBhbnlcbiAgKSB7XG4gICAgaWYgKGlzSWZyYW1lIHx8ICFpc0Jyb3dzZXIgfHwgQnVpbGRlci5pc1ByZXZpZXdpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQgJiYgKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCk7XG4gICAgY29uc3QgdGFyZ2V0QnVpbGRlckVsZW1lbnQgPSB0YXJnZXQgJiYgdGhpcy5maW5kQnVpbGRlclBhcmVudCh0YXJnZXQpO1xuXG4gICAgZnVuY3Rpb24gcm91bmQobnVtOiBudW1iZXIpIHtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bSAqIDEwMDApIC8gMTAwMDtcbiAgICB9XG5cbiAgICBjb25zdCBtZXRhZGF0YTogYW55ID0ge307XG4gICAgaWYgKGV2ZW50KSB7XG4gICAgICBjb25zdCB7IGNsaWVudFgsIGNsaWVudFkgfSA9IGV2ZW50O1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBjb25zdCB0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB4T2Zmc2V0ID0gY2xpZW50WCAtIHRhcmdldFJlY3QubGVmdDtcbiAgICAgICAgY29uc3QgeU9mZnNldCA9IGNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcDtcblxuICAgICAgICBjb25zdCB4UmF0aW8gPSByb3VuZCh4T2Zmc2V0IC8gdGFyZ2V0UmVjdC53aWR0aCk7XG4gICAgICAgIGNvbnN0IHlSYXRpbyA9IHJvdW5kKHlPZmZzZXQgLyB0YXJnZXRSZWN0LmhlaWdodCk7XG5cbiAgICAgICAgbWV0YWRhdGEudGFyZ2V0T2Zmc2V0ID0ge1xuICAgICAgICAgIHg6IHhSYXRpbyxcbiAgICAgICAgICB5OiB5UmF0aW8sXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0QnVpbGRlckVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0UmVjdCA9IHRhcmdldEJ1aWxkZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB4T2Zmc2V0ID0gY2xpZW50WCAtIHRhcmdldFJlY3QubGVmdDtcbiAgICAgICAgY29uc3QgeU9mZnNldCA9IGNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcDtcblxuICAgICAgICBjb25zdCB4UmF0aW8gPSByb3VuZCh4T2Zmc2V0IC8gdGFyZ2V0UmVjdC53aWR0aCk7XG4gICAgICAgIGNvbnN0IHlSYXRpbyA9IHJvdW5kKHlPZmZzZXQgLyB0YXJnZXRSZWN0LmhlaWdodCk7XG5cbiAgICAgICAgbWV0YWRhdGEuYnVpbGRlclRhcmdldE9mZnNldCA9IHtcbiAgICAgICAgICB4OiB4UmF0aW8sXG4gICAgICAgICAgeTogeVJhdGlvLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGJ1aWxkZXJJZCA9XG4gICAgICB0YXJnZXRCdWlsZGVyRWxlbWVudCAmJlxuICAgICAgKHRhcmdldEJ1aWxkZXJFbGVtZW50LmdldEF0dHJpYnV0ZSgnYnVpbGRlci1pZCcpIHx8IHRhcmdldEJ1aWxkZXJFbGVtZW50LmlkKTtcblxuICAgIGlmIChidWlsZGVySWQgJiYgdGFyZ2V0QnVpbGRlckVsZW1lbnQpIHtcbiAgICAgIG1ldGFkYXRhLmJ1aWxkZXJFbGVtZW50SW5kZXggPSAoW10gYXMgRWxlbWVudFtdKS5zbGljZVxuICAgICAgICAuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJ1aWxkZXJJZCkpXG4gICAgICAgIC5pbmRleE9mKHRhcmdldEJ1aWxkZXJFbGVtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLnRyYWNrKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgIHtcbiAgICAgICAgY29udGVudElkLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgdmFyaWF0aW9uSWQ6IHZhcmlhdGlvbklkICE9PSBjb250ZW50SWQgPyB2YXJpYXRpb25JZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgdW5pcXVlOiAhYWxyZWFkeVRyYWNrZWRPbmUsXG4gICAgICAgIHRhcmdldEJ1aWxkZXJFbGVtZW50OiBidWlsZGVySWQgfHwgdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIGNvbnRleHRcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIG92ZXJyaWRlVXNlckF0dHJpYnV0ZXM6IFBhcnRpYWw8VXNlckF0dHJpYnV0ZXM+ID0ge307XG5cbiAgdHJhY2tpbmdVc2VyQXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuXG4gIGNvbXBvbmVudChpbmZvOiBQYXJ0aWFsPENvbXBvbmVudD4gPSB7fSkge1xuICAgIHJldHVybiBCdWlsZGVyLmNvbXBvbmVudChpbmZvKTtcbiAgfVxuXG4gIGdldCBhcGlLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXBpS2V5JC52YWx1ZTtcbiAgfVxuXG4gIHNldCBhcGlLZXkoa2V5OiBzdHJpbmcgfCBudWxsKSB7XG4gICAgdGhpcy5hcGlLZXkkLm5leHQoa2V5KTtcbiAgfVxuXG4gIGdldCBhdXRoVG9rZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXV0aFRva2VuJC52YWx1ZTtcbiAgfVxuXG4gIHNldCBhdXRoVG9rZW4odG9rZW46IHN0cmluZyB8IG51bGwpIHtcbiAgICB0aGlzLmF1dGhUb2tlbiQubmV4dCh0b2tlbik7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihcbiAgICBhcGlLZXk6IHN0cmluZyB8IG51bGwgPSBudWxsLFxuICAgIHByb3RlY3RlZCByZXF1ZXN0PzogSW5jb21pbmdNZXNzYWdlLFxuICAgIHByb3RlY3RlZCByZXNwb25zZT86IFNlcnZlclJlc3BvbnNlLFxuICAgIGZvcmNlTmV3SW5zdGFuY2UgPSBmYWxzZSxcbiAgICBhdXRoVG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsLFxuICAgIGFwaVZlcnNpb24/OiBBcGlWZXJzaW9uXG4gICkge1xuICAgIC8vIFRPRE86IHVzZSBhIHdpbmRvdyB2YXJpYWJsZSBmb3IgdGhpcyBwZXJoYXBzLCBlLmcuIGJjIHdlYmNvbXBvbmVudHMgbWF5IGJlIGxvYWRpbmcgYnVpbGRlciB0d2ljZVxuICAgIC8vIHdpdGggaXQncyBhbmQgcmVhY3QgKHVzZSByb2xsdXAgYnVpbGQgdG8gZml4KVxuICAgIGlmIChCdWlsZGVyLmlzQnJvd3NlciAmJiAhZm9yY2VOZXdJbnN0YW5jZSAmJiBCdWlsZGVyLnNpbmdsZXRvbkluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gQnVpbGRlci5zaW5nbGV0b25JbnN0YW5jZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yZXF1ZXN0ICYmIHRoaXMucmVzcG9uc2UpIHtcbiAgICAgIHRoaXMuc2V0VXNlckFnZW50KCh0aGlzLnJlcXVlc3QuaGVhZGVyc1sndXNlci1hZ2VudCddIGFzIHN0cmluZykgfHwgJycpO1xuICAgICAgdGhpcy5jb29raWVzID0gbmV3IENvb2tpZXModGhpcy5yZXF1ZXN0LCB0aGlzLnJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICBpZiAoYXBpS2V5KSB7XG4gICAgICB0aGlzLmFwaUtleSA9IGFwaUtleTtcbiAgICB9XG4gICAgaWYgKGFwaVZlcnNpb24pIHtcbiAgICAgIHRoaXMuYXBpVmVyc2lvbiA9IGFwaVZlcnNpb247XG4gICAgfVxuICAgIGlmIChhdXRoVG9rZW4pIHtcbiAgICAgIHRoaXMuYXV0aFRva2VuID0gYXV0aFRva2VuO1xuICAgIH1cbiAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICBpZiAoQnVpbGRlci5pc0VkaXRpbmcpIHtcbiAgICAgICAgdGhpcy5iaW5kTWVzc2FnZUxpc3RlbmVycygpO1xuXG4gICAgICAgIHBhcmVudC5wb3N0TWVzc2FnZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiAnYnVpbGRlci5hbmltYXRvck9wdGlvbnMnLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbjogMixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICAnKidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIC8vIFRPRE86IHBvc3RtZXNzYWdlIHRvIHBhcmVudCB0aGUgYnVpbGRlciBpbmZvIGZvciBldmVyeSBwYWNrYWdlXG4gICAgICAvLyB0eXBlOiAnYnVpbGRlci5zZGsnLCBkYXRhOiB7IG5hbWU6ICdAYnVpbGRlci5pby9yZWFjdCcsIHZlcnNpb246ICcwLjEuMjMnIH1cbiAgICAgIC8vICh3aW5kb3cgYXMgYW55KS5CVUlMREVSX1ZFUlNJT04gPSBCdWlsZGVyLlZFUlNJT047XG4gICAgICAvLyBFbnN1cmUgYWx3YXlzIG9uZSBCdWlsZGVyIGdsb2JhbCBzaW5nbGV0b25cbiAgICAgIC8vIFRPRE86IHNvbWUgcGVvcGxlIHdvbid0IHdhbnQgdGhpcywgZS5nLiByYWt1dGVuXG4gICAgICAvLyBNYXliZSBoaWRlIHRoaXMgYmVoaW5kIHN5bWJvbCBvciBvbiBkb2N1bWVudCwgZXRjXG4gICAgICAvLyBpZiAoKHdpbmRvdyBhcyBhbnkpLkJ1aWxkZXIpIHtcbiAgICAgIC8vICAgQnVpbGRlci5jb21wb25lbnRzID0gKHdpbmRvdyBhcyBhbnkpLkJ1aWxkZXIuY29tcG9uZW50cztcbiAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAvLyAgICh3aW5kb3cgYXMgYW55KS5CdWlsZGVyID0gQnVpbGRlcjtcbiAgICAgIC8vIH1cbiAgICB9XG5cbiAgICBpZiAoaXNJZnJhbWUpIHtcbiAgICAgIHRoaXMubWVzc2FnZUZyYW1lTG9hZGVkKCk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogb24gZGVzdHJveSBjbGVhciBzdWJzY3JpcHRpb25cbiAgICB0aGlzLmNhblRyYWNrJC5zdWJzY3JpYmUoKHZhbHVlOiBhbnkpID0+IHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHNlc3Npb25TdG9yYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXNlc3Npb25TdG9yYWdlLmdldEl0ZW0oc2Vzc2lvblN0b3JhZ2VLZXkpKSB7XG4gICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oc2Vzc2lvblN0b3JhZ2VLZXksIHRoaXMuc2Vzc2lvbklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1Nlc3Npb24gc3RvcmFnZSBlcnJvcicsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmV2ZW50c1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMudGhyb3R0bGVkQ2xlYXJFdmVudHNRdWV1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvb2tpZVF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuY29va2llUXVldWUuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29va2llKGl0ZW1bMF0sIGl0ZW1bMV0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuY29va2llUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgLy8gVE9ETzogZGVmZXIgc28gc3ViY2xhc3MgY29uc3RydWN0b3IgcnVucyBhbmQgaW5qZWN0cyBsb2NhdGlvbiBzZXJ2aWNlXG4gICAgICB0aGlzLnNldFRlc3RzRnJvbVVybCgpO1xuICAgICAgLy8gVE9ETzogZG8gdGhpcyBvbiBldmVyeSByZXF1ZXN0IHNlbmQ/XG4gICAgICB0aGlzLmdldE92ZXJyaWRlc0Zyb21RdWVyeVN0cmluZygpO1xuXG4gICAgICAvLyBjb29raWVzIHVzZWQgaW4gcGVyc29uYWxpemF0aW9uIGNvbnRhaW5lciBzY3JpcHQsIHNvIG5lZWQgdG8gc2V0IGJlZm9yZSBoeWRyYXRpb24gdG8gbWF0Y2ggc2NyaXB0IHJlc3VsdFxuICAgICAgY29uc3QgdXNlckF0dHJDb29raWUgPSB0aGlzLmdldENvb2tpZShCdWlsZGVyLmF0dHJpYnV0ZXNDb29raWVOYW1lKTtcbiAgICAgIGlmICh1c2VyQXR0ckNvb2tpZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBKU09OLnBhcnNlKHVzZXJBdHRyQ29va2llKTtcbiAgICAgICAgICB0aGlzLnNldFVzZXJBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKCdFcnJvciBwYXJzaW5nIHVzZXIgYXR0cmlidXRlcyBjb29raWUnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBtb2RpZnlTZWFyY2goc2VhcmNoOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gc2VhcmNoLnJlcGxhY2UoXG4gICAgICAvKF58JnxcXD8pKGJ1aWxkZXJfLio/KT0vZ2ksXG4gICAgICAoX21hdGNoLCBncm91cDEsIGdyb3VwMikgPT4gZ3JvdXAxICsgZ3JvdXAyLnJlcGxhY2UoL18vZywgJy4nKSArICc9J1xuICAgICk7XG4gIH1cblxuICBzZXRUZXN0c0Zyb21VcmwoKSB7XG4gICAgY29uc3Qgc2VhcmNoID0gdGhpcy5nZXRMb2NhdGlvbigpLnNlYXJjaDtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyYW1zID0gUXVlcnlTdHJpbmcucGFyc2VEZWVwKHRoaXMubW9kaWZ5U2VhcmNoKHNlYXJjaCB8fCAnJykuc3Vic3RyKDEpKTtcbiAgICAgIGNvbnN0IHRlc3RzID0gcGFyYW1zLmJ1aWxkZXIgJiYgcGFyYW1zLmJ1aWxkZXIudGVzdHM7XG4gICAgICBpZiAodGVzdHMgJiYgdHlwZW9mIHRlc3RzID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0ZXN0cykge1xuICAgICAgICAgIGlmICh0ZXN0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLnNldFRlc3RDb29raWUoa2V5LCB0ZXN0c1trZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdFcnJvciBwYXJzaW5nIHRlc3RzIGZyb20gVVJMJywgZSk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRPdmVycmlkZXMoKSB7XG4gICAgLy8gVWdseSAtIHBhc3MgZG93biBpbnN0YW5jZXMgcGVyIHJlcXVlc3QgaW5zdGVhZCB1c2luZyByZWFjdCBjb250ZXh0XG4gICAgLy8gb3IgdXNlIGJ1aWxkZXIuZ2V0KCdmb28nLCB7IHJlcSwgcmVzIH0pIGluIHJlYWN0Li4uLi4uLi4uLi5cbiAgICBCdWlsZGVyLm92ZXJyaWRlVXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICB0aGlzLmNhY2hlYnVzdCA9IGZhbHNlO1xuICAgIHRoaXMubm9DYWNoZSA9IGZhbHNlO1xuICAgIHRoaXMucHJldmlldyA9IGZhbHNlO1xuICAgIHRoaXMuZWRpdGluZ01vZGVsID0gbnVsbDtcbiAgICB0aGlzLm92ZXJyaWRlcyA9IHt9O1xuICAgIHRoaXMuZW52ID0gJ3Byb2R1Y3Rpb24nO1xuICAgIHRoaXMudXNlckFnZW50ID0gJyc7XG4gICAgdGhpcy5yZXF1ZXN0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucmVzcG9uc2UgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXRPdmVycmlkZXNGcm9tUXVlcnlTdHJpbmcoKSB7XG4gICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLmdldExvY2F0aW9uKCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFF1ZXJ5U3RyaW5nLnBhcnNlRGVlcCh0aGlzLm1vZGlmeVNlYXJjaChsb2NhdGlvbi5zZWFyY2ggfHwgJycpLnN1YnN0cigxKSk7XG4gICAgICBjb25zdCB7IGJ1aWxkZXIgfSA9IHBhcmFtcztcbiAgICAgIGlmIChidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICB1c2VyQXR0cmlidXRlcyxcbiAgICAgICAgICBvdmVycmlkZXMsXG4gICAgICAgICAgZW52LFxuICAgICAgICAgIGhvc3QsXG4gICAgICAgICAgYXBpLFxuICAgICAgICAgIGNhY2hlYnVzdCxcbiAgICAgICAgICBub0NhY2hlLFxuICAgICAgICAgIHByZXZpZXcsXG4gICAgICAgICAgZWRpdGluZyxcbiAgICAgICAgICBmcmFtZUVkaXRpbmcsXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICBwYXJhbXM6IG92ZXJyaWRlUGFyYW1zLFxuICAgICAgICB9ID0gYnVpbGRlcjtcblxuICAgICAgICBpZiAodXNlckF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICB0aGlzLnNldFVzZXJBdHRyaWJ1dGVzKHVzZXJBdHRyaWJ1dGVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgLy8gcGlja2luZyBvbmx5IGxvY2FsZSwgaW5jbHVkZVJlZnMsIGFuZCBlbnJpY2ggZm9yIG5vd1xuICAgICAgICAgIHRoaXMucXVlcnlPcHRpb25zID0ge1xuICAgICAgICAgICAgLi4uKG9wdGlvbnMubG9jYWxlICYmIHsgbG9jYWxlOiBvcHRpb25zLmxvY2FsZSB9KSxcbiAgICAgICAgICAgIC4uLihvcHRpb25zLmluY2x1ZGVSZWZzICYmIHsgaW5jbHVkZVJlZnM6IG9wdGlvbnMuaW5jbHVkZVJlZnMgfSksXG4gICAgICAgICAgICAuLi4ob3B0aW9ucy5lbnJpY2ggJiYgeyBlbnJpY2g6IG9wdGlvbnMuZW5yaWNoIH0pLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3ZlcnJpZGVzKSB7XG4gICAgICAgICAgdGhpcy5vdmVycmlkZXMgPSBvdmVycmlkZXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsaWRFbnZMaXN0LmluZGV4T2YoZW52IHx8IGFwaSkgPiAtMSkge1xuICAgICAgICAgIHRoaXMuZW52ID0gZW52IHx8IGFwaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChCdWlsZGVyLmlzRWRpdGluZykge1xuICAgICAgICAgIGNvbnN0IGVkaXRpbmdNb2RlbCA9IGZyYW1lRWRpdGluZyB8fCBlZGl0aW5nIHx8IHByZXZpZXc7XG4gICAgICAgICAgaWYgKGVkaXRpbmdNb2RlbCAmJiBlZGl0aW5nTW9kZWwgIT09ICd0cnVlJykge1xuICAgICAgICAgICAgdGhpcy5lZGl0aW5nTW9kZWwgPSBlZGl0aW5nTW9kZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhY2hlYnVzdCkge1xuICAgICAgICAgIHRoaXMuY2FjaGVidXN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub0NhY2hlKSB7XG4gICAgICAgICAgdGhpcy5ub0NhY2hlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcmV2aWV3KSB7XG4gICAgICAgICAgdGhpcy5wcmV2aWV3ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJhbXMpIHtcbiAgICAgICAgICB0aGlzLm92ZXJyaWRlUGFyYW1zID0gb3ZlcnJpZGVQYXJhbXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdFcnJvciBwYXJzaW5nIG92ZXJyaWRlcyBmcm9tIFVSTCcsIGUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgbWVzc2FnZUZyYW1lTG9hZGVkKCkge1xuICAgIHdpbmRvdy5wYXJlbnQ/LnBvc3RNZXNzYWdlKFxuICAgICAge1xuICAgICAgICB0eXBlOiAnYnVpbGRlci5sb2FkZWQnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgJyonXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgYmxvY2tDb250ZW50TG9hZGluZyA9ICcnO1xuXG4gIHByaXZhdGUgYmluZE1lc3NhZ2VMaXN0ZW5lcnMoKSB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IGlzVHJ1c3RlZCA9IEJ1aWxkZXIuaXNUcnVzdGVkSG9zdEZvckV2ZW50KGV2ZW50KTtcbiAgICAgIGlmICghaXNUcnVzdGVkKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gZXZlbnQ7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIucGluZyc6IHtcbiAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQ/LnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2J1aWxkZXIucG9uZycsXG4gICAgICAgICAgICAgICAgZGF0YToge30sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICcqJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdidWlsZGVyLnJlZ2lzdGVyJzoge1xuICAgICAgICAgICAgLy8gVE9ETzogcG9zc2libHkgZG8gdGhpcyBmb3IgYWxsLi4uXG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gZGF0YS5kYXRhO1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB0eXBlLCBpbmZvIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgLy8gVE9ETzogYWxsIG11c3QgaGF2ZSBuYW1lIGFuZCBjYW4ndCBjb25mbGljdD9cbiAgICAgICAgICAgIGxldCB0eXBlTGlzdCA9IEJ1aWxkZXIucmVnaXN0cnlbdHlwZV07XG4gICAgICAgICAgICBpZiAoIXR5cGVMaXN0KSB7XG4gICAgICAgICAgICAgIHR5cGVMaXN0ID0gQnVpbGRlci5yZWdpc3RyeVt0eXBlXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHlwZUxpc3QucHVzaChpbmZvKTtcbiAgICAgICAgICAgIEJ1aWxkZXIucmVnaXN0cnlDaGFuZ2UubmV4dChCdWlsZGVyLnJlZ2lzdHJ5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdidWlsZGVyLnNldHRpbmdzQ2hhbmdlJzoge1xuICAgICAgICAgICAgLy8gVE9ETzogcG9zc2libHkgZG8gdGhpcyBmb3IgYWxsLi4uXG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIGlmICghc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKEJ1aWxkZXIuc2V0dGluZ3MsIHNldHRpbmdzKTtcbiAgICAgICAgICAgIEJ1aWxkZXIuc2V0dGluZ3NDaGFuZ2UubmV4dChCdWlsZGVyLnNldHRpbmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdidWlsZGVyLnJlZ2lzdGVyRWRpdG9yJzoge1xuICAgICAgICAgICAgLy8gVE9ETzogcG9zc2libHkgZG8gdGhpcyBmb3IgYWxsLi4uXG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbmZvID0gZGF0YS5kYXRhO1xuICAgICAgICAgICAgaWYgKCFpbmZvKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGFzQ29tcG9uZW50ID0gISFpbmZvLmNvbXBvbmVudDtcbiAgICAgICAgICAgIEJ1aWxkZXIuZWRpdG9ycy5ldmVyeSgodGhpc0luZm8sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpbmZvLm5hbWUgPT09IHRoaXNJbmZvLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpc0luZm8uY29tcG9uZW50ICYmICFoYXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgQnVpbGRlci5lZGl0b3JzW2luZGV4XSA9IHRoaXNJbmZvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdidWlsZGVyLnRyaWdnZXJBbmltYXRpb24nOiB7XG4gICAgICAgICAgICBCdWlsZGVyLmFuaW1hdG9yLnRyaWdnZXJBbmltYXRpb24oZGF0YS5kYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdidWlsZGVyLmNvbnRlbnRVcGRhdGUnOlxuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGF0YS5kYXRhLmtleSB8fCBkYXRhLmRhdGEuYWxpYXMgfHwgZGF0YS5kYXRhLmVudHJ5IHx8IGRhdGEuZGF0YS5tb2RlbE5hbWU7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50RGF0YSA9IGRhdGEuZGF0YS5kYXRhOyAvLyBobW1tLi4uXG4gICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXJzQnlLZXlba2V5XTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlciAmJiAhdGhpcy5ub0VkaXRvclVwZGF0ZXNba2V5XSkge1xuICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KFtjb250ZW50RGF0YV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdidWlsZGVyLmdldENvbXBvbmVudHMnOlxuICAgICAgICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnYnVpbGRlci5jb21wb25lbnRzJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBCdWlsZGVyLmNvbXBvbmVudHMubWFwKGl0ZW0gPT4gQnVpbGRlci5wcmVwYXJlQ29tcG9uZW50U3BlY1RvU2VuZChpdGVtKSksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICcqJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5lZGl0aW5nTW9kZWwnOlxuICAgICAgICAgICAgdGhpcy5lZGl0aW5nTW9kZWwgPSBkYXRhLmRhdGEubW9kZWw7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIucmVnaXN0ZXJDb21wb25lbnQnOlxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50RGF0YSA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIEJ1aWxkZXIuYWRkQ29tcG9uZW50KGNvbXBvbmVudERhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdidWlsZGVyLmJsb2NrQ29udGVudExvYWRpbmcnOlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmRhdGEubW9kZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHRoaXMuYmxvY2tDb250ZW50TG9hZGluZyA9IGRhdGEuZGF0YS5tb2RlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5lZGl0aW5nTW9kZSc6XG4gICAgICAgICAgICBjb25zdCBlZGl0aW5nTW9kZSA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIGlmIChlZGl0aW5nTW9kZSkge1xuICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdidWlsZGVyLWVkaXRpbmcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZWRpdGluZ01vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdidWlsZGVyLWVkaXRpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5lZGl0aW5nUGFnZU1vZGUnOlxuICAgICAgICAgICAgY29uc3QgZWRpdGluZ1BhZ2VNb2RlID0gZGF0YS5kYXRhO1xuICAgICAgICAgICAgQnVpbGRlci5lZGl0aW5nUGFnZSA9IGVkaXRpbmdQYWdlTW9kZTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5vdmVycmlkZVVzZXJBdHRyaWJ1dGVzJzpcbiAgICAgICAgICAgIGNvbnN0IHVzZXJBdHRyaWJ1dGVzID0gZGF0YS5kYXRhO1xuICAgICAgICAgICAgYXNzaWduKEJ1aWxkZXIub3ZlcnJpZGVVc2VyQXR0cmlidXRlcywgdXNlckF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgdGhpcy5mbHVzaEdldENvbnRlbnRRdWV1ZSh0cnVlKTtcbiAgICAgICAgICAgIC8vIFRPRE86IHJlZmV0Y2ggdG9vXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIub3ZlcnJpZGVUZXN0R3JvdXAnOlxuICAgICAgICAgICAgY29uc3QgeyB2YXJpYXRpb25JZCwgY29udGVudElkIH0gPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICBpZiAodmFyaWF0aW9uSWQgJiYgY29udGVudElkKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0VGVzdENvb2tpZShjb250ZW50SWQsIHZhcmlhdGlvbklkKTtcbiAgICAgICAgICAgICAgdGhpcy5mbHVzaEdldENvbnRlbnRRdWV1ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIuZXZhbHVhdGUnOiB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGF0YS5kYXRhLnRleHQ7XG4gICAgICAgICAgICBjb25zdCBhcmdzID0gZGF0YS5kYXRhLmFyZ3VtZW50cyB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZGF0YS5kYXRhLmlkO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWZ1bmN0aW9uLWNvbnN0cnVjdG9yLXdpdGgtc3RyaW5nLWFyZ3NcbiAgICAgICAgICAgIGNvbnN0IGZuID0gbmV3IEZ1bmN0aW9uKHRleHQpO1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogYW55O1xuICAgICAgICAgICAgbGV0IGVycm9yOiBFcnJvciB8IG51bGwgPSBudWxsO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgZXJyb3IgPSB0b0Vycm9yKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnYnVpbGRlci5ldmFsdWF0ZUVycm9yJyxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHsgaWQsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnKidcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgKHJlc3VsdCBhcyBQcm9taXNlPGFueT4pXG4gICAgICAgICAgICAgICAgICAudGhlbihmaW5hbFJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQ/LnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdidWlsZGVyLmV2YWx1YXRlUmVzdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgaWQsIHJlc3VsdDogZmluYWxSZXN1bHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICcqJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2J1aWxkZXIuZXZhbHVhdGVSZXN1bHQnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IHJlc3VsdCwgaWQgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAnKidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9ic2VydmVyc0J5S2V5OiB7IFtrZXk6IHN0cmluZ106IEJlaGF2aW9yU3ViamVjdDxCdWlsZGVyQ29udGVudFtdPiB8IHVuZGVmaW5lZCB9ID0ge307XG4gIG5vRWRpdG9yVXBkYXRlczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcblxuICBnZXQgZGVmYXVsdENhblRyYWNrKCkge1xuICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgQnVpbGRlci5pc0Jyb3dzZXIgJiZcbiAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC50cmltKCkgJiZcbiAgICAgICAgIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goXG4gICAgICAgICAgL2JvdHxjcmF3bGVyfHNwaWRlcnxyb2JvdHxjcmF3bGluZ3xwcmVyZW5kZXJ8Z29vZ2xlfGJhaWR1fGJpbmd8bXNufGR1Y2tkdWNrYm90fHRlb21hfHNsdXJwfHlhbmRleHxwaGFudG9tfGhlYWRsZXNzfHNlbGVuaXVtfHB1cHBldGVlci9pXG4gICAgICAgICkgJiZcbiAgICAgICAgIXRoaXMuYnJvd3NlclRyYWNraW5nRGlzYWJsZWRcbiAgICApO1xuICB9XG5cbiAgaW5pdChcbiAgICBhcGlLZXk6IHN0cmluZyxcbiAgICBjYW5UcmFjayA9IHRoaXMuZGVmYXVsdENhblRyYWNrLFxuICAgIHJlcT86IEluY29taW5nTWVzc2FnZSxcbiAgICByZXM/OiBTZXJ2ZXJSZXNwb25zZSxcbiAgICBhdXRoVG9rZW4/OiBzdHJpbmcgfCBudWxsLFxuICAgIGFwaVZlcnNpb24/OiBBcGlWZXJzaW9uXG4gICkge1xuICAgIGlmIChyZXEpIHtcbiAgICAgIHRoaXMucmVxdWVzdCA9IHJlcTtcbiAgICB9XG4gICAgaWYgKHJlcykge1xuICAgICAgdGhpcy5yZXNwb25zZSA9IHJlcztcbiAgICB9XG4gICAgaWYgKCF0aGlzLmhhc092ZXJyaWRkZW5DYW5UcmFjaykge1xuICAgICAgdGhpcy5jYW5UcmFjayA9IGNhblRyYWNrO1xuICAgIH1cbiAgICB0aGlzLmFwaUtleSA9IGFwaUtleTtcbiAgICBpZiAoYXV0aFRva2VuKSB7XG4gICAgICB0aGlzLmF1dGhUb2tlbiA9IGF1dGhUb2tlbjtcbiAgICB9XG4gICAgaWYgKGFwaVZlcnNpb24pIHtcbiAgICAgIHRoaXMuYXBpVmVyc2lvbiA9IGFwaVZlcnNpb247XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0IHByZXZpZXdpbmdNb2RlbCgpIHtcbiAgICBjb25zdCBzZWFyY2ggPSB0aGlzLmdldExvY2F0aW9uKCkuc2VhcmNoO1xuICAgIGNvbnN0IHBhcmFtcyA9IFF1ZXJ5U3RyaW5nLnBhcnNlKChzZWFyY2ggfHwgJycpLnN1YnN0cigxKSk7XG4gICAgcmV0dXJuIHBhcmFtc1snYnVpbGRlci5wcmV2aWV3J107XG4gIH1cblxuICAvLyBUT0RPOiBhbGxvdyBhZGRpbmcgbG9jYXRpb24gb2JqZWN0IGFzIHByb3BlcnR5IGFuZC9vciBpbiBjb25zdHJ1Y3RvclxuICBnZXRMb2NhdGlvbigpOiBVcmwge1xuICAgIGxldCBwYXJzZWRMb2NhdGlvbjogYW55ID0ge307XG5cbiAgICAvLyBpbiBzc3IgbW9kZVxuICAgIGlmICh0aGlzLnJlcXVlc3QpIHtcbiAgICAgIHBhcnNlZExvY2F0aW9uID0gcGFyc2UodGhpcy5yZXF1ZXN0LnVybCA/PyAnJyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBpbiB0aGUgYnJvd3NlclxuICAgICAgcGFyc2VkTG9jYXRpb24gPSBwYXJzZShsb2NhdGlvbi5ocmVmKTtcbiAgICB9XG5cbiAgICAvLyBJRTExIGJ1ZyB3aXRoIHBhcnNlZCBwYXRoIGJlaW5nIGVtcHR5IHN0cmluZ1xuICAgIC8vIGNhdXNlcyBpc3N1ZXMgd2l0aCBvdXIgdXNlciB0YXJnZXRpbmdcbiAgICBpZiAocGFyc2VkTG9jYXRpb24ucGF0aG5hbWUgPT09ICcnKSB7XG4gICAgICBwYXJzZWRMb2NhdGlvbi5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VkTG9jYXRpb247XG4gIH1cblxuICBnZXRVc2VyQXR0cmlidXRlcyh1c2VyQWdlbnQgPSB0aGlzLnVzZXJBZ2VudCB8fCAnJykge1xuICAgIGNvbnN0IGlzTW9iaWxlID0ge1xuICAgICAgQW5kcm9pZCgpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC9pKTtcbiAgICAgIH0sXG4gICAgICBCbGFja0JlcnJ5KCkge1xuICAgICAgICByZXR1cm4gdXNlckFnZW50Lm1hdGNoKC9CbGFja0JlcnJ5L2kpO1xuICAgICAgfSxcbiAgICAgIGlPUygpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJBZ2VudC5tYXRjaCgvaVBob25lfGlQb2QvaSk7XG4gICAgICB9LFxuICAgICAgT3BlcmEoKSB7XG4gICAgICAgIHJldHVybiB1c2VyQWdlbnQubWF0Y2goL09wZXJhIE1pbmkvaSk7XG4gICAgICB9LFxuICAgICAgV2luZG93cygpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJBZ2VudC5tYXRjaCgvSUVNb2JpbGUvaSkgfHwgdXNlckFnZW50Lm1hdGNoKC9XUERlc2t0b3AvaSk7XG4gICAgICB9LFxuICAgICAgYW55KCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGlzTW9iaWxlLkFuZHJvaWQoKSB8fFxuICAgICAgICAgIGlzTW9iaWxlLkJsYWNrQmVycnkoKSB8fFxuICAgICAgICAgIGlzTW9iaWxlLmlPUygpIHx8XG4gICAgICAgICAgaXNNb2JpbGUuT3BlcmEoKSB8fFxuICAgICAgICAgIGlzTW9iaWxlLldpbmRvd3MoKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3QgaXNUYWJsZXQgPSB1c2VyQWdlbnQubWF0Y2goL1RhYmxldHxpUGFkL2kpO1xuXG4gICAgY29uc3QgdXJsID0gdGhpcy5nZXRMb2NhdGlvbigpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVybFBhdGg6IHVybC5wYXRobmFtZSxcbiAgICAgIGhvc3Q6IHVybC5ob3N0IHx8IHVybC5ob3N0bmFtZSxcbiAgICAgIC8vIFRPRE86IG1heWJlIGFuIG9wdGlvbiB0byBjaG9vc2UgdG8gdGFyZ2V0IG9mZiBvZiBtb2JpbGUvdGFibGV0L2Rlc2t0b3Agb3IganVzdCBtb2JpbGUvZGVza3RvcFxuICAgICAgZGV2aWNlOiBpc1RhYmxldCA/ICd0YWJsZXQnIDogaXNNb2JpbGUuYW55KCkgPyAnbW9iaWxlJyA6ICdkZXNrdG9wJyxcbiAgICAgIC4uLkJ1aWxkZXIub3ZlcnJpZGVVc2VyQXR0cmlidXRlcyxcbiAgICB9IGFzIFVzZXJBdHRyaWJ1dGVzO1xuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICBwcm90ZWN0ZWQgcXVlcnlPcHRpb25zOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG5cbiAgcHJpdmF0ZSBnZXRDb250ZW50UXVldWU6IG51bGwgfCBHZXRDb250ZW50T3B0aW9uc1tdID0gbnVsbDtcbiAgcHJpdmF0ZSBwcmlvckNvbnRlbnRRdWV1ZTogbnVsbCB8IEdldENvbnRlbnRPcHRpb25zW10gPSBudWxsO1xuXG4gIHNldFVzZXJBdHRyaWJ1dGVzKG9wdGlvbnM6IG9iamVjdCkge1xuICAgIGFzc2lnbihCdWlsZGVyLm92ZXJyaWRlVXNlckF0dHJpYnV0ZXMsIG9wdGlvbnMpO1xuICAgIGlmICh0aGlzLmNhblRyYWNrKSB7XG4gICAgICB0aGlzLnNldENvb2tpZShCdWlsZGVyLmF0dHJpYnV0ZXNDb29raWVOYW1lLCBKU09OLnN0cmluZ2lmeSh0aGlzLmdldFVzZXJBdHRyaWJ1dGVzKCkpKTtcbiAgICB9XG5cbiAgICB0aGlzLnVzZXJBdHRyaWJ1dGVzQ2hhbmdlZC5uZXh0KG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB1c2VyIGF0dHJpYnV0ZXMganVzdCBmb3IgdHJhY2tpbmcgcHVycG9zZXMuXG4gICAqXG4gICAqIERvIHRoaXMgc28gcHJvcGVydGllcyBleGlzdCBvbiBldmVudCBvYmplY3RzIGZvciBxdWVyeWluZyBpbnNpZ2h0cywgYnV0XG4gICAqIHdvbid0IGFmZmVjdCB0YXJnZXRpbmdcbiAgICpcbiAgICogVXNlIHRoaXMgd2hlbiB5b3Ugd2FudCB0byB0cmFjayBwcm9wZXJ0aWVzIGJ1dCBkb24ndCBuZWVkIHRvIHRhcmdldCBvZmZcbiAgICogb2YgdGhlbSB0byBvcHRpbWl6ZSBjYWNoZSBlZmZpY2llbmN5XG4gICAqL1xuICBzZXRUcmFja2luZ1VzZXJBdHRyaWJ1dGVzKGF0dHJpYnV0ZXM6IG9iamVjdCkge1xuICAgIGFzc2lnbih0aGlzLnRyYWNraW5nVXNlckF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMpO1xuICB9XG5cbiAgZ2V0KFxuICAgIG1vZGVsTmFtZTogc3RyaW5nLFxuICAgIG9wdGlvbnM6IEdldENvbnRlbnRPcHRpb25zICYge1xuICAgICAgcmVxPzogSW5jb21pbmdNZXNzYWdlO1xuICAgICAgcmVzPzogU2VydmVyUmVzcG9uc2U7XG4gICAgICBhcGlLZXk/OiBzdHJpbmc7XG4gICAgICBhdXRoVG9rZW4/OiBzdHJpbmc7XG4gICAgfSA9IHt9XG4gICkge1xuICAgIGxldCBpbnN0YW5jZTogQnVpbGRlciA9IHRoaXM7XG4gICAgbGV0IGZpbmFsTG9jYWxlID1cbiAgICAgIG9wdGlvbnMubG9jYWxlIHx8IG9wdGlvbnMudXNlckF0dHJpYnV0ZXM/LmxvY2FsZSB8fCB0aGlzLmdldFVzZXJBdHRyaWJ1dGVzKCkubG9jYWxlO1xuXG4gICAgaWYgKCEoJ25vVHJhdmVyc2UnIGluIG9wdGlvbnMpKSB7XG4gICAgICBvcHRpb25zLm5vVHJhdmVyc2UgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgZmluYWxPcHRpb25zID0ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIC4uLihmaW5hbExvY2FsZSAmJiB7XG4gICAgICAgIGxvY2FsZTogU3RyaW5nKGZpbmFsTG9jYWxlKSxcbiAgICAgICAgdXNlckF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICBsb2NhbGU6IFN0cmluZyhmaW5hbExvY2FsZSksXG4gICAgICAgICAgLi4ub3B0aW9ucy51c2VyQXR0cmlidXRlcyxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH07XG4gICAgaWYgKCFCdWlsZGVyLmlzQnJvd3Nlcikge1xuICAgICAgaW5zdGFuY2UgPSBuZXcgQnVpbGRlcihcbiAgICAgICAgb3B0aW9ucy5hcGlLZXkgfHwgdGhpcy5hcGlLZXksXG4gICAgICAgIG9wdGlvbnMucmVxLFxuICAgICAgICBvcHRpb25zLnJlcyxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBvcHRpb25zLmF1dGhUb2tlbiB8fCB0aGlzLmF1dGhUb2tlbixcbiAgICAgICAgb3B0aW9ucy5hcGlWZXJzaW9uIHx8IHRoaXMuYXBpVmVyc2lvblxuICAgICAgKTtcbiAgICAgIGluc3RhbmNlLmFwaUVuZHBvaW50ID0gdGhpcy5hcGlFbmRwb2ludDtcbiAgICAgIGluc3RhbmNlLnNldFVzZXJBdHRyaWJ1dGVzKHRoaXMuZ2V0VXNlckF0dHJpYnV0ZXMoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5PVEU6IEFsbCB0aGVzZSBhcmUgd2hlbiAuaW5pdCBpcyBub3QgY2FsbGVkIGFuZCB0aGUgY3VzdG9tZXJcbiAgICAgIC8vIGRpcmVjdGx5IGNhbGxzIC5nZXQgb24gdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiBCdWlsZGVyXG4gICAgICBpZiAob3B0aW9ucy5hcGlLZXkgJiYgIXRoaXMuYXBpS2V5KSB7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gb3B0aW9ucy5hcGlLZXk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5hdXRoVG9rZW4gJiYgIXRoaXMuYXV0aFRva2VuKSB7XG4gICAgICAgIHRoaXMuYXV0aFRva2VuID0gb3B0aW9ucy5hdXRoVG9rZW47XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5hcGlWZXJzaW9uICYmICF0aGlzLmFwaVZlcnNpb24pIHtcbiAgICAgICAgdGhpcy5hcGlWZXJzaW9uID0gb3B0aW9ucy5hcGlWZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2UucXVldWVHZXRDb250ZW50KG1vZGVsTmFtZSwgZmluYWxPcHRpb25zKS5tYXAoXG4gICAgICAvKiBtYXAoICovIChtYXRjaGVzOiBhbnlbXSB8IG51bGwpID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBtYXRjaGVzICYmIG1hdGNoZXNbMF07XG4gICAgICAgIGlmIChCdWlsZGVyLmlzU3RhdGljKSB7XG4gICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWF0Y2hEYXRhID0gbWF0Y2ggJiYgbWF0Y2guZGF0YTtcbiAgICAgICAgaWYgKCFtYXRjaERhdGEpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgbWF0Y2hEYXRhLmJsb2Nrc1N0cmluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBtYXRjaERhdGEuYmxvY2tzID0gSlNPTi5wYXJzZShtYXRjaERhdGEuYmxvY2tzU3RyaW5nKTtcbiAgICAgICAgICBkZWxldGUgbWF0Y2hEYXRhLmJsb2Nrc1N0cmluZztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLy8gVE9ETzogYWRkIGFiIHRlc3QgaW5mbyBoZXJlIGFuZCBvdGhlciBoaWdoIGxldmVsIHN0dWZmXG4gICAgICAgICAgZGF0YTogbWF0Y2hEYXRhLFxuICAgICAgICAgIGlkOiBtYXRjaC5pZCxcbiAgICAgICAgICB2YXJpYXRpb25JZDogbWF0Y2gudGVzdFZhcmlhdGlvbklkIHx8IG1hdGNoLnZhcmlhdGlvbklkIHx8IG51bGwsXG4gICAgICAgICAgdGVzdFZhcmlhdGlvbklkOiBtYXRjaC50ZXN0VmFyaWF0aW9uSWQgfHwgbWF0Y2gudmFyaWF0aW9uSWQgfHwgbnVsbCxcbiAgICAgICAgICB0ZXN0VmFyaWF0aW9uTmFtZTogbWF0Y2gudGVzdFZhcmlhdGlvbk5hbWUgfHwgbnVsbCxcbiAgICAgICAgICBsYXN0VXBkYXRlZDogbWF0Y2gubGFzdFVwZGF0ZWQgfHwgbnVsbCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICApO1xuICAgIC8vICk7XG4gIH1cblxuICAvLyBUT0RPOiBlbnRyeSBpZCBpbiBvcHRpb25zXG4gIHF1ZXVlR2V0Q29udGVudChtb2RlbE5hbWU6IHN0cmluZywgb3B0aW9uczogR2V0Q29udGVudE9wdGlvbnMgPSB7fSkge1xuICAgIC8vIFRPRE86IGlmIHF1ZXJ5IGRvIG1vZGVsTmFtZSArIHF1ZXJ5XG4gICAgY29uc3Qga2V5ID1cbiAgICAgIG9wdGlvbnMua2V5IHx8XG4gICAgICBvcHRpb25zLmFsaWFzIHx8XG4gICAgICAvLyBUT0RPOiBTREtzIG9ubHkgcGFzcyBlbnRyeSBrZXkgd2hlbiBnaXZlbiB0byB0aGVtLCBhbmQgbmV2ZXIgd2hlbiBlZGl0aW5nLi4uXG4gICAgICAvLyBvcHRpb25zLmVudHJ5IHx8XG5cbiAgICAgIC8vIFRPRE86IHRoaXMgaXMgdWdseSAtIGluc3RlYWQgb2YgbXVsdGlwbGUgb2Ygc2FtZSBtb2RlbCB3aXRoIGRpZmZlcmVudCBvcHRpb25zIGFyZSBzZW50XG4gICAgICAvLyBzYXkgcmVxdWlyZXMga2V5L2FsaWFzLiBPciBpZiBub3QgcGVyaGFwcyBtYWtlIGEgcmVsaWFibGUgaGFzaCBvZiB0aGUgb3B0aW9ucyBhbmQgdXNlIHRoYXQuXG4gICAgICAvLyBUT0RPOiBzdG9yZSBsYXN0IHVzZXIgc3RhdGUgb24gbGFzdCByZXF1ZXN0IGFuZCBpZiB1c2VyIGF0dHJpYnV0ZXMgZGlmZmVyZW50IG5vd1xuICAgICAgLy8gZ2l2ZSBhIHdhcm5pbmcgdGhhdCBuZWVkIHRvIHVzZSBrZXlzIHRvIHJlcXVlc3QgbmV3IGNvbnRlbnRlXG4gICAgICAvLyAob3B0aW9ucyAmJlxuICAgICAgLy8gICBPYmplY3Qua2V5cyhvcHRpb25zKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ21vZGVsJykubGVuZ3RoICYmXG4gICAgICAvLyAgIEpTT04uc3RyaW5naWZ5KHsgbW9kZWw6IG1vZGVsTmFtZSwgLi4ub3B0aW9ucywgaW5pdGlhbENvbnRlbnQ6IHVuZGVmaW5lZCB9KSkgfHxcbiAgICAgIG1vZGVsTmFtZTtcblxuICAgIGNvbnN0IGlzRWRpdGluZ1RoaXNNb2RlbCA9IHRoaXMuZWRpdGluZ01vZGVsID09PSBtb2RlbE5hbWU7XG4gICAgLy8gVE9ETzogaW5jbHVkZSBwYXJhbXMgaW4gdGhpcyBrZXkuLi4uLi4uLlxuICAgIGNvbnN0IGN1cnJlbnRPYnNlcnZhYmxlID0gdGhpcy5vYnNlcnZlcnNCeUtleVtrZXldIGFzIEJlaGF2aW9yU3ViamVjdDxCdWlsZGVyQ29udGVudFtdPiB8IG51bGw7XG5cbiAgICAvLyBpZiAob3B0aW9ucy5xdWVyeSAmJiBvcHRpb25zLnF1ZXJ5Ll9pZCkge1xuICAgIC8vICAgdGhpcy5mbHVzaEdldENvbnRlbnRRdWV1ZShbb3B0aW9uc10pXG4gICAgLy8gfVxuXG4gICAgaWYgKHRoaXMuYXBpS2V5ID09PSAnREVNTycgJiYgIXRoaXMub3ZlcnJpZGVzW2tleV0gJiYgIW9wdGlvbnMuaW5pdGlhbENvbnRlbnQpIHtcbiAgICAgIG9wdGlvbnMuaW5pdGlhbENvbnRlbnQgPSBbXTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluaXRpYWxDb250ZW50IH0gPSBvcHRpb25zO1xuXG4gICAgLy8gVE9ETzogcmVmcmVzaCBvcHRpb24gaW4gb3B0aW9uc1xuICAgIGlmIChjdXJyZW50T2JzZXJ2YWJsZSAmJiAoIWN1cnJlbnRPYnNlcnZhYmxlLnZhbHVlIHx8IG9wdGlvbnMuY2FjaGUpKSB7XG4gICAgICAvLyBUT0RPOiB0ZXN0IGlmIHRoaXMgcmFuLCBvdGhlcndpc2Ugb24gNDA0IHNvbWUgb2JzZXJ2ZXJzIG1heSBuZXZlciBiZSBjYWxsZWQuLi5cbiAgICAgIGlmIChjdXJyZW50T2JzZXJ2YWJsZS52YWx1ZSkge1xuICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgLy8gVE9ETzogcmV0dXJuIGEgbmV3IG9ic2VydmFibGUgYW5kIG9ubHkgdGhhdCBvbmUgZmlyZXMgc3Vic2NyaWJlcnMsIGRvbid0IHJlZmlyZSBmb3IgZXhpc3Rpbmcgb25lc1xuICAgICAgICAgIGN1cnJlbnRPYnNlcnZhYmxlLm5leHQoY3VycmVudE9ic2VydmFibGUudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyZW50T2JzZXJ2YWJsZTtcbiAgICB9XG4gICAgaWYgKGlzRWRpdGluZ1RoaXNNb2RlbCkge1xuICAgICAgaWYgKEJ1aWxkZXIuaXNCcm93c2VyKSB7XG4gICAgICAgIHBhcmVudC5wb3N0TWVzc2FnZSh7IHR5cGU6ICdidWlsZGVyLnVwZGF0ZUNvbnRlbnQnLCBkYXRhOiB7IG9wdGlvbnMgfSB9LCAnKicpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWluaXRpYWxDb250ZW50IC8qIHx8IGlzRWRpdGluZ1RoaXNNb2RlbCAqLykge1xuICAgICAgaWYgKCF0aGlzLmdldENvbnRlbnRRdWV1ZSkge1xuICAgICAgICB0aGlzLmdldENvbnRlbnRRdWV1ZSA9IFtdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmdldENvbnRlbnRRdWV1ZS5wdXNoKHsgLi4ub3B0aW9ucywgbW9kZWw6IG1vZGVsTmFtZSwga2V5IH0pO1xuICAgICAgaWYgKHRoaXMuZ2V0Q29udGVudFF1ZXVlICYmIHRoaXMuZ2V0Q29udGVudFF1ZXVlLmxlbmd0aCA+PSB0aGlzLmNvbnRlbnRQZXJSZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5nZXRDb250ZW50UXVldWUuc2xpY2UoKTtcbiAgICAgICAgdGhpcy5nZXRDb250ZW50UXVldWUgPSBbXTtcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZmx1c2hHZXRDb250ZW50UXVldWUoZmFsc2UsIHF1ZXVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgdGhpcy5mbHVzaEdldENvbnRlbnRRdWV1ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBvYnNlcnZhYmxlID0gbmV3IEJlaGF2aW9yU3ViamVjdDxCdWlsZGVyQ29udGVudFtdPihudWxsIGFzIGFueSk7XG4gICAgdGhpcy5vYnNlcnZlcnNCeUtleVtrZXldID0gb2JzZXJ2YWJsZTtcbiAgICBpZiAob3B0aW9ucy5ub0VkaXRvclVwZGF0ZXMpIHtcbiAgICAgIHRoaXMubm9FZGl0b3JVcGRhdGVzW2tleV0gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoaW5pdGlhbENvbnRlbnQpIHtcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgLy8gVE9ETzogbmVlZCB0byB0ZXN0TW9kaWZ5IHRoaXMgSSB0aGluay4uLj9cbiAgICAgICAgb2JzZXJ2YWJsZS5uZXh0KGluaXRpYWxDb250ZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgfVxuXG4gIC8vIHRoaXMgaXMgbmVlZGVkIHRvIHNhdGlzZnkgdGhlIEFuZ3VsYXIgU0RLLCB3aGljaCB1c2VkIHRvIHJlbHkgb24gdGhlIG1vcmUgY29tcGxleCB2ZXJzaW9uIG9mIGByZXF1ZXN0VXJsYC5cbiAgLy8gZXZlbiB0aG91Z2ggd2Ugb25seSB1c2UgYGZldGNoKClgIG5vdywgd2UgcHJlZmVyIHRvIGtlZXAgdGhlIG9sZCBiZWhhdmlvciBhbmQgdXNlIHRoZSBgZmV0Y2hgIHRoYXQgY29tZXMgZnJvbVxuICAvLyB0aGUgY29yZSBTREsgZm9yIGNvbnNpc3RlbmN5XG4gIHJlcXVlc3RVcmwoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IHsgaGVhZGVyczogeyBbaGVhZGVyOiBzdHJpbmddOiBudW1iZXIgfCBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZCB9OyBuZXh0PzogYW55IH1cbiAgKSB7XG4gICAgcmV0dXJuIGdldEZldGNoKCkodXJsLCB0aGlzLmFkZFNka0hlYWRlcnMob3B0aW9ucykpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpO1xuICB9XG5cbiAgZ2V0IGhvc3QoKSB7XG4gICAgc3dpdGNoICh0aGlzLmVudikge1xuICAgICAgY2FzZSAncWEnOlxuICAgICAgICByZXR1cm4gJ2h0dHBzOi8vcWEuYnVpbGRlci5pbyc7XG4gICAgICBjYXNlICd0ZXN0JzpcbiAgICAgICAgcmV0dXJuICdodHRwczovL2J1aWxkZXItaW8tdGVzdC53ZWIuYXBwJztcbiAgICAgIGNhc2UgJ2Zhc3QnOlxuICAgICAgICByZXR1cm4gJ2h0dHBzOi8vZmFzdC5idWlsZGVyLmlvJztcbiAgICAgIGNhc2UgJ2Nsb3VkJzpcbiAgICAgICAgcmV0dXJuICdodHRwczovL2Nsb3VkLmJ1aWxkZXIuaW8nO1xuICAgICAgY2FzZSAnY2RuMic6XG4gICAgICAgIHJldHVybiAnaHR0cHM6Ly9jZG4yLmJ1aWxkZXIuaW8nO1xuICAgICAgY2FzZSAnY2RuLXFhJzpcbiAgICAgICAgcmV0dXJuICdodHRwczovL2Nkbi1xYS5idWlsZGVyLmlvJztcbiAgICAgIGNhc2UgJ2RldmVsb3BtZW50JzpcbiAgICAgIGNhc2UgJ2Rldic6XG4gICAgICAgIHJldHVybiAnaHR0cDovL2xvY2FsaG9zdDo1MDAwJztcbiAgICAgIGNhc2UgJ2Nkbi1wcm9kJzpcbiAgICAgICAgcmV0dXJuICdodHRwczovL2Nkbi5idWlsZGVyLmlvJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBCdWlsZGVyLm92ZXJyaWRlSG9zdCB8fCAnaHR0cHM6Ly9jZG4uYnVpbGRlci5pbyc7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRTZGtIZWFkZXJzKCk6XG4gICAgfCB7XG4gICAgICAgICdYLUJ1aWxkZXItU0RLJzogc3RyaW5nO1xuICAgICAgICAnWC1CdWlsZGVyLVNESy1HRU4nOiAnMSc7XG4gICAgICAgICdYLUJ1aWxkZXItU0RLLVZlcnNpb24nOiBzdHJpbmc7XG4gICAgICB9XG4gICAgfCB7fSB7XG4gICAgaWYgKCFCdWlsZGVyLnNka0luZm8pIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgJ1gtQnVpbGRlci1TREsnOiBCdWlsZGVyLnNka0luZm8ubmFtZSxcbiAgICAgICdYLUJ1aWxkZXItU0RLLUdFTic6ICcxJyxcbiAgICAgICdYLUJ1aWxkZXItU0RLLVZlcnNpb24nOiBCdWlsZGVyLnNka0luZm8udmVyc2lvbixcbiAgICB9IGFzIGNvbnN0O1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRTZGtIZWFkZXJzKGZldGNoT3B0aW9uczogYW55KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmZldGNoT3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgLi4uZmV0Y2hPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgIC4uLnRoaXMuZ2V0U2RrSGVhZGVycygpLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBtYWtlRmV0Y2hBcGlDYWxsKHVybDogc3RyaW5nLCByZXF1ZXN0T3B0aW9uczogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gZ2V0RmV0Y2goKSh1cmwsIHRoaXMuYWRkU2RrSGVhZGVycyhyZXF1ZXN0T3B0aW9ucykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZsYXR0ZW4gYSBuZXN0ZWQgTW9uZ29EQiBxdWVyeSBvYmplY3QgaW50byBhIGZsYXQgb2JqZWN0IHdpdGggZG90LXNlcGFyYXRlZCBrZXlzLlxuICAgKiAkIGtleXMgYXJlIG5vdCBmbGF0dGVuZWQgYW5kIGFyZSBsZWZ0IGFzIGlzLlxuICAgKlxuICAgKiB7IGZvbzogeyBiYXI6IHsgJGd0OiA1IH19fSAtPiB7ICdmb28uYmFyJzogeyAnJGd0JzogNSB9fVxuICAgKiB7IGZvbzogeydiYXIuaWQnOiB7ICRlbGVtTWF0Y2g6IHsgJ2Jhei5pZCc6IHsgJGluOiBbJ2FiYycsICdiY2QnXSB9fX19fSAtPiB7ICdmb28uYmFyLmlkJzogeyAnJGVsZW1NYXRjaCc6IHsgJ2Jhei5pZCc6IHsgJyRpbic6IFsnYWJjJywgJ2JjZCddIH19fX1cbiAgICovXG4gIHByaXZhdGUgZmxhdHRlbk1vbmdvUXVlcnkob2JqOiBhbnksIF9jdXJyZW50PzogYW55LCBfcmVzOiBhbnkgPSB7fSk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0ge1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgIGNvbnN0IG5ld0tleSA9IF9jdXJyZW50ID8gX2N1cnJlbnQgKyAnLicgKyBrZXkgOiBrZXk7XG4gICAgICBpZiAoXG4gICAgICAgIHZhbHVlICYmXG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmXG4gICAgICAgICFPYmplY3Qua2V5cyh2YWx1ZSkuZmluZChpdGVtID0+IGl0ZW0uc3RhcnRzV2l0aCgnJCcpKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZmxhdHRlbk1vbmdvUXVlcnkodmFsdWUsIG5ld0tleSwgX3Jlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfcmVzW25ld0tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9yZXM7XG4gIH1cblxuICBwcml2YXRlIGZsdXNoR2V0Q29udGVudFF1ZXVlKHVzZVBhc3RRdWV1ZSA9IGZhbHNlLCB1c2VRdWV1ZT86IEdldENvbnRlbnRPcHRpb25zW10pIHtcbiAgICBpZiAoIXRoaXMuYXBpS2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBGZXRjaGluZyBjb250ZW50IGZhaWxlZCwgZXhwZWN0ZWQgYXBpS2V5IHRvIGJlIGRlZmluZWQgaW5zdGVhZCBnb3Q6ICR7dGhpcy5hcGlLZXl9YFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hcGlWZXJzaW9uKSB7XG4gICAgICBpZiAoIVsndjEnLCAndjMnXS5pbmNsdWRlcyh0aGlzLmFwaVZlcnNpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhcGlWZXJzaW9uOiBleHBlY3RlZCAndjEnIG9yICd2MycsIHJlY2VpdmVkICcke3RoaXMuYXBpVmVyc2lvbn0nYCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXBpVmVyc2lvbiA9IERFRkFVTFRfQVBJX1ZFUlNJT047XG4gICAgfVxuXG4gICAgaWYgKCF1c2VQYXN0UXVldWUgJiYgIXRoaXMuZ2V0Q29udGVudFF1ZXVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcXVldWUgPSB1c2VRdWV1ZSB8fCAodXNlUGFzdFF1ZXVlID8gdGhpcy5wcmlvckNvbnRlbnRRdWV1ZSA6IHRoaXMuZ2V0Q29udGVudFF1ZXVlKSB8fCBbXTtcblxuICAgIC8vIFRPRE86IGRvIHRoaXMgb24gZXZlcnkgcmVxdWVzdCBzZW5kP1xuICAgIHRoaXMuZ2V0T3ZlcnJpZGVzRnJvbVF1ZXJ5U3RyaW5nKCk7XG5cbiAgICBjb25zdCBxdWVyeVBhcmFtczogUGFyYW1zTWFwID0ge1xuICAgICAgLy8gVE9ETzogd2F5IHRvIGZvcmNlIGEgcmVxdWVzdCB0byBiZSBpbiBhIHNlcGFyYXRlIHF1ZXVlLiBvciBqdXN0IGxvd2VyIHF1ZXVlIGxpbWl0IHRvIGJlIDEgYnkgZGVmYXVsdFxuICAgICAgb21pdDogcXVldWVbMF0ub21pdCA/PyAnbWV0YS5jb21wb25lbnRzVXNlZCcsXG4gICAgICBhcGlLZXk6IHRoaXMuYXBpS2V5LFxuICAgICAgLi4ucXVldWVbMF0ub3B0aW9ucyxcbiAgICAgIC4uLnRoaXMucXVlcnlPcHRpb25zLFxuICAgIH07XG5cbiAgICBpZiAocXVldWVbMF0ubG9jYWxlKSB7XG4gICAgICBxdWVyeVBhcmFtcy5sb2NhbGUgPSBxdWV1ZVswXS5sb2NhbGU7XG4gICAgfVxuICAgIGlmIChxdWV1ZVswXS5maWVsZHMpIHtcbiAgICAgIHF1ZXJ5UGFyYW1zLmZpZWxkcyA9IHF1ZXVlWzBdLmZpZWxkcztcbiAgICB9XG4gICAgaWYgKHF1ZXVlWzBdLmZvcm1hdCkge1xuICAgICAgcXVlcnlQYXJhbXMuZm9ybWF0ID0gcXVldWVbMF0uZm9ybWF0O1xuICAgIH1cbiAgICBpZiAoJ25vVHJhdmVyc2UnIGluIHF1ZXVlWzBdKSB7XG4gICAgICBxdWVyeVBhcmFtcy5ub1RyYXZlcnNlID0gcXVldWVbMF0ubm9UcmF2ZXJzZTtcbiAgICB9XG4gICAgaWYgKCdpbmNsdWRlVW5wdWJsaXNoZWQnIGluIHF1ZXVlWzBdKSB7XG4gICAgICBxdWVyeVBhcmFtcy5pbmNsdWRlVW5wdWJsaXNoZWQgPSBxdWV1ZVswXS5pbmNsdWRlVW5wdWJsaXNoZWQ7XG4gICAgfVxuICAgIGlmIChxdWV1ZVswXS5zb3J0KSB7XG4gICAgICBxdWVyeVBhcmFtcy5zb3J0ID0gcXVldWVbMF0uc29ydDtcbiAgICB9XG5cbiAgICBjb25zdCBwYWdlUXVlcnlQYXJhbXM6IFBhcmFtc01hcCA9XG4gICAgICAodHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IFF1ZXJ5U3RyaW5nLnBhcnNlRGVlcChsb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpKVxuICAgICAgICA6IHVuZGVmaW5lZCkgfHwge307IC8vIFRPRE86IFdIQVQgYWJvdXQgU1NSICh0aGlzLnJlcXVlc3QpID9cblxuICAgIGNvbnN0IHVzZXJBdHRyaWJ1dGVzID1cbiAgICAgIC8vIEZJWE1FOiBIQUNLOiBvbmx5IGNoZWNrcyBmaXJzdCBpbiBxdWV1ZSBmb3IgdXNlciBhdHRyaWJ1dGVzIG92ZXJyaWRlcywgc2hvdWxkIGNoZWNrIGFsbFxuICAgICAgLy8gVE9ETzogbWVyZ2UgdXNlciBhdHRyaWJ1dGVzIHByb3ZpZGVkIGhlcmUgd2l0aCBkZWZhdWx0cyBhbmQgY3VycmVudCB1c2VyIGF0dGlyaWJ1dGVzICg/KVxuICAgICAgcXVldWUgJiYgcXVldWVbMF0udXNlckF0dHJpYnV0ZXNcbiAgICAgICAgPyBxdWV1ZVswXS51c2VyQXR0cmlidXRlc1xuICAgICAgICA6IHRoaXMudGFyZ2V0Q29udGVudFxuICAgICAgICAgID8gdGhpcy5nZXRVc2VyQXR0cmlidXRlcygpXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIHVybFBhdGg6IHRoaXMuZ2V0TG9jYXRpb24oKS5wYXRobmFtZSxcbiAgICAgICAgICAgIH07XG5cbiAgICBjb25zdCBmdWxsVXJsUXVldWVJdGVtID0gcXVldWUuZmluZChpdGVtID0+ICEhaXRlbS5pbmNsdWRlVXJsKTtcbiAgICBpZiAoZnVsbFVybFF1ZXVlSXRlbSkge1xuICAgICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLmdldExvY2F0aW9uKCk7XG4gICAgICBpZiAobG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLnVybCA9IGAke2xvY2F0aW9uLm9yaWdpbn0ke2xvY2F0aW9uLnBhdGhuYW1lfSR7bG9jYXRpb24uc2VhcmNofWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdXJsUXVldWVJdGVtID0gdXNlUXVldWU/LmZpbmQoaXRlbSA9PiBpdGVtLnVybCk7XG4gICAgaWYgKHVybFF1ZXVlSXRlbT8udXJsKSB7XG4gICAgICB1c2VyQXR0cmlidXRlcy51cmxQYXRoID0gdXJsUXVldWVJdGVtLnVybC5zcGxpdCgnPycpWzBdO1xuICAgIH1cbiAgICAvLyBUT0RPOiBtZXJnZSBpbiB0aGUgYXR0cmlidXRlIGZyb20gcXVlcnkgc3RyaW5nIG9uZXNcbiAgICAvLyBUT0RPOiBtYWtlIHRoaXMgYW4gb3B0aW9uIHBlciBjb21wb25lbnQvcmVxdWVzdFxuICAgIHF1ZXJ5UGFyYW1zLnVzZXJBdHRyaWJ1dGVzID0gSlNPTi5zdHJpbmdpZnkodXNlckF0dHJpYnV0ZXMpO1xuXG4gICAgaWYgKCF1c2VQYXN0UXVldWUgJiYgIXVzZVF1ZXVlKSB7XG4gICAgICB0aGlzLnByaW9yQ29udGVudFF1ZXVlID0gcXVldWU7XG4gICAgICB0aGlzLmdldENvbnRlbnRRdWV1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgY2FjaGVidXN0ID1cbiAgICAgIHRoaXMuY2FjaGVidXN0IHx8XG4gICAgICBpc0lmcmFtZSB8fFxuICAgICAgcGFnZVF1ZXJ5UGFyYW1zLmNhY2hlYnVzdCB8fFxuICAgICAgcGFnZVF1ZXJ5UGFyYW1zWydidWlsZGVyLmNhY2hlYnVzdCddO1xuXG4gICAgaWYgKGNhY2hlYnVzdCB8fCB0aGlzLmVudiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBxdWVyeVBhcmFtcy5jYWNoZWJ1c3QgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChCdWlsZGVyLmlzRWRpdGluZykge1xuICAgICAgcXVlcnlQYXJhbXMuaXNFZGl0aW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ub0NhY2hlIHx8IHRoaXMuZW52ICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHF1ZXJ5UGFyYW1zLm5vQ2FjaGUgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChzaXplKHRoaXMub3ZlcnJpZGVzKSkge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5vdmVycmlkZXMpIHtcbiAgICAgICAgaWYgKHRoaXMub3ZlcnJpZGVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtc1tgb3ZlcnJpZGVzLiR7a2V5fWBdID0gdGhpcy5vdmVycmlkZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3Qgb3B0aW9ucyBvZiBxdWV1ZSkge1xuICAgICAgY29uc3QgZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQ7XG5cbiAgICAgIGlmIChmb3JtYXQpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuZm9ybWF0ID0gZm9ybWF0O1xuICAgICAgfVxuICAgICAgLy8gVE9ETzogcmVtb3ZlIG1lIGFuZCBtYWtlIHBlcm1vZGVsXG4gICAgICBpZiAob3B0aW9ucy5zdGF0aWMpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuc3RhdGljID0gb3B0aW9ucy5zdGF0aWM7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmNhY2hlYnVzdCkge1xuICAgICAgICBxdWVyeVBhcmFtcy5jYWNoZWJ1c3QgPSBvcHRpb25zLmNhY2hlYnVzdDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzUG9zaXRpdmVOdW1iZXIob3B0aW9ucy5jYWNoZVNlY29uZHMpKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLmNhY2hlU2Vjb25kcyA9IG9wdGlvbnMuY2FjaGVTZWNvbmRzO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNQb3NpdGl2ZU51bWJlcihvcHRpb25zLnN0YWxlQ2FjaGVTZWNvbmRzKSkge1xuICAgICAgICBxdWVyeVBhcmFtcy5zdGFsZUNhY2hlU2Vjb25kcyA9IG9wdGlvbnMuc3RhbGVDYWNoZVNlY29uZHM7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmFwaUVuZHBvaW50ID09PSAnY29udGVudCcpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuaW5jbHVkZVJlZnMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcm9wZXJ0aWVzOiAoa2V5b2YgR2V0Q29udGVudE9wdGlvbnMpW10gPSBbXG4gICAgICAgICdwcmVyZW5kZXInLFxuICAgICAgICAnZXh0cmFjdENzcycsXG4gICAgICAgICdsaW1pdCcsXG4gICAgICAgICdvZmZzZXQnLFxuICAgICAgICAncXVlcnknLFxuICAgICAgICAncHJldmlldycsXG4gICAgICAgICdtb2RlbCcsXG4gICAgICAgICdlbnRyeScsXG4gICAgICAgICdyZXYnLFxuICAgICAgICAnc3RhdGljJyxcbiAgICAgICAgJ2luY2x1ZGVSZWZzJyxcbiAgICAgIF07XG5cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIHByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW2tleV07XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHRoaXMuYXBpRW5kcG9pbnQgPT09ICdxdWVyeScpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLm9wdGlvbnMgPSBxdWVyeVBhcmFtcy5vcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMub3B0aW9uc1tvcHRpb25zLmtleSFdID0gcXVlcnlQYXJhbXMub3B0aW9uc1tvcHRpb25zLmtleSFdIHx8IHt9O1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMub3B0aW9uc1tvcHRpb25zLmtleSFdW2tleV0gPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zW2tleV0gPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnByZXZpZXcgJiYgdGhpcy5wcmV2aWV3aW5nTW9kZWwgPT09IHF1ZXVlPy5bMF0/Lm1vZGVsKSB7XG4gICAgICBxdWVyeVBhcmFtcy5wcmV2aWV3ID0gJ3RydWUnO1xuICAgIH1cbiAgICBjb25zdCBoYXNQYXJhbXMgPSBPYmplY3Qua2V5cyhxdWVyeVBhcmFtcykubGVuZ3RoID4gMDtcblxuICAgIC8vIFRPRE86IG9wdGlvbiB0byBmb3JjZSBkZXYgb3IgcWEgYXBpIGhlcmVcbiAgICBjb25zdCBob3N0ID0gdGhpcy5ob3N0O1xuXG4gICAgY29uc3Qga2V5TmFtZXMgPSBxdWV1ZS5tYXAoaXRlbSA9PiBlbmNvZGVVUklDb21wb25lbnQoaXRlbS5rZXkhKSkuam9pbignLCcpO1xuXG4gICAgaWYgKHRoaXMub3ZlcnJpZGVQYXJhbXMpIHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IG9taXQoUXVlcnlTdHJpbmcucGFyc2UodGhpcy5vdmVycmlkZVBhcmFtcyksICdhcGlLZXknKTtcbiAgICAgIGFzc2lnbihxdWVyeVBhcmFtcywgcGFyYW1zKTtcbiAgICB9XG5cbiAgICBjb25zdCBmb3JtYXQgPSBxdWVyeVBhcmFtcy5mb3JtYXQ7XG4gICAgY29uc3QgaXNBcGlDYWxsRm9yQ29kZWdlbiA9IGZvcm1hdCA9PT0gJ3NvbGlkJyB8fCBmb3JtYXQgPT09ICdyZWFjdCc7XG4gICAgY29uc3QgaXNBcGlDYWxsRm9yQ29kZWdlbk9yUXVlcnkgPSBpc0FwaUNhbGxGb3JDb2RlZ2VuIHx8IHRoaXMuYXBpRW5kcG9pbnQgPT09ICdxdWVyeSc7XG5cbiAgICBpZiAodGhpcy5hcGlFbmRwb2ludCA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICBpZiAocXVldWVbMF0ucXVlcnkpIHtcbiAgICAgICAgZGVsZXRlIHF1ZXJ5UGFyYW1zLnF1ZXJ5O1xuICAgICAgICBjb25zdCBvYmplY3RUb0ZsYXR0ZW4gPSB7IHF1ZXJ5OiBxdWV1ZVswXS5xdWVyeSB9O1xuICAgICAgICBjb25zdCBmbGF0dGVuZWQgPSB0aGlzLmZsYXR0ZW5Nb25nb1F1ZXJ5KG9iamVjdFRvRmxhdHRlbik7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGZsYXR0ZW5lZCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1zW2tleV0gPSBKU09OLnN0cmluZ2lmeShmbGF0dGVuZWRba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBxdWVyeVN0ciA9IFF1ZXJ5U3RyaW5nLnN0cmluZ2lmeURlZXAocXVlcnlQYXJhbXMpO1xuXG4gICAgY29uc3QgZmV0Y2hPcHRpb25zID0geyBoZWFkZXJzOiB7fSwgLi4ucXVldWVbMF0uZmV0Y2hPcHRpb25zIH07XG4gICAgaWYgKHRoaXMuYXV0aFRva2VuKSB7XG4gICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgLi4uZmV0Y2hPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmF1dGhUb2tlbn1gLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgdXJsO1xuICAgIGlmIChpc0FwaUNhbGxGb3JDb2RlZ2VuKSB7XG4gICAgICB1cmwgPSBgJHtob3N0fS9hcGkvdjEvY29kZWdlbi8ke3RoaXMuYXBpS2V5fS8ke2tleU5hbWVzfWA7XG4gICAgfSBlbHNlIGlmICh0aGlzLmFwaUVuZHBvaW50ID09PSAncXVlcnknKSB7XG4gICAgICB1cmwgPSBgJHtob3N0fS9hcGkvdjMvcXVlcnkvJHt0aGlzLmFwaUtleX0vJHtrZXlOYW1lc31gO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cmwgPSBgJHtob3N0fS9hcGkvdjMvY29udGVudC8ke3F1ZXVlWzBdLm1vZGVsfWA7XG4gICAgfVxuXG4gICAgdXJsID0gdXJsICsgKHF1ZXJ5UGFyYW1zICYmIGhhc1BhcmFtcyA/IGA/JHtxdWVyeVN0cn1gIDogJycpO1xuXG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMubWFrZUZldGNoQXBpQ2FsbCh1cmwsIGZldGNoT3B0aW9ucylcbiAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oXG4gICAgICAgIHJlc3VsdCA9PiB7XG4gICAgICAgICAgZm9yIChjb25zdCBvcHRpb25zIG9mIHF1ZXVlKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlOYW1lID0gb3B0aW9ucy5rZXkhO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubW9kZWwgPT09IHRoaXMuYmxvY2tDb250ZW50TG9hZGluZyAmJiAhb3B0aW9ucy5ub0VkaXRvclVwZGF0ZXMpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGlzRWRpdGluZ1RoaXNNb2RlbCA9IHRoaXMuZWRpdGluZ01vZGVsID09PSBvcHRpb25zLm1vZGVsO1xuICAgICAgICAgICAgaWYgKGlzRWRpdGluZ1RoaXNNb2RlbCAmJiBCdWlsZGVyLmlzRWRpdGluZykge1xuICAgICAgICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyB0eXBlOiAnYnVpbGRlci51cGRhdGVDb250ZW50JywgZGF0YTogeyBvcHRpb25zIH0gfSwgJyonKTtcbiAgICAgICAgICAgICAgLy8gcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc0J5S2V5W2tleU5hbWVdO1xuICAgICAgICAgICAgaWYgKCFvYnNlcnZlcikge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gaXNBcGlDYWxsRm9yQ29kZWdlbk9yUXVlcnkgPyByZXN1bHRba2V5TmFtZV0gOiByZXN1bHQucmVzdWx0cztcbiAgICAgICAgICAgIGNvbnN0IHNvcnRlZCA9IGRhdGE7IC8vIHNvcnRCeShkYXRhLCBpdGVtID0+IGl0ZW0ucHJpb3JpdHkpO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgY29uc3QgdGVzdE1vZGlmaWVkUmVzdWx0cyA9IEJ1aWxkZXIuaXNTZXJ2ZXJcbiAgICAgICAgICAgICAgICA/IHNvcnRlZFxuICAgICAgICAgICAgICAgIDogdGhpcy5wcm9jZXNzUmVzdWx0c0ZvclRlc3RzKHNvcnRlZCk7XG4gICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodGVzdE1vZGlmaWVkUmVzdWx0cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBzZWFyY2ggPSB0aGlzLmdldExvY2F0aW9uKCkuc2VhcmNoO1xuICAgICAgICAgICAgICBpZiAoKHNlYXJjaCB8fCAnJykuaW5jbHVkZXMoJ2J1aWxkZXIucHJldmlldz0nICsgb3B0aW9ucy5tb2RlbCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aWV3RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgIGlkOiAncHJldmlldycsXG4gICAgICAgICAgICAgICAgICBuYW1lOiAnUHJldmlldycsXG4gICAgICAgICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoW3ByZXZpZXdEYXRhXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnIgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9ucyBvZiBxdWV1ZSkge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc0J5S2V5W29wdGlvbnMua2V5IV07XG4gICAgICAgICAgICBpZiAoIW9ic2VydmVyKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBwcml2YXRlIHRlc3RDb29raWVQcmVmaXggPSAnYnVpbGRlci50ZXN0cyc7XG5cbiAgcHJpdmF0ZSBwcm9jZXNzUmVzdWx0c0ZvclRlc3RzKHJlc3VsdHM6IEJ1aWxkZXJDb250ZW50W10pIHtcbiAgICBjb25zdCBtYXBwZWRSZXN1bHRzID0gcmVzdWx0cy5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoIWl0ZW0udmFyaWF0aW9ucykge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvb2tpZVZhbHVlID0gdGhpcy5nZXRUZXN0Q29va2llKGl0ZW0uaWQhKTtcbiAgICAgIGNvbnN0IGNvb2tpZVZhcmlhdGlvbiA9IGNvb2tpZVZhbHVlID09PSBpdGVtLmlkID8gaXRlbSA6IGl0ZW0udmFyaWF0aW9uc1tjb29raWVWYWx1ZV07XG4gICAgICBpZiAoY29va2llVmFyaWF0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICBkYXRhOiBjb29raWVWYXJpYXRpb24uZGF0YSxcbiAgICAgICAgICB2YXJpYXRpb25JZDogY29va2llVmFsdWUsXG4gICAgICAgICAgdGVzdFZhcmlhdGlvbklkOiBjb29raWVWYWx1ZSxcbiAgICAgICAgICB0ZXN0VmFyaWF0aW9uTmFtZTogY29va2llVmFyaWF0aW9uLm5hbWUsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jYW5UcmFjayAmJiBpdGVtLnZhcmlhdGlvbnMgJiYgc2l6ZShpdGVtLnZhcmlhdGlvbnMpKSB7XG4gICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgY29uc3QgcmFuZG9tID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBpdGVtLnZhcmlhdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCB2YXJpYXRpb24gPSBpdGVtLnZhcmlhdGlvbnNbaWRdITtcbiAgICAgICAgICBjb25zdCB0ZXN0UmF0aW8gPSB2YXJpYXRpb24udGVzdFJhdGlvO1xuICAgICAgICAgIG4gKz0gdGVzdFJhdGlvITtcbiAgICAgICAgICBpZiAocmFuZG9tIDwgbikge1xuICAgICAgICAgICAgdGhpcy5zZXRUZXN0Q29va2llKGl0ZW0uaWQhLCB2YXJpYXRpb24uaWQhKTtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhdGlvbk5hbWUgPVxuICAgICAgICAgICAgICB2YXJpYXRpb24ubmFtZSB8fCAodmFyaWF0aW9uLmlkID09PSBpdGVtLmlkID8gJ0RlZmF1bHQgdmFyaWF0aW9uJyA6ICcnKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgIGRhdGE6IHZhcmlhdGlvbi5kYXRhLFxuICAgICAgICAgICAgICB2YXJpYXRpb25JZDogdmFyaWF0aW9uLmlkLFxuICAgICAgICAgICAgICB0ZXN0VmFyaWF0aW9uSWQ6IHZhcmlhdGlvbi5pZCxcbiAgICAgICAgICAgICAgdmFyaWF0aW9uTmFtZTogdmFyaWF0aW9uTmFtZSxcbiAgICAgICAgICAgICAgdGVzdFZhcmlhdGlvbk5hbWU6IHZhcmlhdGlvbk5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFRlc3RDb29raWUoaXRlbS5pZCEsIGl0ZW0uaWQhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIHZhcmlhdGlvbklkOiBpdGVtLmlkLFxuICAgICAgICAuLi4oaXRlbS52YXJpYXRpb25zICYmXG4gICAgICAgICAgc2l6ZShpdGVtLnZhcmlhdGlvbnMpICYmIHtcbiAgICAgICAgICAgIHRlc3RWYXJpYXRpb25JZDogaXRlbS5pZCxcbiAgICAgICAgICAgIHRlc3RWYXJpYXRpb25OYW1lOiAnRGVmYXVsdCB2YXJpYXRpb24nLFxuICAgICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGlmIChpc0lmcmFtZSkge1xuICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgIHsgdHlwZTogJ2J1aWxkZXIuY29udGVudFJlc3VsdHMnLCBkYXRhOiB7IHJlc3VsdHM6IG1hcHBlZFJlc3VsdHMgfSB9LFxuICAgICAgICAnKidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcHBlZFJlc3VsdHM7XG4gIH1cblxuICBwcml2YXRlIGdldFRlc3RDb29raWUoY29udGVudElkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb29raWUoYCR7dGhpcy50ZXN0Q29va2llUHJlZml4fS4ke2NvbnRlbnRJZH1gKTtcbiAgfVxuXG4gIHByaXZhdGUgY29va2llUXVldWU6IFtzdHJpbmcsIHN0cmluZ11bXSA9IFtdO1xuXG4gIHByaXZhdGUgc2V0VGVzdENvb2tpZShjb250ZW50SWQ6IHN0cmluZywgdmFyaWF0aW9uSWQ6IHN0cmluZykge1xuICAgIGlmICghdGhpcy5jYW5UcmFjaykge1xuICAgICAgdGhpcy5jb29raWVRdWV1ZS5wdXNoKFtjb250ZW50SWQsIHZhcmlhdGlvbklkXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gMzAgZGF5cyBmcm9tIG5vd1xuICAgIGNvbnN0IGZ1dHVyZSA9IG5ldyBEYXRlKCk7XG4gICAgZnV0dXJlLnNldERhdGUoZnV0dXJlLmdldERhdGUoKSArIDMwKTtcblxuICAgIHJldHVybiB0aGlzLnNldENvb2tpZShgJHt0aGlzLnRlc3RDb29raWVQcmVmaXh9LiR7Y29udGVudElkfWAsIHZhcmlhdGlvbklkLCBmdXR1cmUpO1xuICB9XG5cbiAgZ2V0Q29va2llKG5hbWU6IHN0cmluZyk6IGFueSB7XG4gICAgaWYgKHRoaXMuY29va2llcykge1xuICAgICAgcmV0dXJuIHRoaXMuY29va2llcy5nZXQobmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBCdWlsZGVyLmlzQnJvd3NlciAmJiBnZXRDb29raWUobmFtZSk7XG4gIH1cblxuICBzZXRDb29raWUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55LCBleHBpcmVzPzogRGF0ZSkge1xuICAgIGlmICh0aGlzLmNvb2tpZXMgJiYgIShCdWlsZGVyLmlzU2VydmVyICYmIEJ1aWxkZXIuaXNTdGF0aWMpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29raWVzLnNldChuYW1lLCB2YWx1ZSwge1xuICAgICAgICBleHBpcmVzLFxuICAgICAgICBzZWN1cmU6IHRoaXMuZ2V0TG9jYXRpb24oKS5wcm90b2NvbCA9PT0gJ2h0dHBzOicsXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIEJ1aWxkZXIuaXNCcm93c2VyICYmIHNldENvb2tpZShuYW1lLCB2YWx1ZSwgZXhwaXJlcyk7XG4gIH1cblxuICBnZXRDb250ZW50KG1vZGVsTmFtZTogc3RyaW5nLCBvcHRpb25zOiBHZXRDb250ZW50T3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCF0aGlzLmFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRmV0Y2hpbmcgY29udGVudCBmcm9tIG1vZGVsICR7bW9kZWxOYW1lfSBmYWlsZWQsIGV4cGVjdGVkIGFwaUtleSB0byBiZSBkZWZpbmVkIGluc3RlYWQgZ290OiAke3RoaXMuYXBpS2V5fWBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnF1ZXVlR2V0Q29udGVudChtb2RlbE5hbWUsIG9wdGlvbnMpO1xuICB9XG5cbiAgZ2V0QWxsKFxuICAgIG1vZGVsTmFtZTogc3RyaW5nLFxuICAgIG9wdGlvbnM6IEdldENvbnRlbnRPcHRpb25zICYge1xuICAgICAgcmVxPzogSW5jb21pbmdNZXNzYWdlO1xuICAgICAgcmVzPzogU2VydmVyUmVzcG9uc2U7XG4gICAgICBhcGlLZXk/OiBzdHJpbmc7XG4gICAgICBhdXRoVG9rZW4/OiBzdHJpbmc7XG4gICAgfSA9IHt9XG4gICk6IFByb21pc2U8QnVpbGRlckNvbnRlbnRbXT4ge1xuICAgIGxldCBpbnN0YW5jZTogQnVpbGRlciA9IHRoaXM7XG4gICAgaWYgKCFCdWlsZGVyLmlzQnJvd3Nlcikge1xuICAgICAgaW5zdGFuY2UgPSBuZXcgQnVpbGRlcihcbiAgICAgICAgb3B0aW9ucy5hcGlLZXkgfHwgdGhpcy5hcGlLZXksXG4gICAgICAgIG9wdGlvbnMucmVxLFxuICAgICAgICBvcHRpb25zLnJlcyxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIG9wdGlvbnMuYXV0aFRva2VuIHx8IHRoaXMuYXV0aFRva2VuLFxuICAgICAgICBvcHRpb25zLmFwaVZlcnNpb24gfHwgdGhpcy5hcGlWZXJzaW9uXG4gICAgICApO1xuICAgICAgaW5zdGFuY2Uuc2V0VXNlckF0dHJpYnV0ZXModGhpcy5nZXRVc2VyQXR0cmlidXRlcygpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTk9URTogQWxsIHRoZXNlIGFyZSB3aGVuIC5pbml0IGlzIG5vdCBjYWxsZWQgYW5kIHRoZSBjdXN0b21lclxuICAgICAgLy8gZGlyZWN0bHkgY2FsbHMgLmdldCBvbiB0aGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIEJ1aWxkZXJcbiAgICAgIGlmIChvcHRpb25zLmFwaUtleSAmJiAhdGhpcy5hcGlLZXkpIHtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBvcHRpb25zLmFwaUtleTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmF1dGhUb2tlbiAmJiAhdGhpcy5hdXRoVG9rZW4pIHtcbiAgICAgICAgdGhpcy5hdXRoVG9rZW4gPSBvcHRpb25zLmF1dGhUb2tlbjtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmFwaVZlcnNpb24gJiYgIXRoaXMuYXBpVmVyc2lvbikge1xuICAgICAgICB0aGlzLmFwaVZlcnNpb24gPSBvcHRpb25zLmFwaVZlcnNpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IG5vVHJhdmVyc2U9dHJ1ZSBpZiBOT1QgYWxyZWFkeSBwYXNzZWQgYnkgdXNlciwgZm9yIHF1ZXJ5IHBlcmZvcm1hbmNlXG4gICAgaWYgKCEoJ25vVHJhdmVyc2UnIGluIG9wdGlvbnMpKSB7XG4gICAgICBvcHRpb25zLm5vVHJhdmVyc2UgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBpbnN0YW5jZVxuICAgICAgLmdldENvbnRlbnQobW9kZWxOYW1lLCB7XG4gICAgICAgIGxpbWl0OiAzMCxcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAga2V5OlxuICAgICAgICAgIG9wdGlvbnMua2V5IHx8XG4gICAgICAgICAgLy8gTWFrZSB0aGUga2V5IGluY2x1ZGUgYWxsIG9wdGlvbnMsIHNvIHdlIGRvbid0IHJldXNlIGNhY2hlIGZvciB0aGUgc2FtZSBjb250ZW50IGZldGNoZWRcbiAgICAgICAgICAvLyB3aXRoIGRpZmZlcmVudCBvcHRpb25zXG4gICAgICAgICAgQnVpbGRlci5pc0Jyb3dzZXJcbiAgICAgICAgICAgID8gYCR7bW9kZWxOYW1lfToke2hhc2gob21pdChvcHRpb25zLCAnaW5pdGlhbENvbnRlbnQnLCAncmVxJywgJ3JlcycpKX1gXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIH0pXG4gICAgICAucHJvbWlzZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBCdWlsZGVyIH0gZnJvbSAnLi4vYnVpbGRlci5jbGFzcyc7XG5cbmV4cG9ydCBjb25zdCBidWlsZGVyID0gbmV3IEJ1aWxkZXIobnVsbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUpO1xuQnVpbGRlci5zaW5nbGV0b25JbnN0YW5jZSA9IGJ1aWxkZXI7XG4iXSwibmFtZXMiOlsiUHJvbWlzZSIsInNlcnZlck9ubHlSZXF1aXJlIiwicGFyc2UiLCJ1cmxQYXJzZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@builder.io/sdk/dist/index.esm.js\n");

/***/ })

};
;