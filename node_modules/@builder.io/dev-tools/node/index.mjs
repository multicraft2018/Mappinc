var u=Object.create;var x=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var d=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var C=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(n,i)=>(typeof require<"u"?require:n)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var w=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var v=(t,n,i,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let e of y(n))!h.call(t,e)&&e!==i&&x(t,e,{get:()=>n[e],enumerable:!(r=f(n,e))||r.enumerable});return t};var F=(t,n,i)=>(i=t!=null?u(d(t)):{},v(n||!t||!t.__esModule?x(i,"default",{value:t,enumerable:!0}):i,t));var S=w((q,c)=>{var O=C("tty"),D=!("NO_COLOR"in process.env||process.argv.includes("--no-color"))&&("FORCE_COLOR"in process.env||process.argv.includes("--color")||process.platform==="win32"||O.isatty(1)&&process.env.TERM!=="dumb"||"CI"in process.env),o=(t,n,i=t)=>r=>{let e=""+r,s=e.indexOf(n,t.length);return~s?t+b(e,n,i,s)+n:t+e+n},b=(t,n,i,r)=>{let e=t.substring(0,r)+i,s=t.substring(r+n.length),a=s.indexOf(n);return~a?e+b(s,n,i,a):e+s},l=(t=D)=>({isColorSupported:t,reset:t?n=>`\x1B[0m${n}\x1B[0m`:String,bold:t?o("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"):String,dim:t?o("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"):String,italic:t?o("\x1B[3m","\x1B[23m"):String,underline:t?o("\x1B[4m","\x1B[24m"):String,inverse:t?o("\x1B[7m","\x1B[27m"):String,hidden:t?o("\x1B[8m","\x1B[28m"):String,strikethrough:t?o("\x1B[9m","\x1B[29m"):String,black:t?o("\x1B[30m","\x1B[39m"):String,red:t?o("\x1B[31m","\x1B[39m"):String,green:t?o("\x1B[32m","\x1B[39m"):String,yellow:t?o("\x1B[33m","\x1B[39m"):String,blue:t?o("\x1B[34m","\x1B[39m"):String,magenta:t?o("\x1B[35m","\x1B[39m"):String,cyan:t?o("\x1B[36m","\x1B[39m"):String,white:t?o("\x1B[37m","\x1B[39m"):String,gray:t?o("\x1B[90m","\x1B[39m"):String,bgBlack:t?o("\x1B[40m","\x1B[49m"):String,bgRed:t?o("\x1B[41m","\x1B[49m"):String,bgGreen:t?o("\x1B[42m","\x1B[49m"):String,bgYellow:t?o("\x1B[43m","\x1B[49m"):String,bgBlue:t?o("\x1B[44m","\x1B[49m"):String,bgMagenta:t?o("\x1B[45m","\x1B[49m"):String,bgCyan:t?o("\x1B[46m","\x1B[49m"):String,bgWhite:t?o("\x1B[47m","\x1B[49m"):String});c.exports=l();c.exports.createColors=l});var g=F(S(),1);import{access as k,mkdir as E,readdir as T,readFile as R,stat as N,writeFile as I}from"fs/promises";import{existsSync as M,readdirSync as $,readFileSync as B}from"fs";import{createHash as G}from"crypto";import m from"path";import p from"prettier";import L from"typescript";async function P(t){let n=new Set;return{...m,getRootDir:t.getRootDir,cwd:()=>process.cwd(),exists:async r=>{try{return await k(r),!0}catch{return!1}},existsSync:M,readdir:r=>T(r),readdirSync:$,readFile:async r=>{try{return await R(r,"utf-8")}catch(e){if(e.code==="ENOENT")return null;throw e}},readFileSync(r){try{return B(r,"utf-8")}catch(e){if(e.code==="ENOENT")return null;throw e}},stat:r=>N(r),writeFile:async(r,e)=>{r=m.normalize(r);let s={path:r,basename:m.basename(r),dirname:m.dirname(r),extname:m.extname(r)};await E(m.dirname(r),{recursive:!0}),await I(r,e);for(let a of n)await a(s)},hash:async r=>{let e=G("md5");return e.update(r),e.digest("hex")},formatCode:async(r,e)=>{let s=null;try{s=await p.resolveConfig(r)}catch{}return p.format(e,{...s,filepath:r})},on:(r,e)=>{r==="change"&&n.add(e)},off:(r,e)=>{r==="change"&&n.delete(e)},debug:(...r)=>{if(process.env.DEBUG){let e=new Date,s=`${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}.${String(e.getMilliseconds()).padStart(3,"0")}`;console.debug(g.default.dim(s),g.default.cyan("[builder-dev-tools]"),...r)}},openEditor:async r=>{(await import("open-editor")).default(r)},ts:L}}export{P as createDevToolsNodeSys};
